import{a as Ys,b as ia,c as ae,d as D,h as Xs,i as Ht,j as Sr}from"/build/_shared/chunk-5Z4LRYQI.js";import{c as je}from"/build/_shared/chunk-QG6SMXA4.js";import{a as Ee,b as Ks,d as Ke,e as Tr,f as kr}from"/build/_shared/chunk-O7JZK4EV.js";import{b as Ge}from"/build/_shared/chunk-AJH6SR5C.js";import{a as oa,c as Vs,f as Js,j as Zs}from"/build/_shared/chunk-TGGDRRNK.js";import{a as kt,c as xt,e as st,g as mt}from"/build/_shared/chunk-XDMRC4Q6.js";var tn=xt(($d,en)=>{"use strict";function Ne(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Qs(t,e){for(var r="",s=0,n=-1,i=0,o,a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||i===1))if(n!==a-1&&i===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",s=0):(r=r.slice(0,u),s=r.length-1-r.lastIndexOf("/")),n=a,i=0;continue}}else if(r.length===2||r.length===1){r="",s=0,n=a,i=0;continue}}e&&(r.length>0?r+="/..":r="..",s=2)}else r.length>0?r+="/"+t.slice(n+1,a):r=t.slice(n+1,a),s=a-n-1;n=a,i=0}else o===46&&i!==-1?++i:i=-1}return r}function aa(t,e){var r=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+s:r+t+s:s}var ht={resolve:function(){for(var e="",r=!1,s,n=arguments.length-1;n>=-1&&!r;n--){var i;n>=0?i=arguments[n]:(s===void 0&&(s=process.cwd()),i=s),Ne(i),i.length!==0&&(e=i+"/"+e,r=i.charCodeAt(0)===47)}return e=Qs(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ne(e),e.length===0)return".";var r=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=Qs(e,!r),e.length===0&&!r&&(e="."),e.length>0&&s&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return Ne(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var s=arguments[r];Ne(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":ht.normalize(e)},relative:function(e,r){if(Ne(e),Ne(r),e===r||(e=ht.resolve(e),r=ht.resolve(r),e===r))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var n=e.length,i=n-s,o=1;o<r.length&&r.charCodeAt(o)===47;++o);for(var a=r.length,u=a-o,h=i<u?i:u,m=-1,p=0;p<=h;++p){if(p===h){if(u>h){if(r.charCodeAt(o+p)===47)return r.slice(o+p+1);if(p===0)return r.slice(o+p)}else i>h&&(e.charCodeAt(s+p)===47?m=p:p===0&&(m=0));break}var v=e.charCodeAt(s+p),d=r.charCodeAt(o+p);if(v!==d)break;v===47&&(m=p)}var g="";for(p=s+m+1;p<=n;++p)(p===n||e.charCodeAt(p)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(o+m):(o+=m,r.charCodeAt(o)===47&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(Ne(e),e.length===0)return".";for(var r=e.charCodeAt(0),s=r===47,n=-1,i=!0,o=e.length-1;o>=1;--o)if(r=e.charCodeAt(o),r===47){if(!i){n=o;break}}else i=!1;return n===-1?s?"/":".":s&&n===1?"//":e.slice(0,n)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Ne(e);var s=0,n=-1,i=!0,o;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,u=-1;for(o=e.length-1;o>=0;--o){var h=e.charCodeAt(o);if(h===47){if(!i){s=o+1;break}}else u===-1&&(i=!1,u=o+1),a>=0&&(h===r.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=u))}return s===n?n=u:n===-1&&(n=e.length),e.slice(s,n)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!i){s=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(s,n)}},extname:function(e){Ne(e);for(var r=-1,s=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!i){s=a+1;break}continue}n===-1&&(i=!1,n=a+1),u===46?r===-1?r=a:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||n===-1||o===0||o===1&&r===n-1&&r===s+1?"":e.slice(r,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return aa("/",e)},parse:function(e){Ne(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var s=e.charCodeAt(0),n=s===47,i;n?(r.root="/",i=1):i=0;for(var o=-1,a=0,u=-1,h=!0,m=e.length-1,p=0;m>=i;--m){if(s=e.charCodeAt(m),s===47){if(!h){a=m+1;break}continue}u===-1&&(h=!1,u=m+1),s===46?o===-1?o=m:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||u===-1||p===0||p===1&&o===u-1&&o===a+1?u!==-1&&(a===0&&n?r.base=r.name=e.slice(1,u):r.base=r.name=e.slice(a,u)):(a===0&&n?(r.name=e.slice(1,o),r.base=e.slice(1,u)):(r.name=e.slice(a,o),r.base=e.slice(a,u)),r.ext=e.slice(o,u)),a>0?r.dir=e.slice(0,a-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};ht.posix=ht;en.exports=ht});var qn=xt((zn,os)=>{(function(t){typeof zn=="object"&&typeof os<"u"?os.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(e,r,s){function n(a,u){if(!r[a]){if(!e[a]){var h=typeof kt=="function"&&kt;if(!u&&h)return h(a,!0);if(i)return i(a,!0);var m=new Error("Cannot find module '"+a+"'");throw m.code="MODULE_NOT_FOUND",m}var p=r[a]={exports:{}};e[a][0].call(p.exports,function(v){var d=e[a][1][v];return n(d||v)},p,p.exports,t,e,r,s)}return r[a].exports}for(var i=typeof kt=="function"&&kt,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,r){"use strict";var s=t("./utils"),n=t("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(o){for(var a,u,h,m,p,v,d,g=[],b=0,_=o.length,S=_,A=s.getTypeOf(o)!=="string";b<o.length;)S=_-b,h=A?(a=o[b++],u=b<_?o[b++]:0,b<_?o[b++]:0):(a=o.charCodeAt(b++),u=b<_?o.charCodeAt(b++):0,b<_?o.charCodeAt(b++):0),m=a>>2,p=(3&a)<<4|u>>4,v=1<S?(15&u)<<2|h>>6:64,d=2<S?63&h:64,g.push(i.charAt(m)+i.charAt(p)+i.charAt(v)+i.charAt(d));return g.join("")},r.decode=function(o){var a,u,h,m,p,v,d=0,g=0,b="data:";if(o.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var _,S=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===i.charAt(64)&&S--,o.charAt(o.length-2)===i.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=n.uint8array?new Uint8Array(0|S):new Array(0|S);d<o.length;)a=i.indexOf(o.charAt(d++))<<2|(m=i.indexOf(o.charAt(d++)))>>4,u=(15&m)<<4|(p=i.indexOf(o.charAt(d++)))>>2,h=(3&p)<<6|(v=i.indexOf(o.charAt(d++))),_[g++]=a,p!==64&&(_[g++]=u),v!==64&&(_[g++]=h);return _}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var s=t("./external"),n=t("./stream/DataWorker"),i=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");function a(u,h,m,p,v){this.compressedSize=u,this.uncompressedSize=h,this.crc32=m,this.compression=p,this.compressedContent=v}a.prototype={getContentWorker:function(){var u=new n(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new n(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(u,h,m){return u.pipe(new i).pipe(new o("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new o("compressedSize")).withStreamInfo("compression",h)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var s=t("./utils"),n=function(){for(var i,o=[],a=0;a<256;a++){i=a;for(var u=0;u<8;u++)i=1&i?3988292384^i>>>1:i>>>1;o[a]=i}return o}();e.exports=function(i,o){return i!==void 0&&i.length?s.getTypeOf(i)!=="string"?function(a,u,h,m){var p=n,v=m+h;a^=-1;for(var d=m;d<v;d++)a=a>>>8^p[255&(a^u[d])];return-1^a}(0|o,i,i.length,0):function(a,u,h,m){var p=n,v=m+h;a^=-1;for(var d=m;d<v;d++)a=a>>>8^p[255&(a^u.charCodeAt(d))];return-1^a}(0|o,i,i.length,0):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var s=null;s=typeof Promise<"u"?Promise:t("lie"),e.exports={Promise:s}},{lie:37}],7:[function(t,e,r){"use strict";var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=t("pako"),i=t("./utils"),o=t("./stream/GenericWorker"),a=s?"uint8array":"array";function u(h,m){o.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}r.magic="\b\0",i.inherits(u,o),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(a,h.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},r.compressWorker=function(h){return new u("Deflate",h)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function s(p,v){var d,g="";for(d=0;d<v;d++)g+=String.fromCharCode(255&p),p>>>=8;return g}function n(p,v,d,g,b,_){var S,A,x=p.file,C=p.compression,R=_!==a.utf8encode,O=i.transformTo("string",_(x.name)),G=i.transformTo("string",a.utf8encode(x.name)),W=x.comment,K=i.transformTo("string",_(W)),I=i.transformTo("string",a.utf8encode(W)),B=G.length!==x.name.length,w=I.length!==W.length,z="",ne="",Z="",le=x.dir,Y=x.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};v&&!d||(ie.crc32=p.crc32,ie.compressedSize=p.compressedSize,ie.uncompressedSize=p.uncompressedSize);var M=0;v&&(M|=8),R||!B&&!w||(M|=2048);var j=0,re=0;le&&(j|=16),b==="UNIX"?(re=798,j|=function(Q,we){var ke=Q;return Q||(ke=we?16893:33204),(65535&ke)<<16}(x.unixPermissions,le)):(re=20,j|=function(Q){return 63&(Q||0)}(x.dosPermissions)),S=Y.getUTCHours(),S<<=6,S|=Y.getUTCMinutes(),S<<=5,S|=Y.getUTCSeconds()/2,A=Y.getUTCFullYear()-1980,A<<=4,A|=Y.getUTCMonth()+1,A<<=5,A|=Y.getUTCDate(),B&&(ne=s(1,1)+s(u(O),4)+G,z+="up"+s(ne.length,2)+ne),w&&(Z=s(1,1)+s(u(K),4)+I,z+="uc"+s(Z.length,2)+Z);var te="";return te+=`
\0`,te+=s(M,2),te+=C.magic,te+=s(S,2),te+=s(A,2),te+=s(ie.crc32,4),te+=s(ie.compressedSize,4),te+=s(ie.uncompressedSize,4),te+=s(O.length,2),te+=s(z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+te+O+z,dirRecord:h.CENTRAL_FILE_HEADER+s(re,2)+te+s(K.length,2)+"\0\0\0\0"+s(j,4)+s(g,4)+O+z+K}}var i=t("../utils"),o=t("../stream/GenericWorker"),a=t("../utf8"),u=t("../crc32"),h=t("../signature");function m(p,v,d,g){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=d,this.encodeFileName=g,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(m,o),m.prototype.push=function(p){var v=p.meta.percent||0,d=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,o.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:d?(v+100*(d-g-1))/d:100}}))},m.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var d=n(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,d=n(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),v)this.push({data:function(g){return h.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var d=this.bytesWritten-p,g=function(b,_,S,A,x){var C=i.transformTo("string",x(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(_,4)+s(S,4)+s(C.length,2)+C}(this.dirRecords.length,d,p,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(d){v.processChunk(d)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(d){v.error(d)}),this},m.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(p){var v=this._sources;if(!o.prototype.error.call(this,p))return!1;for(var d=0;d<v.length;d++)try{v[d].error(p)}catch{}return!0},m.prototype.lock=function(){o.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},e.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var s=t("../compressions"),n=t("./ZipFileWorker");r.generateWorker=function(i,o,a){var u=new n(o.streamFiles,a,o.platform,o.encodeFileName),h=0;try{i.forEach(function(m,p){h++;var v=function(_,S){var A=_||S,x=s[A];if(!x)throw new Error(A+" is not a valid compression method !");return x}(p.options.compression,o.compression),d=p.options.compressionOptions||o.compressionOptions||{},g=p.dir,b=p.date;p._compressWorker(v,d).withStreamInfo("file",{name:m,dir:g,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(m){u.error(m)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new s;for(var i in this)typeof this[i]!="function"&&(n[i]=this[i]);return n}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(n,i){return new s().loadAsync(n,i)},s.external=t("./external"),e.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var s=t("./utils"),n=t("./external"),i=t("./utf8"),o=t("./zipEntries"),a=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function h(m){return new n.Promise(function(p,v){var d=m.decompressed.getContentWorker().pipe(new a);d.on("error",function(g){v(g)}).on("end",function(){d.streamInfo.crc32!==m.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}e.exports=function(m,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(m)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,p.optimizedBinaryString,p.base64).then(function(d){var g=new o(p);return g.load(d),g}).then(function(d){var g=[n.Promise.resolve(d)],b=d.files;if(p.checkCRC32)for(var _=0;_<b.length;_++)g.push(h(b[_]));return n.Promise.all(g)}).then(function(d){for(var g=d.shift(),b=g.files,_=0;_<b.length;_++){var S=b[_],A=S.fileNameStr,x=s.resolve(S.fileNameStr);v.file(x,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:p.createFolders}),S.dir||(v.file(x).unsafeOriginalName=A)}return g.zipComment.length&&(v.comment=g.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var s=t("../utils"),n=t("../stream/GenericWorker");function i(o,a){n.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(a)}s.inherits(i,n),i.prototype._bindStream=function(o){var a=this;(this._stream=o).pause(),o.on("data",function(u){a.push({data:u,meta:{percent:0}})}).on("error",function(u){a.isPaused?this.generatedError=u:a.error(u)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},i.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var s=t("readable-stream").Readable;function n(i,o,a){s.call(this,o),this._helper=i;var u=this;i.on("data",function(h,m){u.push(h)||u._helper.pause(),a&&a(m)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}t("../utils").inherits(n,s),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,n);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,n)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var n=new Buffer(s);return n.fill(0),n},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,e,r){"use strict";function s(x,C,R){var O,G=i.getTypeOf(C),W=i.extend(R||{},u);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(x=b(x)),W.createFolders&&(O=g(x))&&_.call(this,O,!0);var K=G==="string"&&W.binary===!1&&W.base64===!1;R&&R.binary!==void 0||(W.binary=!K),(C instanceof h&&C.uncompressedSize===0||W.dir||!C||C.length===0)&&(W.base64=!1,W.binary=!0,C="",W.compression="STORE",G="string");var I=null;I=C instanceof h||C instanceof o?C:v.isNode&&v.isStream(C)?new d(x,C):i.prepareContent(x,C,W.binary,W.optimizedBinaryString,W.base64);var B=new m(x,I,W);this.files[x]=B}var n=t("./utf8"),i=t("./utils"),o=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),u=t("./defaults"),h=t("./compressedObject"),m=t("./zipObject"),p=t("./generate"),v=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var C=x.lastIndexOf("/");return 0<C?x.substring(0,C):""},b=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},_=function(x,C){return C=C!==void 0?C:u.createFolders,x=b(x),this.files[x]||s.call(this,x,null,{dir:!0,createFolders:C}),this.files[x]};function S(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var C,R,O;for(C in this.files)O=this.files[C],(R=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&x(R,O)},filter:function(x){var C=[];return this.forEach(function(R,O){x(R,O)&&C.push(O)}),C},file:function(x,C,R){if(arguments.length!==1)return x=this.root+x,s.call(this,x,C,R),this;if(S(x)){var O=x;return this.filter(function(W,K){return!K.dir&&O.test(W)})}var G=this.files[this.root+x];return G&&!G.dir?G:null},folder:function(x){if(!x)return this;if(S(x))return this.filter(function(G,W){return W.dir&&x.test(G)});var C=this.root+x,R=_.call(this,C),O=this.clone();return O.root=R.name,O},remove:function(x){x=this.root+x;var C=this.files[x];if(C||(x.slice(-1)!=="/"&&(x+="/"),C=this.files[x]),C&&!C.dir)delete this.files[x];else for(var R=this.filter(function(G,W){return W.name.slice(0,x.length)===x}),O=0;O<R.length;O++)delete this.files[R[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var C,R={};try{if((R=i.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");i.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var O=R.comment||this.comment||"";C=p.generateWorker(this,R,O)}catch(G){(C=new o("error")).error(G)}return new a(C,R.type||"string",R.mimeType)},generateAsync:function(x,C){return this.generateInternalStream(x).accumulate(C)},generateNodeStream:function(x,C){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(C)}};e.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){"use strict";e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var s=t("./DataReader");function n(i){s.call(this,i);for(var o=0;o<this.data.length;o++)i[o]=255&i[o]}t("../utils").inherits(n,s),n.prototype.byteAt=function(i){return this.data[this.zero+i]},n.prototype.lastIndexOfSignature=function(i){for(var o=i.charCodeAt(0),a=i.charCodeAt(1),u=i.charCodeAt(2),h=i.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===o&&this.data[m+1]===a&&this.data[m+2]===u&&this.data[m+3]===h)return m-this.zero;return-1},n.prototype.readAndCheckSignature=function(i){var o=i.charCodeAt(0),a=i.charCodeAt(1),u=i.charCodeAt(2),h=i.charCodeAt(3),m=this.readData(4);return o===m[0]&&a===m[1]&&u===m[2]&&h===m[3]},n.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var s=t("../utils");function n(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var o,a=0;for(this.checkOffset(i),o=this.index+i-1;o>=this.index;o--)a=(a<<8)+this.byteAt(o);return this.index+=i,a},readString:function(i){return s.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";var s=t("./Uint8ArrayReader");function n(i){s.call(this,i)}t("../utils").inherits(n,s),n.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var s=t("./DataReader");function n(i){s.call(this,i)}t("../utils").inherits(n,s),n.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},n.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},n.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},n.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var s=t("./ArrayReader");function n(i){s.call(this,i)}t("../utils").inherits(n,s),n.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var s=t("../utils"),n=t("../support"),i=t("./ArrayReader"),o=t("./StringReader"),a=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(h){var m=s.getTypeOf(h);return s.checkSupport(m),m!=="string"||n.uint8array?m==="nodebuffer"?new a(h):n.uint8array?new u(s.transformTo("uint8array",h)):new i(s.transformTo("array",h)):new o(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,r){"use strict";var s=t("./GenericWorker"),n=t("../utils");function i(o){s.call(this,"ConvertWorker to "+o),this.destType=o}n.inherits(i,s),i.prototype.processChunk=function(o){this.push({data:n.transformTo(this.destType,o.data),meta:o.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var s=t("./GenericWorker"),n=t("../crc32");function i(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(i,s),i.prototype.processChunk=function(o){this.streamInfo.crc32=n(o.data,this.streamInfo.crc32||0),this.push(o)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var s=t("../utils"),n=t("./GenericWorker");function i(o){n.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}s.inherits(i,n),i.prototype.processChunk=function(o){if(o){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+o.data.length}n.prototype.processChunk.call(this,o)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var s=t("../utils"),n=t("./GenericWorker");function i(o){n.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(u){a.dataIsReady=!0,a.data=u,a.max=u&&u.length||0,a.type=s.getTypeOf(u),a.isPaused||a._tickAndRepeat()},function(u){a.error(u)})}s.inherits(i,n),i.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,a);break;case"uint8array":o=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":o=this.data.slice(this.index,a)}return this.index=a,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function s(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,i){return this._listeners[n].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,i){if(this._listeners[n])for(var o=0;o<this._listeners[n].length;o++)this._listeners[n][o].call(this,i)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var i=this;return n.on("data",function(o){i.processChunk(o)}),n.on("end",function(){i.end()}),n.on("error",function(o){i.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,i){return this.extraStreamInfo[n]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},e.exports=s},{}],29:[function(t,e,r){"use strict";var s=t("../utils"),n=t("./ConvertWorker"),i=t("./GenericWorker"),o=t("../base64"),a=t("../support"),u=t("../external"),h=null;if(a.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(v,d){return new u.Promise(function(g,b){var _=[],S=v._internalType,A=v._outputType,x=v._mimeType;v.on("data",function(C,R){_.push(C),d&&d(R)}).on("error",function(C){_=[],b(C)}).on("end",function(){try{var C=function(R,O,G){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),G);case"base64":return o.encode(O);default:return s.transformTo(R,O)}}(A,function(R,O){var G,W=0,K=null,I=0;for(G=0;G<O.length;G++)I+=O[G].length;switch(R){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(K=new Uint8Array(I),G=0;G<O.length;G++)K.set(O[G],W),W+=O[G].length;return K;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+R+"'")}}(S,_),x);g(C)}catch(R){b(R)}_=[]}).resume()})}function p(v,d,g){var b=d;switch(d){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=d,this._mimeType=g,s.checkSupport(b),this._worker=v.pipe(new n(b)),v.lock()}catch(_){this._worker=new i("error"),this._worker.error(_)}}p.prototype={accumulate:function(v){return m(this,v)},on:function(v,d){var g=this;return v==="data"?this._worker.on(v,function(b){d.call(g,b.data,b.meta)}):this._worker.on(v,function(){s.delay(d,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},v)}},e.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(s),r.blob=n.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";for(var s=t("./utils"),n=t("./support"),i=t("./nodejsUtils"),o=t("./stream/GenericWorker"),a=new Array(256),u=0;u<256;u++)a[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;a[254]=a[254]=1;function h(){o.call(this,"utf-8 decode"),this.leftOver=null}function m(){o.call(this,"utf-8 encode")}r.utf8encode=function(p){return n.nodebuffer?i.newBufferFrom(p,"utf-8"):function(v){var d,g,b,_,S,A=v.length,x=0;for(_=0;_<A;_++)(64512&(g=v.charCodeAt(_)))==55296&&_+1<A&&(64512&(b=v.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),_++),x+=g<128?1:g<2048?2:g<65536?3:4;for(d=n.uint8array?new Uint8Array(x):new Array(x),_=S=0;S<x;_++)(64512&(g=v.charCodeAt(_)))==55296&&_+1<A&&(64512&(b=v.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),_++),g<128?d[S++]=g:(g<2048?d[S++]=192|g>>>6:(g<65536?d[S++]=224|g>>>12:(d[S++]=240|g>>>18,d[S++]=128|g>>>12&63),d[S++]=128|g>>>6&63),d[S++]=128|63&g);return d}(p)},r.utf8decode=function(p){return n.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(v){var d,g,b,_,S=v.length,A=new Array(2*S);for(d=g=0;d<S;)if((b=v[d++])<128)A[g++]=b;else if(4<(_=a[b]))A[g++]=65533,d+=_-1;else{for(b&=_===2?31:_===3?15:7;1<_&&d<S;)b=b<<6|63&v[d++],_--;1<_?A[g++]=65533:b<65536?A[g++]=b:(b-=65536,A[g++]=55296|b>>10&1023,A[g++]=56320|1023&b)}return A.length!==g&&(A.subarray?A=A.subarray(0,g):A.length=g),s.applyFromCharCode(A)}(p=s.transformTo(n.uint8array?"uint8array":"array",p))},s.inherits(h,o),h.prototype.processChunk=function(p){var v=s.transformTo(n.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var d=v;(v=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),v.set(d,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var g=function(_,S){var A;for((S=S||_.length)>_.length&&(S=_.length),A=S-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?S:A+a[_[A]]>S?A:S}(v),b=v;g!==v.length&&(n.uint8array?(b=v.subarray(0,g),this.leftOver=v.subarray(g,v.length)):(b=v.slice(0,g),this.leftOver=v.slice(g,v.length))),this.push({data:r.utf8decode(b),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,s.inherits(m,o),m.prototype.processChunk=function(p){this.push({data:r.utf8encode(p.data),meta:p.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";var s=t("./support"),n=t("./base64"),i=t("./nodejsUtils"),o=t("./external");function a(d){return d}function u(d,g){for(var b=0;b<d.length;++b)g[b]=255&d.charCodeAt(b);return g}t("setimmediate"),r.newBlob=function(d,g){r.checkSupport("blob");try{return new Blob([d],{type:g})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(d),b.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(d,g,b){var _=[],S=0,A=d.length;if(A<=b)return String.fromCharCode.apply(null,d);for(;S<A;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,d.slice(S,Math.min(S+b,A)))):_.push(String.fromCharCode.apply(null,d.subarray(S,Math.min(S+b,A)))),S+=b;return _.join("")},stringifyByChar:function(d){for(var g="",b=0;b<d.length;b++)g+=String.fromCharCode(d[b]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function m(d){var g=65536,b=r.getTypeOf(d),_=!0;if(b==="uint8array"?_=h.applyCanBeUsed.uint8array:b==="nodebuffer"&&(_=h.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return h.stringifyByChunk(d,b,g)}catch{g=Math.floor(g/2)}return h.stringifyByChar(d)}function p(d,g){for(var b=0;b<d.length;b++)g[b]=d[b];return g}r.applyFromCharCode=m;var v={};v.string={string:a,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return v.string.uint8array(d).buffer},uint8array:function(d){return u(d,new Uint8Array(d.length))},nodebuffer:function(d){return u(d,i.allocBuffer(d.length))}},v.array={string:m,array:a,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return i.newBufferFrom(d)}},v.arraybuffer={string:function(d){return m(new Uint8Array(d))},array:function(d){return p(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:a,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return i.newBufferFrom(new Uint8Array(d))}},v.uint8array={string:m,array:function(d){return p(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:a,nodebuffer:function(d){return i.newBufferFrom(d)}},v.nodebuffer={string:m,array:function(d){return p(d,new Array(d.length))},arraybuffer:function(d){return v.nodebuffer.uint8array(d).buffer},uint8array:function(d){return p(d,new Uint8Array(d.length))},nodebuffer:a},r.transformTo=function(d,g){if(g=g||"",!d)return g;r.checkSupport(d);var b=r.getTypeOf(g);return v[b][d](g)},r.resolve=function(d){for(var g=d.split("/"),b=[],_=0;_<g.length;_++){var S=g[_];S==="."||S===""&&_!==0&&_!==g.length-1||(S===".."?b.pop():b.push(S))}return b.join("/")},r.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":s.nodebuffer&&i.isBuffer(d)?"nodebuffer":s.uint8array&&d instanceof Uint8Array?"uint8array":s.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(d){if(!s[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(d){var g,b,_="";for(b=0;b<(d||"").length;b++)_+="\\x"+((g=d.charCodeAt(b))<16?"0":"")+g.toString(16).toUpperCase();return _},r.delay=function(d,g,b){setImmediate(function(){d.apply(b||null,g||[])})},r.inherits=function(d,g){function b(){}b.prototype=g.prototype,d.prototype=new b},r.extend=function(){var d,g,b={};for(d=0;d<arguments.length;d++)for(g in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],g)&&b[g]===void 0&&(b[g]=arguments[d][g]);return b},r.prepareContent=function(d,g,b,_,S){return o.Promise.resolve(g).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new o.Promise(function(x,C){var R=new FileReader;R.onload=function(O){x(O.target.result)},R.onerror=function(O){C(O.target.error)},R.readAsArrayBuffer(A)}):A}).then(function(A){var x=r.getTypeOf(A);return x?(x==="arraybuffer"?A=r.transformTo("uint8array",A):x==="string"&&(S?A=n.decode(A):b&&_!==!0&&(A=function(C){return u(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(A))),A):o.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,r){"use strict";var s=t("./reader/readerFor"),n=t("./utils"),i=t("./signature"),o=t("./zipEntry"),a=t("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(m)+", expected "+n.pretty(h)+")")}},isSignature:function(h,m){var p=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4)===m;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=a.uint8array?"uint8array":"array",p=n.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,p,v=this.zip64EndOfCentralSize-44;0<v;)h=this.reader.readInt(2),m=this.reader.readInt(4),p=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(h=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=m-p;if(0<v)this.isSignature(m,i.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var s=t("./reader/readerFor"),n=t("./utils"),i=t("./compressedObject"),o=t("./crc32"),a=t("./utf8"),u=t("./compressions"),h=t("./support");function m(p,v){this.options=p,this.loadOptions=v}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,d;if(p.skip(22),this.fileNameLength=p.readInt(2),d=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(g){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===g)return u[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,d,g,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)v=p.readInt(2),d=p.readInt(2),g=p.readData(d),this.extraFields[v]={id:v,length:d,value:g};p.setIndex(b)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var d=n.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var b=n.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||o(this.fileName)!==v.readInt(4)?null:a.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||o(this.fileComment)!==v.readInt(4)?null:a.utf8decode(v.readData(p.length-5))}return null}},e.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function s(v,d,g){this.name=v,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=d,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var n=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),o=t("./utf8"),a=t("./compressedObject"),u=t("./stream/GenericWorker");s.prototype={internalStream:function(v){var d=null,g="string";try{if(!v)throw new Error("No output type specified.");var b=(g=v.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),d=this._decompressWorker();var _=!this._dataBinary;_&&!b&&(d=d.pipe(new o.Utf8EncodeWorker)),!_&&b&&(d=d.pipe(new o.Utf8DecodeWorker))}catch(S){(d=new u("error")).error(S)}return new n(d,g,"")},async:function(v,d){return this.internalStream(v).accumulate(d)},nodeStream:function(v,d){return this.internalStream(v||"nodebuffer").toNodejsStream(d)},_compressWorker:function(v,d){if(this._data instanceof a&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(g,v,d)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof u?this._data:new i(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)s.prototype[h[p]]=m;e.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(s){"use strict";var n,i,o=s.MutationObserver||s.WebKitMutationObserver;if(o){var a=0,u=new o(v),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),n=function(){h.data=a=++a%2}}else if(s.setImmediate||s.MessageChannel===void 0)n="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var d=s.document.createElement("script");d.onreadystatechange=function(){v(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:function(){setTimeout(v,0)};else{var m=new s.MessageChannel;m.port1.onmessage=v,n=function(){m.port2.postMessage(0)}}var p=[];function v(){var d,g;i=!0;for(var b=p.length;b;){for(g=p,p=[],d=-1;++d<b;)g[d]();b=p.length}i=!1}e.exports=function(d){p.push(d)!==1||i||n()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,e,r){"use strict";var s=t("immediate");function n(){}var i={},o=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function h(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==n&&d(this,b)}function m(b,_,S){this.promise=b,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function p(b,_,S){s(function(){var A;try{A=_(S)}catch(x){return i.reject(b,x)}A===b?i.reject(b,new TypeError("Cannot resolve promise with itself")):i.resolve(b,A)})}function v(b){var _=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof _=="function")return function(){_.apply(b,arguments)}}function d(b,_){var S=!1;function A(R){S||(S=!0,i.reject(b,R))}function x(R){S||(S=!0,i.resolve(b,R))}var C=g(function(){_(x,A)});C.status==="error"&&A(C.value)}function g(b,_){var S={};try{S.value=b(_),S.status="success"}catch(A){S.status="error",S.value=A}return S}(e.exports=h).prototype.finally=function(b){if(typeof b!="function")return this;var _=this.constructor;return this.then(function(S){return _.resolve(b()).then(function(){return S})},function(S){return _.resolve(b()).then(function(){throw S})})},h.prototype.catch=function(b){return this.then(null,b)},h.prototype.then=function(b,_){if(typeof b!="function"&&this.state===a||typeof _!="function"&&this.state===o)return this;var S=new this.constructor(n);return this.state!==u?p(S,this.state===a?b:_,this.outcome):this.queue.push(new m(S,b,_)),S},m.prototype.callFulfilled=function(b){i.resolve(this.promise,b)},m.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},m.prototype.callRejected=function(b){i.reject(this.promise,b)},m.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},i.resolve=function(b,_){var S=g(v,_);if(S.status==="error")return i.reject(b,S.value);var A=S.value;if(A)d(b,A);else{b.state=a,b.outcome=_;for(var x=-1,C=b.queue.length;++x<C;)b.queue[x].callFulfilled(_)}return b},i.reject=function(b,_){b.state=o,b.outcome=_;for(var S=-1,A=b.queue.length;++S<A;)b.queue[S].callRejected(_);return b},h.resolve=function(b){return b instanceof this?b:i.resolve(new this(n),b)},h.reject=function(b){var _=new this(n);return i.reject(_,b)},h.all=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=b.length,A=!1;if(!S)return this.resolve([]);for(var x=new Array(S),C=0,R=-1,O=new this(n);++R<S;)G(b[R],R);return O;function G(W,K){_.resolve(W).then(function(I){x[K]=I,++C!==S||A||(A=!0,i.resolve(O,x))},function(I){A||(A=!0,i.reject(O,I))})}},h.race=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=b.length,A=!1;if(!S)return this.resolve([]);for(var x=-1,C=new this(n);++x<S;)R=b[x],_.resolve(R).then(function(O){A||(A=!0,i.resolve(C,O))},function(O){A||(A=!0,i.reject(C,O))});var R;return C}},{immediate:36}],38:[function(t,e,r){"use strict";var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var s=t("./zlib/deflate"),n=t("./utils/common"),i=t("./utils/strings"),o=t("./zlib/messages"),a=t("./zlib/zstream"),u=Object.prototype.toString,h=0,m=-1,p=0,v=8;function d(b){if(!(this instanceof d))return new d(b);this.options=n.assign({level:m,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var S=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(S!==h)throw new Error(o[S]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?i.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(S=s.deflateSetDictionary(this.strm,A))!==h)throw new Error(o[S]);this._dict_set=!0}}function g(b,_){var S=new d(_);if(S.push(b,!0),S.err)throw S.msg||o[S.err];return S.result}d.prototype.push=function(b,_){var S,A,x=this.strm,C=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof b=="string"?x.input=i.string2buf(b):u.call(b)==="[object ArrayBuffer]"?x.input=new Uint8Array(b):x.input=b,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new n.Buf8(C),x.next_out=0,x.avail_out=C),(S=s.deflate(x,A))!==1&&S!==h)return this.onEnd(S),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(n.shrinkBuf(x.output,x.next_out))):this.onData(n.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&S!==1);return A===4?(S=s.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===h):A!==2||(this.onEnd(h),!(x.avail_out=0))},d.prototype.onData=function(b){this.chunks.push(b)},d.prototype.onEnd=function(b){b===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Deflate=d,r.deflate=g,r.deflateRaw=function(b,_){return(_=_||{}).raw=!0,g(b,_)},r.gzip=function(b,_){return(_=_||{}).gzip=!0,g(b,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var s=t("./zlib/inflate"),n=t("./utils/common"),i=t("./utils/strings"),o=t("./zlib/constants"),a=t("./zlib/messages"),u=t("./zlib/zstream"),h=t("./zlib/gzheader"),m=Object.prototype.toString;function p(d){if(!(this instanceof p))return new p(d);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},d||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||d&&d.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,g.windowBits);if(b!==o.Z_OK)throw new Error(a[b]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function v(d,g){var b=new p(g);if(b.push(d,!0),b.err)throw b.msg||a[b.err];return b.result}p.prototype.push=function(d,g){var b,_,S,A,x,C,R=this.strm,O=this.options.chunkSize,G=this.options.dictionary,W=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof d=="string"?R.input=i.binstring2buf(d):m.call(d)==="[object ArrayBuffer]"?R.input=new Uint8Array(d):R.input=d,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new n.Buf8(O),R.next_out=0,R.avail_out=O),(b=s.inflate(R,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&G&&(C=typeof G=="string"?i.string2buf(G):m.call(G)==="[object ArrayBuffer]"?new Uint8Array(G):G,b=s.inflateSetDictionary(this.strm,C)),b===o.Z_BUF_ERROR&&W===!0&&(b=o.Z_OK,W=!1),b!==o.Z_STREAM_END&&b!==o.Z_OK)return this.onEnd(b),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&b!==o.Z_STREAM_END&&(R.avail_in!==0||_!==o.Z_FINISH&&_!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=i.utf8border(R.output,R.next_out),A=R.next_out-S,x=i.buf2string(R.output,S),R.next_out=A,R.avail_out=O-A,A&&n.arraySet(R.output,R.output,S,A,0),this.onData(x)):this.onData(n.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(W=!0)}while((0<R.avail_in||R.avail_out===0)&&b!==o.Z_STREAM_END);return b===o.Z_STREAM_END&&(_=o.Z_FINISH),_===o.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===o.Z_OK):_!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(R.avail_out=0))},p.prototype.onData=function(d){this.chunks.push(d)},p.prototype.onEnd=function(d){d===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},r.Inflate=p,r.inflate=v,r.inflateRaw=function(d,g){return(g=g||{}).raw=!0,v(d,g)},r.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var u=a.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(o[h]=u[h])}}return o},r.shrinkBuf=function(o,a){return o.length===a?o:o.subarray?o.subarray(0,a):(o.length=a,o)};var n={arraySet:function(o,a,u,h,m){if(a.subarray&&o.subarray)o.set(a.subarray(u,u+h),m);else for(var p=0;p<h;p++)o[m+p]=a[u+p]},flattenChunks:function(o){var a,u,h,m,p,v;for(a=h=0,u=o.length;a<u;a++)h+=o[a].length;for(v=new Uint8Array(h),a=m=0,u=o.length;a<u;a++)p=o[a],v.set(p,m),m+=p.length;return v}},i={arraySet:function(o,a,u,h,m){for(var p=0;p<h;p++)o[m+p]=a[u+p]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(s)},{}],42:[function(t,e,r){"use strict";var s=t("./common"),n=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var o=new s.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function u(h,m){if(m<65537&&(h.subarray&&i||!h.subarray&&n))return String.fromCharCode.apply(null,s.shrinkBuf(h,m));for(var p="",v=0;v<m;v++)p+=String.fromCharCode(h[v]);return p}o[254]=o[254]=1,r.string2buf=function(h){var m,p,v,d,g,b=h.length,_=0;for(d=0;d<b;d++)(64512&(p=h.charCodeAt(d)))==55296&&d+1<b&&(64512&(v=h.charCodeAt(d+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),d++),_+=p<128?1:p<2048?2:p<65536?3:4;for(m=new s.Buf8(_),d=g=0;g<_;d++)(64512&(p=h.charCodeAt(d)))==55296&&d+1<b&&(64512&(v=h.charCodeAt(d+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),d++),p<128?m[g++]=p:(p<2048?m[g++]=192|p>>>6:(p<65536?m[g++]=224|p>>>12:(m[g++]=240|p>>>18,m[g++]=128|p>>>12&63),m[g++]=128|p>>>6&63),m[g++]=128|63&p);return m},r.buf2binstring=function(h){return u(h,h.length)},r.binstring2buf=function(h){for(var m=new s.Buf8(h.length),p=0,v=m.length;p<v;p++)m[p]=h.charCodeAt(p);return m},r.buf2string=function(h,m){var p,v,d,g,b=m||h.length,_=new Array(2*b);for(p=v=0;p<b;)if((d=h[p++])<128)_[v++]=d;else if(4<(g=o[d]))_[v++]=65533,p+=g-1;else{for(d&=g===2?31:g===3?15:7;1<g&&p<b;)d=d<<6|63&h[p++],g--;1<g?_[v++]=65533:d<65536?_[v++]=d:(d-=65536,_[v++]=55296|d>>10&1023,_[v++]=56320|1023&d)}return u(_,v)},r.utf8border=function(h,m){var p;for((m=m||h.length)>h.length&&(m=h.length),p=m-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?m:p+o[h[p]]>m?p:m}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(s,n,i,o){for(var a=65535&s|0,u=s>>>16&65535|0,h=0;i!==0;){for(i-=h=2e3<i?2e3:i;u=u+(a=a+n[o++]|0)|0,--h;);a%=65521,u%=65521}return a|u<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var s=function(){for(var n,i=[],o=0;o<256;o++){n=o;for(var a=0;a<8;a++)n=1&n?3988292384^n>>>1:n>>>1;i[o]=n}return i}();e.exports=function(n,i,o,a){var u=s,h=a+o;n^=-1;for(var m=a;m<h;m++)n=n>>>8^u[255&(n^i[m])];return-1^n}},{}],46:[function(t,e,r){"use strict";var s,n=t("../utils/common"),i=t("./trees"),o=t("./adler32"),a=t("./crc32"),u=t("./messages"),h=0,m=4,p=0,v=-2,d=-1,g=4,b=2,_=8,S=9,A=286,x=30,C=19,R=2*A+1,O=15,G=3,W=258,K=W+G+1,I=42,B=113,w=1,z=2,ne=3,Z=4;function le(f,$){return f.msg=u[$],$}function Y(f){return(f<<1)-(4<f?9:0)}function ie(f){for(var $=f.length;0<=--$;)f[$]=0}function M(f){var $=f.state,N=$.pending;N>f.avail_out&&(N=f.avail_out),N!==0&&(n.arraySet(f.output,$.pending_buf,$.pending_out,N,f.next_out),f.next_out+=N,$.pending_out+=N,f.total_out+=N,f.avail_out-=N,$.pending-=N,$.pending===0&&($.pending_out=0))}function j(f,$){i._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,$),f.block_start=f.strstart,M(f.strm)}function re(f,$){f.pending_buf[f.pending++]=$}function te(f,$){f.pending_buf[f.pending++]=$>>>8&255,f.pending_buf[f.pending++]=255&$}function Q(f,$){var N,k,T=f.max_chain_length,F=f.strstart,H=f.prev_length,V=f.nice_match,L=f.strstart>f.w_size-K?f.strstart-(f.w_size-K):0,J=f.window,ee=f.w_mask,X=f.prev,se=f.strstart+W,he=J[F+H-1],y=J[F+H];f.prev_length>=f.good_match&&(T>>=2),V>f.lookahead&&(V=f.lookahead);do if(J[(N=$)+H]===y&&J[N+H-1]===he&&J[N]===J[F]&&J[++N]===J[F+1]){F+=2,N++;do;while(J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&J[++F]===J[++N]&&F<se);if(k=W-(se-F),F=se-W,H<k){if(f.match_start=$,V<=(H=k))break;he=J[F+H-1],y=J[F+H]}}while(($=X[$&ee])>L&&--T!=0);return H<=f.lookahead?H:f.lookahead}function we(f){var $,N,k,T,F,H,V,L,J,ee,X=f.w_size;do{if(T=f.window_size-f.lookahead-f.strstart,f.strstart>=X+(X-K)){for(n.arraySet(f.window,f.window,X,X,0),f.match_start-=X,f.strstart-=X,f.block_start-=X,$=N=f.hash_size;k=f.head[--$],f.head[$]=X<=k?k-X:0,--N;);for($=N=X;k=f.prev[--$],f.prev[$]=X<=k?k-X:0,--N;);T+=X}if(f.strm.avail_in===0)break;if(H=f.strm,V=f.window,L=f.strstart+f.lookahead,J=T,ee=void 0,ee=H.avail_in,J<ee&&(ee=J),N=ee===0?0:(H.avail_in-=ee,n.arraySet(V,H.input,H.next_in,ee,L),H.state.wrap===1?H.adler=o(H.adler,V,ee,L):H.state.wrap===2&&(H.adler=a(H.adler,V,ee,L)),H.next_in+=ee,H.total_in+=ee,ee),f.lookahead+=N,f.lookahead+f.insert>=G)for(F=f.strstart-f.insert,f.ins_h=f.window[F],f.ins_h=(f.ins_h<<f.hash_shift^f.window[F+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[F+G-1])&f.hash_mask,f.prev[F&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=F,F++,f.insert--,!(f.lookahead+f.insert<G)););}while(f.lookahead<K&&f.strm.avail_in!==0)}function ke(f,$){for(var N,k;;){if(f.lookahead<K){if(we(f),f.lookahead<K&&$===h)return w;if(f.lookahead===0)break}if(N=0,f.lookahead>=G&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+G-1])&f.hash_mask,N=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),N!==0&&f.strstart-N<=f.w_size-K&&(f.match_length=Q(f,N)),f.match_length>=G)if(k=i._tr_tally(f,f.strstart-f.match_start,f.match_length-G),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=G){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+G-1])&f.hash_mask,N=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else k=i._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(k&&(j(f,!1),f.strm.avail_out===0))return w}return f.insert=f.strstart<G-1?f.strstart:G-1,$===m?(j(f,!0),f.strm.avail_out===0?ne:Z):f.last_lit&&(j(f,!1),f.strm.avail_out===0)?w:z}function ue(f,$){for(var N,k,T;;){if(f.lookahead<K){if(we(f),f.lookahead<K&&$===h)return w;if(f.lookahead===0)break}if(N=0,f.lookahead>=G&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+G-1])&f.hash_mask,N=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=G-1,N!==0&&f.prev_length<f.max_lazy_match&&f.strstart-N<=f.w_size-K&&(f.match_length=Q(f,N),f.match_length<=5&&(f.strategy===1||f.match_length===G&&4096<f.strstart-f.match_start)&&(f.match_length=G-1)),f.prev_length>=G&&f.match_length<=f.prev_length){for(T=f.strstart+f.lookahead-G,k=i._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-G),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=T&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+G-1])&f.hash_mask,N=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=G-1,f.strstart++,k&&(j(f,!1),f.strm.avail_out===0))return w}else if(f.match_available){if((k=i._tr_tally(f,0,f.window[f.strstart-1]))&&j(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return w}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(k=i._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<G-1?f.strstart:G-1,$===m?(j(f,!0),f.strm.avail_out===0?ne:Z):f.last_lit&&(j(f,!1),f.strm.avail_out===0)?w:z}function pe(f,$,N,k,T){this.good_length=f,this.max_lazy=$,this.nice_length=N,this.max_chain=k,this.func=T}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*R),this.dyn_dtree=new n.Buf16(2*(2*x+1)),this.bl_tree=new n.Buf16(2*(2*C+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(O+1),this.heap=new n.Buf16(2*A+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*A+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(f){var $;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=b,($=f.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?I:B,f.adler=$.wrap===2?0:1,$.last_flush=h,i._tr_init($),p):le(f,v)}function De(f){var $=be(f);return $===p&&function(N){N.window_size=2*N.w_size,ie(N.head),N.max_lazy_match=s[N.level].max_lazy,N.good_match=s[N.level].good_length,N.nice_match=s[N.level].nice_length,N.max_chain_length=s[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=G-1,N.match_available=0,N.ins_h=0}(f.state),$}function Re(f,$,N,k,T,F){if(!f)return v;var H=1;if($===d&&($=6),k<0?(H=0,k=-k):15<k&&(H=2,k-=16),T<1||S<T||N!==_||k<8||15<k||$<0||9<$||F<0||g<F)return le(f,v);k===8&&(k=9);var V=new Te;return(f.state=V).strm=f,V.wrap=H,V.gzhead=null,V.w_bits=k,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=T+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+G-1)/G),V.window=new n.Buf8(2*V.w_size),V.head=new n.Buf16(V.hash_size),V.prev=new n.Buf16(V.w_size),V.lit_bufsize=1<<T+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new n.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=$,V.strategy=F,V.method=N,De(f)}s=[new pe(0,0,0,0,function(f,$){var N=65535;for(N>f.pending_buf_size-5&&(N=f.pending_buf_size-5);;){if(f.lookahead<=1){if(we(f),f.lookahead===0&&$===h)return w;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var k=f.block_start+N;if((f.strstart===0||f.strstart>=k)&&(f.lookahead=f.strstart-k,f.strstart=k,j(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-K&&(j(f,!1),f.strm.avail_out===0))return w}return f.insert=0,$===m?(j(f,!0),f.strm.avail_out===0?ne:Z):(f.strstart>f.block_start&&(j(f,!1),f.strm.avail_out),w)}),new pe(4,4,8,4,ke),new pe(4,5,16,8,ke),new pe(4,6,32,32,ke),new pe(4,4,16,16,ue),new pe(8,16,32,32,ue),new pe(8,16,128,128,ue),new pe(8,32,128,256,ue),new pe(32,128,258,1024,ue),new pe(32,258,258,4096,ue)],r.deflateInit=function(f,$){return Re(f,$,_,15,8,0)},r.deflateInit2=Re,r.deflateReset=De,r.deflateResetKeep=be,r.deflateSetHeader=function(f,$){return f&&f.state?f.state.wrap!==2?v:(f.state.gzhead=$,p):v},r.deflate=function(f,$){var N,k,T,F;if(!f||!f.state||5<$||$<0)return f?le(f,v):v;if(k=f.state,!f.output||!f.input&&f.avail_in!==0||k.status===666&&$!==m)return le(f,f.avail_out===0?-5:v);if(k.strm=f,N=k.last_flush,k.last_flush=$,k.status===I)if(k.wrap===2)f.adler=0,re(k,31),re(k,139),re(k,8),k.gzhead?(re(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),re(k,255&k.gzhead.time),re(k,k.gzhead.time>>8&255),re(k,k.gzhead.time>>16&255),re(k,k.gzhead.time>>24&255),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(re(k,255&k.gzhead.extra.length),re(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(f.adler=a(f.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(re(k,0),re(k,0),re(k,0),re(k,0),re(k,0),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,3),k.status=B);else{var H=_+(k.w_bits-8<<4)<<8;H|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(H|=32),H+=31-H%31,k.status=B,te(k,H),k.strstart!==0&&(te(k,f.adler>>>16),te(k,65535&f.adler)),f.adler=1}if(k.status===69)if(k.gzhead.extra){for(T=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),M(f),T=k.pending,k.pending!==k.pending_buf_size));)re(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){T=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),M(f),T=k.pending,k.pending===k.pending_buf_size)){F=1;break}F=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,re(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),F===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){T=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),M(f),T=k.pending,k.pending===k.pending_buf_size)){F=1;break}F=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,re(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>T&&(f.adler=a(f.adler,k.pending_buf,k.pending-T,T)),F===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&M(f),k.pending+2<=k.pending_buf_size&&(re(k,255&f.adler),re(k,f.adler>>8&255),f.adler=0,k.status=B)):k.status=B),k.pending!==0){if(M(f),f.avail_out===0)return k.last_flush=-1,p}else if(f.avail_in===0&&Y($)<=Y(N)&&$!==m)return le(f,-5);if(k.status===666&&f.avail_in!==0)return le(f,-5);if(f.avail_in!==0||k.lookahead!==0||$!==h&&k.status!==666){var V=k.strategy===2?function(L,J){for(var ee;;){if(L.lookahead===0&&(we(L),L.lookahead===0)){if(J===h)return w;break}if(L.match_length=0,ee=i._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,ee&&(j(L,!1),L.strm.avail_out===0))return w}return L.insert=0,J===m?(j(L,!0),L.strm.avail_out===0?ne:Z):L.last_lit&&(j(L,!1),L.strm.avail_out===0)?w:z}(k,$):k.strategy===3?function(L,J){for(var ee,X,se,he,y=L.window;;){if(L.lookahead<=W){if(we(L),L.lookahead<=W&&J===h)return w;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=G&&0<L.strstart&&(X=y[se=L.strstart-1])===y[++se]&&X===y[++se]&&X===y[++se]){he=L.strstart+W;do;while(X===y[++se]&&X===y[++se]&&X===y[++se]&&X===y[++se]&&X===y[++se]&&X===y[++se]&&X===y[++se]&&X===y[++se]&&se<he);L.match_length=W-(he-se),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=G?(ee=i._tr_tally(L,1,L.match_length-G),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(ee=i._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),ee&&(j(L,!1),L.strm.avail_out===0))return w}return L.insert=0,J===m?(j(L,!0),L.strm.avail_out===0?ne:Z):L.last_lit&&(j(L,!1),L.strm.avail_out===0)?w:z}(k,$):s[k.level].func(k,$);if(V!==ne&&V!==Z||(k.status=666),V===w||V===ne)return f.avail_out===0&&(k.last_flush=-1),p;if(V===z&&($===1?i._tr_align(k):$!==5&&(i._tr_stored_block(k,0,0,!1),$===3&&(ie(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),M(f),f.avail_out===0))return k.last_flush=-1,p}return $!==m?p:k.wrap<=0?1:(k.wrap===2?(re(k,255&f.adler),re(k,f.adler>>8&255),re(k,f.adler>>16&255),re(k,f.adler>>24&255),re(k,255&f.total_in),re(k,f.total_in>>8&255),re(k,f.total_in>>16&255),re(k,f.total_in>>24&255)):(te(k,f.adler>>>16),te(k,65535&f.adler)),M(f),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?p:1)},r.deflateEnd=function(f){var $;return f&&f.state?($=f.state.status)!==I&&$!==69&&$!==73&&$!==91&&$!==103&&$!==B&&$!==666?le(f,v):(f.state=null,$===B?le(f,-3):p):v},r.deflateSetDictionary=function(f,$){var N,k,T,F,H,V,L,J,ee=$.length;if(!f||!f.state||(F=(N=f.state).wrap)===2||F===1&&N.status!==I||N.lookahead)return v;for(F===1&&(f.adler=o(f.adler,$,ee,0)),N.wrap=0,ee>=N.w_size&&(F===0&&(ie(N.head),N.strstart=0,N.block_start=0,N.insert=0),J=new n.Buf8(N.w_size),n.arraySet(J,$,ee-N.w_size,N.w_size,0),$=J,ee=N.w_size),H=f.avail_in,V=f.next_in,L=f.input,f.avail_in=ee,f.next_in=0,f.input=$,we(N);N.lookahead>=G;){for(k=N.strstart,T=N.lookahead-(G-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[k+G-1])&N.hash_mask,N.prev[k&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=k,k++,--T;);N.strstart=k,N.lookahead=G-1,we(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=G-1,N.match_available=0,f.next_in=V,f.input=L,f.avail_in=H,N.wrap=F,p},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(s,n){var i,o,a,u,h,m,p,v,d,g,b,_,S,A,x,C,R,O,G,W,K,I,B,w,z;i=s.state,o=s.next_in,w=s.input,a=o+(s.avail_in-5),u=s.next_out,z=s.output,h=u-(n-s.avail_out),m=u+(s.avail_out-257),p=i.dmax,v=i.wsize,d=i.whave,g=i.wnext,b=i.window,_=i.hold,S=i.bits,A=i.lencode,x=i.distcode,C=(1<<i.lenbits)-1,R=(1<<i.distbits)-1;e:do{S<15&&(_+=w[o++]<<S,S+=8,_+=w[o++]<<S,S+=8),O=A[_&C];t:for(;;){if(_>>>=G=O>>>24,S-=G,(G=O>>>16&255)===0)z[u++]=65535&O;else{if(!(16&G)){if(!(64&G)){O=A[(65535&O)+(_&(1<<G)-1)];continue t}if(32&G){i.mode=12;break e}s.msg="invalid literal/length code",i.mode=30;break e}W=65535&O,(G&=15)&&(S<G&&(_+=w[o++]<<S,S+=8),W+=_&(1<<G)-1,_>>>=G,S-=G),S<15&&(_+=w[o++]<<S,S+=8,_+=w[o++]<<S,S+=8),O=x[_&R];r:for(;;){if(_>>>=G=O>>>24,S-=G,!(16&(G=O>>>16&255))){if(!(64&G)){O=x[(65535&O)+(_&(1<<G)-1)];continue r}s.msg="invalid distance code",i.mode=30;break e}if(K=65535&O,S<(G&=15)&&(_+=w[o++]<<S,(S+=8)<G&&(_+=w[o++]<<S,S+=8)),p<(K+=_&(1<<G)-1)){s.msg="invalid distance too far back",i.mode=30;break e}if(_>>>=G,S-=G,(G=u-h)<K){if(d<(G=K-G)&&i.sane){s.msg="invalid distance too far back",i.mode=30;break e}if(B=b,(I=0)===g){if(I+=v-G,G<W){for(W-=G;z[u++]=b[I++],--G;);I=u-K,B=z}}else if(g<G){if(I+=v+g-G,(G-=g)<W){for(W-=G;z[u++]=b[I++],--G;);if(I=0,g<W){for(W-=G=g;z[u++]=b[I++],--G;);I=u-K,B=z}}}else if(I+=g-G,G<W){for(W-=G;z[u++]=b[I++],--G;);I=u-K,B=z}for(;2<W;)z[u++]=B[I++],z[u++]=B[I++],z[u++]=B[I++],W-=3;W&&(z[u++]=B[I++],1<W&&(z[u++]=B[I++]))}else{for(I=u-K;z[u++]=z[I++],z[u++]=z[I++],z[u++]=z[I++],2<(W-=3););W&&(z[u++]=z[I++],1<W&&(z[u++]=z[I++]))}break}}break}}while(o<a&&u<m);o-=W=S>>3,_&=(1<<(S-=W<<3))-1,s.next_in=o,s.next_out=u,s.avail_in=o<a?a-o+5:5-(o-a),s.avail_out=u<m?m-u+257:257-(u-m),i.hold=_,i.bits=S}},{}],49:[function(t,e,r){"use strict";var s=t("../utils/common"),n=t("./adler32"),i=t("./crc32"),o=t("./inffast"),a=t("./inftrees"),u=1,h=2,m=0,p=-2,v=1,d=852,g=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(I){var B;return I&&I.state?(B=I.state,I.total_in=I.total_out=B.total=0,I.msg="",B.wrap&&(I.adler=1&B.wrap),B.mode=v,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new s.Buf32(d),B.distcode=B.distdyn=new s.Buf32(g),B.sane=1,B.back=-1,m):p}function A(I){var B;return I&&I.state?((B=I.state).wsize=0,B.whave=0,B.wnext=0,S(I)):p}function x(I,B){var w,z;return I&&I.state?(z=I.state,B<0?(w=0,B=-B):(w=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?p:(z.window!==null&&z.wbits!==B&&(z.window=null),z.wrap=w,z.wbits=B,A(I))):p}function C(I,B){var w,z;return I?(z=new _,(I.state=z).window=null,(w=x(I,B))!==m&&(I.state=null),w):p}var R,O,G=!0;function W(I){if(G){var B;for(R=new s.Buf32(512),O=new s.Buf32(32),B=0;B<144;)I.lens[B++]=8;for(;B<256;)I.lens[B++]=9;for(;B<280;)I.lens[B++]=7;for(;B<288;)I.lens[B++]=8;for(a(u,I.lens,0,288,R,0,I.work,{bits:9}),B=0;B<32;)I.lens[B++]=5;a(h,I.lens,0,32,O,0,I.work,{bits:5}),G=!1}I.lencode=R,I.lenbits=9,I.distcode=O,I.distbits=5}function K(I,B,w,z){var ne,Z=I.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new s.Buf8(Z.wsize)),z>=Z.wsize?(s.arraySet(Z.window,B,w-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(z<(ne=Z.wsize-Z.wnext)&&(ne=z),s.arraySet(Z.window,B,w-z,ne,Z.wnext),(z-=ne)?(s.arraySet(Z.window,B,w-z,z,0),Z.wnext=z,Z.whave=Z.wsize):(Z.wnext+=ne,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=ne))),0}r.inflateReset=A,r.inflateReset2=x,r.inflateResetKeep=S,r.inflateInit=function(I){return C(I,15)},r.inflateInit2=C,r.inflate=function(I,B){var w,z,ne,Z,le,Y,ie,M,j,re,te,Q,we,ke,ue,pe,Te,be,De,Re,f,$,N,k,T=0,F=new s.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(w=I.state).mode===12&&(w.mode=13),le=I.next_out,ne=I.output,ie=I.avail_out,Z=I.next_in,z=I.input,Y=I.avail_in,M=w.hold,j=w.bits,re=Y,te=ie,$=m;e:for(;;)switch(w.mode){case v:if(w.wrap===0){w.mode=13;break}for(;j<16;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(2&w.wrap&&M===35615){F[w.check=0]=255&M,F[1]=M>>>8&255,w.check=i(w.check,F,2,0),j=M=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&M)<<8)+(M>>8))%31){I.msg="incorrect header check",w.mode=30;break}if((15&M)!=8){I.msg="unknown compression method",w.mode=30;break}if(j-=4,f=8+(15&(M>>>=4)),w.wbits===0)w.wbits=f;else if(f>w.wbits){I.msg="invalid window size",w.mode=30;break}w.dmax=1<<f,I.adler=w.check=1,w.mode=512&M?10:12,j=M=0;break;case 2:for(;j<16;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(w.flags=M,(255&w.flags)!=8){I.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){I.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=M>>8&1),512&w.flags&&(F[0]=255&M,F[1]=M>>>8&255,w.check=i(w.check,F,2,0)),j=M=0,w.mode=3;case 3:for(;j<32;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.head&&(w.head.time=M),512&w.flags&&(F[0]=255&M,F[1]=M>>>8&255,F[2]=M>>>16&255,F[3]=M>>>24&255,w.check=i(w.check,F,4,0)),j=M=0,w.mode=4;case 4:for(;j<16;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.head&&(w.head.xflags=255&M,w.head.os=M>>8),512&w.flags&&(F[0]=255&M,F[1]=M>>>8&255,w.check=i(w.check,F,2,0)),j=M=0,w.mode=5;case 5:if(1024&w.flags){for(;j<16;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.length=M,w.head&&(w.head.extra_len=M),512&w.flags&&(F[0]=255&M,F[1]=M>>>8&255,w.check=i(w.check,F,2,0)),j=M=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(Y<(Q=w.length)&&(Q=Y),Q&&(w.head&&(f=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,z,Z,Q,f)),512&w.flags&&(w.check=i(w.check,z,Q,Z)),Y-=Q,Z+=Q,w.length-=Q),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(Y===0)break e;for(Q=0;f=z[Z+Q++],w.head&&f&&w.length<65536&&(w.head.name+=String.fromCharCode(f)),f&&Q<Y;);if(512&w.flags&&(w.check=i(w.check,z,Q,Z)),Y-=Q,Z+=Q,f)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(Y===0)break e;for(Q=0;f=z[Z+Q++],w.head&&f&&w.length<65536&&(w.head.comment+=String.fromCharCode(f)),f&&Q<Y;);if(512&w.flags&&(w.check=i(w.check,z,Q,Z)),Y-=Q,Z+=Q,f)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;j<16;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(M!==(65535&w.check)){I.msg="header crc mismatch",w.mode=30;break}j=M=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),I.adler=w.check=0,w.mode=12;break;case 10:for(;j<32;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}I.adler=w.check=b(M),j=M=0,w.mode=11;case 11:if(w.havedict===0)return I.next_out=le,I.avail_out=ie,I.next_in=Z,I.avail_in=Y,w.hold=M,w.bits=j,2;I.adler=w.check=1,w.mode=12;case 12:if(B===5||B===6)break e;case 13:if(w.last){M>>>=7&j,j-=7&j,w.mode=27;break}for(;j<3;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}switch(w.last=1&M,j-=1,3&(M>>>=1)){case 0:w.mode=14;break;case 1:if(W(w),w.mode=20,B!==6)break;M>>>=2,j-=2;break e;case 2:w.mode=17;break;case 3:I.msg="invalid block type",w.mode=30}M>>>=2,j-=2;break;case 14:for(M>>>=7&j,j-=7&j;j<32;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if((65535&M)!=(M>>>16^65535)){I.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&M,j=M=0,w.mode=15,B===6)break e;case 15:w.mode=16;case 16:if(Q=w.length){if(Y<Q&&(Q=Y),ie<Q&&(Q=ie),Q===0)break e;s.arraySet(ne,z,Z,Q,le),Y-=Q,Z+=Q,ie-=Q,le+=Q,w.length-=Q;break}w.mode=12;break;case 17:for(;j<14;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(w.nlen=257+(31&M),M>>>=5,j-=5,w.ndist=1+(31&M),M>>>=5,j-=5,w.ncode=4+(15&M),M>>>=4,j-=4,286<w.nlen||30<w.ndist){I.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;j<3;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.lens[H[w.have++]]=7&M,M>>>=3,j-=3}for(;w.have<19;)w.lens[H[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,N={bits:w.lenbits},$=a(0,w.lens,0,19,w.lencode,0,w.work,N),w.lenbits=N.bits,$){I.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;pe=(T=w.lencode[M&(1<<w.lenbits)-1])>>>16&255,Te=65535&T,!((ue=T>>>24)<=j);){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(Te<16)M>>>=ue,j-=ue,w.lens[w.have++]=Te;else{if(Te===16){for(k=ue+2;j<k;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(M>>>=ue,j-=ue,w.have===0){I.msg="invalid bit length repeat",w.mode=30;break}f=w.lens[w.have-1],Q=3+(3&M),M>>>=2,j-=2}else if(Te===17){for(k=ue+3;j<k;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}j-=ue,f=0,Q=3+(7&(M>>>=ue)),M>>>=3,j-=3}else{for(k=ue+7;j<k;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}j-=ue,f=0,Q=11+(127&(M>>>=ue)),M>>>=7,j-=7}if(w.have+Q>w.nlen+w.ndist){I.msg="invalid bit length repeat",w.mode=30;break}for(;Q--;)w.lens[w.have++]=f}}if(w.mode===30)break;if(w.lens[256]===0){I.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,N={bits:w.lenbits},$=a(u,w.lens,0,w.nlen,w.lencode,0,w.work,N),w.lenbits=N.bits,$){I.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,N={bits:w.distbits},$=a(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,N),w.distbits=N.bits,$){I.msg="invalid distances set",w.mode=30;break}if(w.mode=20,B===6)break e;case 20:w.mode=21;case 21:if(6<=Y&&258<=ie){I.next_out=le,I.avail_out=ie,I.next_in=Z,I.avail_in=Y,w.hold=M,w.bits=j,o(I,te),le=I.next_out,ne=I.output,ie=I.avail_out,Z=I.next_in,z=I.input,Y=I.avail_in,M=w.hold,j=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;pe=(T=w.lencode[M&(1<<w.lenbits)-1])>>>16&255,Te=65535&T,!((ue=T>>>24)<=j);){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(pe&&!(240&pe)){for(be=ue,De=pe,Re=Te;pe=(T=w.lencode[Re+((M&(1<<be+De)-1)>>be)])>>>16&255,Te=65535&T,!(be+(ue=T>>>24)<=j);){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}M>>>=be,j-=be,w.back+=be}if(M>>>=ue,j-=ue,w.back+=ue,w.length=Te,pe===0){w.mode=26;break}if(32&pe){w.back=-1,w.mode=12;break}if(64&pe){I.msg="invalid literal/length code",w.mode=30;break}w.extra=15&pe,w.mode=22;case 22:if(w.extra){for(k=w.extra;j<k;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.length+=M&(1<<w.extra)-1,M>>>=w.extra,j-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;pe=(T=w.distcode[M&(1<<w.distbits)-1])>>>16&255,Te=65535&T,!((ue=T>>>24)<=j);){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(!(240&pe)){for(be=ue,De=pe,Re=Te;pe=(T=w.distcode[Re+((M&(1<<be+De)-1)>>be)])>>>16&255,Te=65535&T,!(be+(ue=T>>>24)<=j);){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}M>>>=be,j-=be,w.back+=be}if(M>>>=ue,j-=ue,w.back+=ue,64&pe){I.msg="invalid distance code",w.mode=30;break}w.offset=Te,w.extra=15&pe,w.mode=24;case 24:if(w.extra){for(k=w.extra;j<k;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}w.offset+=M&(1<<w.extra)-1,M>>>=w.extra,j-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){I.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(ie===0)break e;if(Q=te-ie,w.offset>Q){if((Q=w.offset-Q)>w.whave&&w.sane){I.msg="invalid distance too far back",w.mode=30;break}we=Q>w.wnext?(Q-=w.wnext,w.wsize-Q):w.wnext-Q,Q>w.length&&(Q=w.length),ke=w.window}else ke=ne,we=le-w.offset,Q=w.length;for(ie<Q&&(Q=ie),ie-=Q,w.length-=Q;ne[le++]=ke[we++],--Q;);w.length===0&&(w.mode=21);break;case 26:if(ie===0)break e;ne[le++]=w.length,ie--,w.mode=21;break;case 27:if(w.wrap){for(;j<32;){if(Y===0)break e;Y--,M|=z[Z++]<<j,j+=8}if(te-=ie,I.total_out+=te,w.total+=te,te&&(I.adler=w.check=w.flags?i(w.check,ne,te,le-te):n(w.check,ne,te,le-te)),te=ie,(w.flags?M:b(M))!==w.check){I.msg="incorrect data check",w.mode=30;break}j=M=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;j<32;){if(Y===0)break e;Y--,M+=z[Z++]<<j,j+=8}if(M!==(4294967295&w.total)){I.msg="incorrect length check",w.mode=30;break}j=M=0}w.mode=29;case 29:$=1;break e;case 30:$=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=le,I.avail_out=ie,I.next_in=Z,I.avail_in=Y,w.hold=M,w.bits=j,(w.wsize||te!==I.avail_out&&w.mode<30&&(w.mode<27||B!==4))&&K(I,I.output,I.next_out,te-I.avail_out)?(w.mode=31,-4):(re-=I.avail_in,te-=I.avail_out,I.total_in+=re,I.total_out+=te,w.total+=te,w.wrap&&te&&(I.adler=w.check=w.flags?i(w.check,ne,te,I.next_out-te):n(w.check,ne,te,I.next_out-te)),I.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(re==0&&te===0||B===4)&&$===m&&($=-5),$)},r.inflateEnd=function(I){if(!I||!I.state)return p;var B=I.state;return B.window&&(B.window=null),I.state=null,m},r.inflateGetHeader=function(I,B){var w;return I&&I.state&&2&(w=I.state).wrap?((w.head=B).done=!1,m):p},r.inflateSetDictionary=function(I,B){var w,z=B.length;return I&&I.state?(w=I.state).wrap!==0&&w.mode!==11?p:w.mode===11&&n(1,B,z,0)!==w.check?-3:K(I,B,z,z)?(w.mode=31,-4):(w.havedict=1,m):p},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var s=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(u,h,m,p,v,d,g,b){var _,S,A,x,C,R,O,G,W,K=b.bits,I=0,B=0,w=0,z=0,ne=0,Z=0,le=0,Y=0,ie=0,M=0,j=null,re=0,te=new s.Buf16(16),Q=new s.Buf16(16),we=null,ke=0;for(I=0;I<=15;I++)te[I]=0;for(B=0;B<p;B++)te[h[m+B]]++;for(ne=K,z=15;1<=z&&te[z]===0;z--);if(z<ne&&(ne=z),z===0)return v[d++]=20971520,v[d++]=20971520,b.bits=1,0;for(w=1;w<z&&te[w]===0;w++);for(ne<w&&(ne=w),I=Y=1;I<=15;I++)if(Y<<=1,(Y-=te[I])<0)return-1;if(0<Y&&(u===0||z!==1))return-1;for(Q[1]=0,I=1;I<15;I++)Q[I+1]=Q[I]+te[I];for(B=0;B<p;B++)h[m+B]!==0&&(g[Q[h[m+B]]++]=B);if(R=u===0?(j=we=g,19):u===1?(j=n,re-=257,we=i,ke-=257,256):(j=o,we=a,-1),I=w,C=d,le=B=M=0,A=-1,x=(ie=1<<(Z=ne))-1,u===1&&852<ie||u===2&&592<ie)return 1;for(;;){for(O=I-le,W=g[B]<R?(G=0,g[B]):g[B]>R?(G=we[ke+g[B]],j[re+g[B]]):(G=96,0),_=1<<I-le,w=S=1<<Z;v[C+(M>>le)+(S-=_)]=O<<24|G<<16|W|0,S!==0;);for(_=1<<I-1;M&_;)_>>=1;if(_!==0?(M&=_-1,M+=_):M=0,B++,--te[I]==0){if(I===z)break;I=h[m+g[B]]}if(ne<I&&(M&x)!==A){for(le===0&&(le=ne),C+=w,Y=1<<(Z=I-le);Z+le<z&&!((Y-=te[Z+le])<=0);)Z++,Y<<=1;if(ie+=1<<Z,u===1&&852<ie||u===2&&592<ie)return 1;v[A=M&x]=ne<<24|Z<<16|C-d|0}}return M!==0&&(v[C+M]=I-le<<24|64<<16|0),b.bits=ne,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var s=t("../utils/common"),n=0,i=1;function o(T){for(var F=T.length;0<=--F;)T[F]=0}var a=0,u=29,h=256,m=h+1+u,p=30,v=19,d=2*m+1,g=15,b=16,_=7,S=256,A=16,x=17,C=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(m+2));o(K);var I=new Array(2*p);o(I);var B=new Array(512);o(B);var w=new Array(256);o(w);var z=new Array(u);o(z);var ne,Z,le,Y=new Array(p);function ie(T,F,H,V,L){this.static_tree=T,this.extra_bits=F,this.extra_base=H,this.elems=V,this.max_length=L,this.has_stree=T&&T.length}function M(T,F){this.dyn_tree=T,this.max_code=0,this.stat_desc=F}function j(T){return T<256?B[T]:B[256+(T>>>7)]}function re(T,F){T.pending_buf[T.pending++]=255&F,T.pending_buf[T.pending++]=F>>>8&255}function te(T,F,H){T.bi_valid>b-H?(T.bi_buf|=F<<T.bi_valid&65535,re(T,T.bi_buf),T.bi_buf=F>>b-T.bi_valid,T.bi_valid+=H-b):(T.bi_buf|=F<<T.bi_valid&65535,T.bi_valid+=H)}function Q(T,F,H){te(T,H[2*F],H[2*F+1])}function we(T,F){for(var H=0;H|=1&T,T>>>=1,H<<=1,0<--F;);return H>>>1}function ke(T,F,H){var V,L,J=new Array(g+1),ee=0;for(V=1;V<=g;V++)J[V]=ee=ee+H[V-1]<<1;for(L=0;L<=F;L++){var X=T[2*L+1];X!==0&&(T[2*L]=we(J[X]++,X))}}function ue(T){var F;for(F=0;F<m;F++)T.dyn_ltree[2*F]=0;for(F=0;F<p;F++)T.dyn_dtree[2*F]=0;for(F=0;F<v;F++)T.bl_tree[2*F]=0;T.dyn_ltree[2*S]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function pe(T){8<T.bi_valid?re(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function Te(T,F,H,V){var L=2*F,J=2*H;return T[L]<T[J]||T[L]===T[J]&&V[F]<=V[H]}function be(T,F,H){for(var V=T.heap[H],L=H<<1;L<=T.heap_len&&(L<T.heap_len&&Te(F,T.heap[L+1],T.heap[L],T.depth)&&L++,!Te(F,V,T.heap[L],T.depth));)T.heap[H]=T.heap[L],H=L,L<<=1;T.heap[H]=V}function De(T,F,H){var V,L,J,ee,X=0;if(T.last_lit!==0)for(;V=T.pending_buf[T.d_buf+2*X]<<8|T.pending_buf[T.d_buf+2*X+1],L=T.pending_buf[T.l_buf+X],X++,V===0?Q(T,L,F):(Q(T,(J=w[L])+h+1,F),(ee=R[J])!==0&&te(T,L-=z[J],ee),Q(T,J=j(--V),H),(ee=O[J])!==0&&te(T,V-=Y[J],ee)),X<T.last_lit;);Q(T,S,F)}function Re(T,F){var H,V,L,J=F.dyn_tree,ee=F.stat_desc.static_tree,X=F.stat_desc.has_stree,se=F.stat_desc.elems,he=-1;for(T.heap_len=0,T.heap_max=d,H=0;H<se;H++)J[2*H]!==0?(T.heap[++T.heap_len]=he=H,T.depth[H]=0):J[2*H+1]=0;for(;T.heap_len<2;)J[2*(L=T.heap[++T.heap_len]=he<2?++he:0)]=1,T.depth[L]=0,T.opt_len--,X&&(T.static_len-=ee[2*L+1]);for(F.max_code=he,H=T.heap_len>>1;1<=H;H--)be(T,J,H);for(L=se;H=T.heap[1],T.heap[1]=T.heap[T.heap_len--],be(T,J,1),V=T.heap[1],T.heap[--T.heap_max]=H,T.heap[--T.heap_max]=V,J[2*L]=J[2*H]+J[2*V],T.depth[L]=(T.depth[H]>=T.depth[V]?T.depth[H]:T.depth[V])+1,J[2*H+1]=J[2*V+1]=L,T.heap[1]=L++,be(T,J,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(y,c){var l,E,P,U,q,ce,fe=c.dyn_tree,ge=c.max_code,ve=c.stat_desc.static_tree,me=c.stat_desc.has_stree,na=c.stat_desc.extra_bits,Hs=c.stat_desc.extra_base,St=c.stat_desc.max_length,Wt=0;for(U=0;U<=g;U++)y.bl_count[U]=0;for(fe[2*y.heap[y.heap_max]+1]=0,l=y.heap_max+1;l<d;l++)St<(U=fe[2*fe[2*(E=y.heap[l])+1]+1]+1)&&(U=St,Wt++),fe[2*E+1]=U,ge<E||(y.bl_count[U]++,q=0,Hs<=E&&(q=na[E-Hs]),ce=fe[2*E],y.opt_len+=ce*(U+q),me&&(y.static_len+=ce*(ve[2*E+1]+q)));if(Wt!==0){do{for(U=St-1;y.bl_count[U]===0;)U--;y.bl_count[U]--,y.bl_count[U+1]+=2,y.bl_count[St]--,Wt-=2}while(0<Wt);for(U=St;U!==0;U--)for(E=y.bl_count[U];E!==0;)ge<(P=y.heap[--l])||(fe[2*P+1]!==U&&(y.opt_len+=(U-fe[2*P+1])*fe[2*P],fe[2*P+1]=U),E--)}}(T,F),ke(J,he,T.bl_count)}function f(T,F,H){var V,L,J=-1,ee=F[1],X=0,se=7,he=4;for(ee===0&&(se=138,he=3),F[2*(H+1)+1]=65535,V=0;V<=H;V++)L=ee,ee=F[2*(V+1)+1],++X<se&&L===ee||(X<he?T.bl_tree[2*L]+=X:L!==0?(L!==J&&T.bl_tree[2*L]++,T.bl_tree[2*A]++):X<=10?T.bl_tree[2*x]++:T.bl_tree[2*C]++,J=L,he=(X=0)===ee?(se=138,3):L===ee?(se=6,3):(se=7,4))}function $(T,F,H){var V,L,J=-1,ee=F[1],X=0,se=7,he=4;for(ee===0&&(se=138,he=3),V=0;V<=H;V++)if(L=ee,ee=F[2*(V+1)+1],!(++X<se&&L===ee)){if(X<he)for(;Q(T,L,T.bl_tree),--X!=0;);else L!==0?(L!==J&&(Q(T,L,T.bl_tree),X--),Q(T,A,T.bl_tree),te(T,X-3,2)):X<=10?(Q(T,x,T.bl_tree),te(T,X-3,3)):(Q(T,C,T.bl_tree),te(T,X-11,7));J=L,he=(X=0)===ee?(se=138,3):L===ee?(se=6,3):(se=7,4)}}o(Y);var N=!1;function k(T,F,H,V){te(T,(a<<1)+(V?1:0),3),function(L,J,ee,X){pe(L),X&&(re(L,ee),re(L,~ee)),s.arraySet(L.pending_buf,L.window,J,ee,L.pending),L.pending+=ee}(T,F,H,!0)}r._tr_init=function(T){N||(function(){var F,H,V,L,J,ee=new Array(g+1);for(L=V=0;L<u-1;L++)for(z[L]=V,F=0;F<1<<R[L];F++)w[V++]=L;for(w[V-1]=L,L=J=0;L<16;L++)for(Y[L]=J,F=0;F<1<<O[L];F++)B[J++]=L;for(J>>=7;L<p;L++)for(Y[L]=J<<7,F=0;F<1<<O[L]-7;F++)B[256+J++]=L;for(H=0;H<=g;H++)ee[H]=0;for(F=0;F<=143;)K[2*F+1]=8,F++,ee[8]++;for(;F<=255;)K[2*F+1]=9,F++,ee[9]++;for(;F<=279;)K[2*F+1]=7,F++,ee[7]++;for(;F<=287;)K[2*F+1]=8,F++,ee[8]++;for(ke(K,m+1,ee),F=0;F<p;F++)I[2*F+1]=5,I[2*F]=we(F,5);ne=new ie(K,R,h+1,m,g),Z=new ie(I,O,0,p,g),le=new ie(new Array(0),G,0,v,_)}(),N=!0),T.l_desc=new M(T.dyn_ltree,ne),T.d_desc=new M(T.dyn_dtree,Z),T.bl_desc=new M(T.bl_tree,le),T.bi_buf=0,T.bi_valid=0,ue(T)},r._tr_stored_block=k,r._tr_flush_block=function(T,F,H,V){var L,J,ee=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(X){var se,he=4093624447;for(se=0;se<=31;se++,he>>>=1)if(1&he&&X.dyn_ltree[2*se]!==0)return n;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return i;for(se=32;se<h;se++)if(X.dyn_ltree[2*se]!==0)return i;return n}(T)),Re(T,T.l_desc),Re(T,T.d_desc),ee=function(X){var se;for(f(X,X.dyn_ltree,X.l_desc.max_code),f(X,X.dyn_dtree,X.d_desc.max_code),Re(X,X.bl_desc),se=v-1;3<=se&&X.bl_tree[2*W[se]+1]===0;se--);return X.opt_len+=3*(se+1)+5+5+4,se}(T),L=T.opt_len+3+7>>>3,(J=T.static_len+3+7>>>3)<=L&&(L=J)):L=J=H+5,H+4<=L&&F!==-1?k(T,F,H,V):T.strategy===4||J===L?(te(T,2+(V?1:0),3),De(T,K,I)):(te(T,4+(V?1:0),3),function(X,se,he,y){var c;for(te(X,se-257,5),te(X,he-1,5),te(X,y-4,4),c=0;c<y;c++)te(X,X.bl_tree[2*W[c]+1],3);$(X,X.dyn_ltree,se-1),$(X,X.dyn_dtree,he-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,ee+1),De(T,T.dyn_ltree,T.dyn_dtree)),ue(T),V&&pe(T)},r._tr_tally=function(T,F,H){return T.pending_buf[T.d_buf+2*T.last_lit]=F>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&F,T.pending_buf[T.l_buf+T.last_lit]=255&H,T.last_lit++,F===0?T.dyn_ltree[2*H]++:(T.matches++,F--,T.dyn_ltree[2*(w[H]+h+1)]++,T.dyn_dtree[2*j(F)]++),T.last_lit===T.lit_bufsize-1},r._tr_align=function(T){te(T,2,3),Q(T,S,K),function(F){F.bi_valid===16?(re(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){(function(s){(function(n,i){"use strict";if(!n.setImmediate){var o,a,u,h,m=1,p={},v=!1,d=n.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(n);g=g&&g.setTimeout?g:n,o={}.toString.call(n.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:function(){if(n.postMessage&&!n.importScripts){var A=!0,x=n.onmessage;return n.onmessage=function(){A=!1},n.postMessage("","*"),n.onmessage=x,A}}()?(h="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",S,!1):n.attachEvent("onmessage",S),function(A){n.postMessage(h+A,"*")}):n.MessageChannel?((u=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){u.port2.postMessage(A)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,function(A){var x=d.createElement("script");x.onreadystatechange=function(){_(A),x.onreadystatechange=null,a.removeChild(x),x=null},a.appendChild(x)}):function(A){setTimeout(_,0,A)},g.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var x=new Array(arguments.length-1),C=0;C<x.length;C++)x[C]=arguments[C+1];var R={callback:A,args:x};return p[m]=R,o(m),m++},g.clearImmediate=b}function b(A){delete p[A]}function _(A){if(v)setTimeout(_,0,A);else{var x=p[A];if(x){v=!0;try{(function(C){var R=C.callback,O=C.args;switch(O.length){case 0:R();break;case 1:R(O[0]);break;case 2:R(O[0],O[1]);break;case 3:R(O[0],O[1],O[2]);break;default:R.apply(i,O)}})(x)}finally{b(A),v=!1}}}}function S(A){A.source===n&&typeof A.data=="string"&&A.data.indexOf(h)===0&&_(+A.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Wn=xt((is,as)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof is<"u"?e():(e(),t.FileSaver={})})(is,function(){"use strict";function t(a,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,u,h){var m=new XMLHttpRequest;m.open("GET",a),m.responseType="blob",m.onload=function(){o(m.response,u,h)},m.onerror=function(){console.error("could not download file")},m.send()}function r(a){var u=new XMLHttpRequest;u.open("HEAD",a,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(u)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,i=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(a,u,h){var m=n.URL||n.webkitURL,p=document.createElement("a");u=u||a.name||"download",p.download=u,p.rel="noopener",typeof a=="string"?(p.href=a,p.origin===location.origin?s(p):r(p.href)?e(a,u,h):s(p,p.target="_blank")):(p.href=m.createObjectURL(a),setTimeout(function(){m.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(a,u,h){if(u=u||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,h),u);else if(r(a))e(a,u,h);else{var m=document.createElement("a");m.href=a,m.target="_blank",setTimeout(function(){s(m)})}}:function(a,u,h,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof a=="string")return e(a,u,h);var p=a.type==="application/octet-stream",v=/constructor/i.test(n.HTMLElement)||n.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||p&&v||i)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var S=g.result;S=d?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=S:location=S,m=null},g.readAsDataURL(a)}else{var b=n.URL||n.webkitURL,_=b.createObjectURL(a);m?m.location=_:location.href=_,m=null,setTimeout(function(){b.revokeObjectURL(_)},4e4)}});n.saveAs=o.saveAs=o,typeof as<"u"&&(as.exports=o)})});var co=xt((ih,Dt)=>{"use strict";var dr=function(){};dr.prototype=Object.create(null);var ur=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,pr=/\\([\v\u0020-\u00ff])/gu,oo=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,ut={type:"",parameters:new dr};Object.freeze(ut.parameters);Object.freeze(ut);function io(t){if(typeof t!="string")throw new TypeError("argument header is required and must be a string");let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(oo.test(r)===!1)throw new TypeError("invalid media type");let s={type:r.toLowerCase(),parameters:new dr};if(e===-1)return s;let n,i,o;for(ur.lastIndex=e;i=ur.exec(t);){if(i.index!==e)throw new TypeError("invalid parameter format");e+=i[0].length,n=i[1].toLowerCase(),o=i[2],o[0]==='"'&&(o=o.slice(1,o.length-1),pr.test(o)&&(o=o.replace(pr,"$1"))),s.parameters[n]=o}if(e!==t.length)throw new TypeError("invalid parameter format");return s}function ao(t){if(typeof t!="string")return ut;let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(oo.test(r)===!1)return ut;let s={type:r.toLowerCase(),parameters:new dr};if(e===-1)return s;let n,i,o;for(ur.lastIndex=e;i=ur.exec(t);){if(i.index!==e)return ut;e+=i[0].length,n=i[1].toLowerCase(),o=i[2],o[0]==='"'&&(o=o.slice(1,o.length-1),pr.test(o)&&(o=o.replace(pr,"$1"))),s.parameters[n]=o}return e!==t.length?ut:s}Dt.exports.default={parse:io,safeParse:ao};Dt.exports.parse=io;Dt.exports.safeParse=ao;Dt.exports.defaultContentType=ut});var Ji=xt((Yb,Vi)=>{function Ni(t){return Array.isArray(t)?t:[t]}var Ms="",Bi=" ",js="\\",bd=/^\s+$/,vd=/(?:[^\\]|^)\\$/,_d=/^\\!/,Ed=/^\\#/,Td=/\r?\n/g,Sd=/^\.*\/|^\.+$/,Ls="/",qi="node-ignore";typeof Symbol<"u"&&(qi=Symbol.for("node-ignore"));var $i=qi,kd=(t,e,r)=>Object.defineProperty(t,e,{value:r}),xd=/([0-z])-([0-z])/g,Wi=()=>!1,Ad=t=>t.replace(xd,(e,r,s)=>r.charCodeAt(0)<=s.charCodeAt(0)?e:Ms),Id=t=>{let{length:e}=t;return t.slice(0,e-e%2)},Pd=[[/^\uFEFF/,()=>Ms],[/((?:\\\\)*?)(\\?\s+)$/,(t,e,r)=>e+(r.indexOf("\\")===0?Bi:Ms)],[/(\\+?)\s/g,(t,e)=>{let{length:r}=e;return e.slice(0,r-r%2)+Bi}],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let s=r.replace(/\\\*/g,"[^\\/]*");return e+s}],[/\\\\\\(?=[$.|*+(){^])/g,()=>js],[/\\\\/g,()=>js],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,s,n)=>e===js?`\\[${r}${Id(s)}${n}`:n==="]"&&s.length%2===0?`[${Ad(r)}${s}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],zi=Object.create(null),Cd=(t,e)=>{let r=zi[t];return r||(r=Pd.reduce((s,[n,i])=>s.replace(n,i.bind(t)),t),zi[t]=r),e?new RegExp(r,"i"):new RegExp(r)},$s=t=>typeof t=="string",Rd=t=>t&&$s(t)&&!bd.test(t)&&!vd.test(t)&&t.indexOf("#")!==0,Od=t=>t.split(Td),Ns=class{constructor(e,r,s,n){this.origin=e,this.pattern=r,this.negative=s,this.regex=n}},Fd=(t,e)=>{let r=t,s=!1;t.indexOf("!")===0&&(s=!0,t=t.substr(1)),t=t.replace(_d,"!").replace(Ed,"#");let n=Cd(t,e);return new Ns(r,t,s,n)},Dd=(t,e)=>{throw new e(t)},Ze=(t,e,r)=>$s(t)?t?Ze.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),Hi=t=>Sd.test(t);Ze.isNotRelative=Hi;Ze.convert=t=>t;var Bs=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:s=!1}={}){kd(this,$i,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=s,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[$i]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Rd(e)){let r=Fd(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,Ni($s(e)?Od(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let s=!1,n=!1;return this._rules.forEach(i=>{let{negative:o}=i;if(n===o&&s!==n||o&&!s&&!n&&!r)return;i.regex.test(e)&&(s=!o,n=o)}),{ignored:s,unignored:n}}_test(e,r,s,n){let i=e&&Ze.convert(e);return Ze(i,e,this._allowRelativePaths?Wi:Dd),this._t(i,r,s,n)}_t(e,r,s,n){if(e in r)return r[e];if(n||(n=e.split(Ls)),n.pop(),!n.length)return r[e]=this._testOne(e,s);let i=this._t(n.join(Ls)+Ls,r,s,n);return r[e]=i.ignored?i:this._testOne(e,s)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return Ni(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},Er=t=>new Bs(t),Gd=t=>Ze(t&&Ze.convert(t),t,Wi);Er.isPathValid=Gd;Er.default=Er;Vi.exports=Er;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Ze.convert=t;let e=/^[a-z]:\//i;Ze.isNotRelative=r=>e.test(r)||Hi(r)}});var Be=st(tn(),1),Ie={join:(...t)=>Be.default.join(...t),dirname:t=>Be.default.dirname(t),basename:(t,e)=>Be.default.basename(t,e),extname:t=>Be.default.extname(t),relative:(t,e)=>Be.default.relative(t,e),isAbsolute:t=>Be.default.isAbsolute(t),normalize:t=>Be.default.normalize(t),parse:t=>Be.default.parse(t),format:t=>Be.default.format(t)};function Oe(t){throw new Error(`Unreachable: ${t}`)}var Ae=Ge("ActionRunner"),ze=class extends Error{_output;_header;constructor(e,r){let s=`Failed To Execute Shell Command: ${e}

Output:
${r}`;super(s),this._header=e,this._output=r,Object.setPrototypeOf(this,ze.prototype),this.name="ActionCommandError"}get output(){return this._output}get header(){return this._header}},Vt=class{#r;#e=Promise.resolve();#t;runnerId=Ee(`${Date.now()}`);actions=Ke({});onAlert;onSupabaseAlert;onDeployAlert;buildOutput;constructor(e,r,s,n,i){this.#r=e,this.#t=r,this.onAlert=s,this.onSupabaseAlert=n,this.onDeployAlert=i}addAction(e){let{actionId:r}=e;if(this.actions.get()[r])return;let i=new AbortController;this.actions.setKey(r,{...e.action,status:"pending",executed:!1,abort:()=>{i.abort(),this.#o(r,{status:"aborted"})},abortSignal:i.signal}),this.#e.then(()=>{this.#o(r,{status:"running"})})}async runAction(e,r=!1){let{actionId:s}=e,n=this.actions.get()[s];n||Oe(`Action ${s} not found`),!n.executed&&(r&&n.type!=="file"||(this.#o(s,{...n,...e.action,executed:!r}),this.#e=this.#e.then(()=>this.#s(s,r)).catch(i=>{Ae.error("Action execution promise failed:",i)}),await this.#e))}async#s(e,r=!1){let s=this.actions.get()[e];this.#o(e,{status:"running"});try{switch(s.type){case"shell":{await this.#n(s);break}case"file":{await this.#a(s);break}case"supabase":{try{await this.handleSupabaseAction(s)}catch(n){this.#o(e,{status:"failed",error:n instanceof Error?n.message:"Supabase action failed"});return}break}case"build":{let n=await this.#l(s);this.buildOutput=n;break}case"start":{this.#i(s).then(()=>this.#o(e,{status:"complete"})).catch(n=>{s.abortSignal.aborted||(this.#o(e,{status:"failed",error:"Action failed"}),Ae.error(`[${s.type}]:Action failed

`,n),n instanceof ze&&this.onAlert?.({type:"error",title:"Dev Server Failed",description:n.header,content:n.output}))}),await new Promise(n=>setTimeout(n,2e3));return}}this.#o(e,{status:r?"running":s.abortSignal.aborted?"aborted":"complete"})}catch(n){if(s.abortSignal.aborted||(this.#o(e,{status:"failed",error:"Action failed"}),Ae.error(`[${s.type}]:Action failed

`,n),!(n instanceof ze)))return;throw this.onAlert?.({type:"error",title:"Dev Server Failed",description:n.header,content:n.output}),n}}async#n(e){e.type!=="shell"&&Oe("Expected shell action");let r=this.#t();await r.ready(),(!r||!r.terminal||!r.process)&&Oe("Shell terminal not found");let s=await this.#u(e.content);s.shouldModify&&s.modifiedCommand&&(Ae.debug(`Modified command: ${e.content} -> ${s.modifiedCommand}`),e.content=s.modifiedCommand);let n=await r.executeCommand(this.runnerId.get(),e.content,()=>{Ae.debug(`[${e.type}]:Aborting Action

`,e),e.abort()});if(Ae.debug(`${e.type} Shell Response: [exit code:${n?.exitCode}]`),n?.exitCode!=0){let i=this.#p(e.content,n?.exitCode,n?.output);throw new ze(i.title,i.details)}}async#i(e){e.type!=="start"&&Oe("Expected shell action"),this.#t||Oe("Shell terminal not found");let r=this.#t();await r.ready(),(!r||!r.terminal||!r.process)&&Oe("Shell terminal not found");let s=await r.executeCommand(this.runnerId.get(),e.content,()=>{Ae.debug(`[${e.type}]:Aborting Action

`,e),e.abort()});if(Ae.debug(`${e.type} Shell Response: [exit code:${s?.exitCode}]`),s?.exitCode!=0)throw new ze("Failed To Start Application",s?.output||"No Output Available");return s}async#a(e){e.type!=="file"&&Oe("Expected file action");let r=await this.#r,s=Ie.relative(r.workdir,e.filePath),n=Ie.dirname(s);if(n=n.replace(/\/+$/g,""),n!==".")try{await r.fs.mkdir(n,{recursive:!0}),Ae.debug("Created folder",n)}catch(i){Ae.error(`Failed to create folder

`,i)}try{await r.fs.writeFile(s,e.content),Ae.debug(`File written ${s}`)}catch(i){Ae.error(`Failed to write file

`,i)}}#o(e,r){let s=this.actions.get();this.actions.setKey(e,{...s[e],...r})}async getFileHistory(e){try{let r=await this.#r,s=this.#c(e),n=await r.fs.readFile(s,"utf-8");return JSON.parse(n)}catch(r){return Ae.error("Failed to get file history:",r),null}}async saveFileHistory(e,r){let s=this.#c(e);await this.#a({type:"file",filePath:s,content:JSON.stringify(r),changeSource:"auto-save"})}#c(e){return Ie.join(".history",e)}async#l(e){e.type!=="build"&&Oe("Expected build action"),this.onDeployAlert?.({type:"info",title:"Building Application",description:"Building your application...",stage:"building",buildStatus:"running",deployStatus:"pending",source:"netlify"});let r=await this.#r,s=await r.spawn("npm",["run","build"]),n="";s.output.pipeTo(new WritableStream({write(u){n+=u}}));let i=await s.exit;if(i!==0)throw this.onDeployAlert?.({type:"error",title:"Build Failed",description:"Your application build failed",content:n||"No build output available",stage:"building",buildStatus:"failed",deployStatus:"pending",source:"netlify"}),new ze("Build Failed",n||"No Output Available");this.onDeployAlert?.({type:"success",title:"Build Completed",description:"Your application was built successfully",stage:"deploying",buildStatus:"complete",deployStatus:"running",source:"netlify"});let o=["dist","build","out","output",".next","public"],a="";for(let u of o){let h=Ie.join(r.workdir,u);try{await r.fs.readdir(h),a=h;break}catch{continue}}return a||(a=Ie.join(r.workdir,"dist")),{path:a,exitCode:i,output:n}}async handleSupabaseAction(e){let{operation:r,content:s,filePath:n}=e;switch(Ae.debug("[Supabase Action]:",{operation:r,filePath:n,content:s}),r){case"migration":if(!n)throw new Error("Migration requires a filePath");return this.onSupabaseAlert?.({type:"info",title:"Supabase Migration",description:`Create migration file: ${n}`,content:s,source:"supabase"}),await this.#a({type:"file",filePath:n,content:s,changeSource:"supabase"}),{success:!0};case"query":return this.onSupabaseAlert?.({type:"info",title:"Supabase Query",description:"Execute database query",content:s,source:"supabase"}),{pending:!0};default:throw new Error(`Unknown operation: ${r}`)}}handleDeployAction(e,r,s){if(!this.onDeployAlert){Ae.debug("No deploy alert handler registered");return}let n=r==="failed"?"error":r==="complete"?"success":"info",i=e==="building"?"Building Application":e==="deploying"?"Deploying Application":"Deployment Complete",o=r==="failed"?`${e==="building"?"Build":"Deployment"} failed`:r==="running"?`${e==="building"?"Building":"Deploying"} your application...`:r==="complete"?`${e==="building"?"Build":"Deployment"} completed successfully`:`Preparing to ${e==="building"?"build":"deploy"} your application`,a=e==="building"?r:e==="deploying"||e==="complete"?"complete":"pending",u=e==="building"?"pending":r;this.onDeployAlert({type:n,title:i,description:o,content:s?.error||"",url:s?.url,stage:e,buildStatus:a,deployStatus:u,source:s?.source||"netlify"})}async#u(e){let r=e.trim();if(r.startsWith("rm ")&&!r.includes(" -f")){let s=r.match(/^rm\s+(.+)$/);if(s){let n=s[1].split(/\s+/);try{let i=await this.#r,o=[];for(let a of n)if(!a.startsWith("-"))try{await i.fs.readFile(a),o.push(a)}catch{}if(o.length===0)return{shouldModify:!0,modifiedCommand:`rm -f ${n.join(" ")}`,warning:"Added -f flag to rm command as target files do not exist"};if(o.length<n.length)return{shouldModify:!0,modifiedCommand:`rm -f ${n.join(" ")}`,warning:"Added -f flag to rm command as some target files do not exist"}}catch(i){Ae.debug("Could not validate rm command files:",i)}}}if(r.startsWith("cd ")){let s=r.match(/^cd\s+(.+)$/);if(s){let n=s[1].trim();try{await(await this.#r).fs.readdir(n)}catch{return{shouldModify:!0,modifiedCommand:`mkdir -p ${n} && cd ${n}`,warning:"Directory does not exist, created it first"}}}}if(r.match(/^(cp|mv)\s+/)){let s=r.split(/\s+/);if(s.length>=3){let n=s[1];try{await(await this.#r).fs.readFile(n)}catch{return{shouldModify:!1,warning:`Source file '${n}' does not exist`}}}}return{shouldModify:!1}}#p(e,r,s){let n=e.trim(),i=n.split(/\s+/)[0],o=[{pattern:/cannot remove.*No such file or directory/,title:"File Not Found",getMessage:()=>{let u=s?.match(/'([^']+)'/);return`The file '${u?u[1]:"file"}' does not exist and cannot be removed.

Suggestion: Use 'ls' to check what files exist, or use 'rm -f' to ignore missing files.`}},{pattern:/No such file or directory/,title:"File or Directory Not Found",getMessage:()=>{if(n.startsWith("cd ")){let u=n.match(/cd\s+(.+)/),h=u?u[1]:"directory";return`The directory '${h}' does not exist.

Suggestion: Use 'mkdir -p ${h}' to create it first, or check available directories with 'ls'.`}return`The specified file or directory does not exist.

Suggestion: Check the path and use 'ls' to see available files.`}},{pattern:/Permission denied/,title:"Permission Denied",getMessage:()=>`Permission denied for '${i}'.

Suggestion: The file may not be executable. Try 'chmod +x filename' first.`},{pattern:/command not found/,title:"Command Not Found",getMessage:()=>`The command '${i}' is not available in WebContainer.

Suggestion: Check available commands or use a package manager to install it.`},{pattern:/Is a directory/,title:"Target is a Directory",getMessage:()=>`Cannot perform this operation - target is a directory.

Suggestion: Use 'ls' to list directory contents or add appropriate flags.`},{pattern:/File exists/,title:"File Already Exists",getMessage:()=>`File already exists.

Suggestion: Use a different name or add '-f' flag to overwrite.`}];for(let u of o)if(s&&u.pattern.test(s))return{title:u.title,details:u.getMessage()};let a="";return n.startsWith("npm ")?a=`

Suggestion: Try running "npm install" first or check package.json.`:n.startsWith("git ")?a=`

Suggestion: Check if you're in a git repository or if remote is configured.`:n.match(/^(ls|cat|rm|cp|mv)/)&&(a=`

Suggestion: Check file paths and use "ls" to see available files.`),{title:`Command Failed (exit code: ${r})`,details:`Command: ${n}

Output: ${s||"No output available"}${a}`}}};var rn="https://stackblitz.com";var nt=class{_bus=new EventTarget;listen(e){function r(s){e(s.data)}return this._bus.addEventListener("message",r),()=>this._bus.removeEventListener("message",r)}fireEvent(e){this._bus.dispatchEvent(new MessageEvent("message",{data:e}))}};var ca=new Error;ca.stack="";var la=new nt;function sn(t){return la.listen(t)}var xr={},Jt=null,gt={get editorOrigin(){return Jt==null&&(Jt=new URL(globalThis.WEBCONTAINER_API_IFRAME_URL??rn).origin),Jt},set editorOrigin(t){Jt=new URL(t).origin},setQueryParam(t,e){xr[t]=e},get url(){let t=new URL(this.editorOrigin);t.pathname="/headless";for(let e in xr)t.searchParams.set(e,xr[e]);return t.searchParams.set("version","1.6.1-internal.1"),t}};function nn(){let t,e;function r(){e=new Promise(s=>t=s)}return r(),{get promise(){return e},resolve(s){return t(s)},reset:r}}var Ye={initialized:!1,bootCalled:!1,authComplete:nn(),clientId:"",oauthScope:"",broadcastChannel:null,get editorOrigin(){return gt.editorOrigin},tokens:null},Tf=new nt,Sf=new nt;function on(t){if(!t)throw new Error("Oops! Tokens is not defined when it always should be.")}var Xe;(function(t){t.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",t.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",t.ConsoleError="PREVIEW_CONSOLE_ERROR"})(Xe||(Xe={}));var ua=Object.defineProperty,pa=(t,e)=>{for(var r in e)ua(t,r,{get:e[r],enumerable:!0})},Pe={};pa(Pe,{createEndpoint:()=>cn,expose:()=>Rr,proxy:()=>hn,proxyMarker:()=>Pr,releaseProxy:()=>ln,transfer:()=>mn,transferHandlers:()=>Cr,windowEndpoint:()=>ga,wrap:()=>dn});var Pr=Symbol("Comlink.proxy"),cn=Symbol("Comlink.endpoint"),ln=Symbol("Comlink.releaseProxy"),Ar=Symbol("Comlink.thrown"),un=t=>typeof t=="object"&&t!==null||typeof t=="function",da={canHandle:t=>un(t)&&t[Pr],serialize(t){let{port1:e,port2:r}=new MessageChannel;return Rr(t,e),[r,[r]]},deserialize(t){return t.start(),dn(t)}},fa={canHandle:t=>un(t)&&Ar in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Cr=new Map([["proxy",da],["throw",fa]]);function Rr(t,e=self){e.addEventListener("message",function r(s){if(!s||!s.data)return;let{id:n,type:i,path:o}=Object.assign({path:[]},s.data),a=(s.data.argumentList||[]).map(ot),u;try{let h=o.slice(0,-1).reduce((p,v)=>p[v],t),m=o.reduce((p,v)=>p[v],t);switch(i){case 0:u=m;break;case 1:h[o.slice(-1)[0]]=ot(s.data.value),u=!0;break;case 2:u=m.apply(h,a);break;case 3:{let p=new m(...a);u=hn(p)}break;case 4:{let{port1:p,port2:v}=new MessageChannel;Rr(t,v),u=mn(p,[p])}break;case 5:u=void 0;break}}catch(h){u={value:h,[Ar]:0}}Promise.resolve(u).catch(h=>({value:h,[Ar]:0})).then(h=>{let[m,p]=Or(h);e.postMessage(Object.assign(Object.assign({},m),{id:n}),p),i===5&&(e.removeEventListener("message",r),pn(e))})}),e.start&&e.start()}function ma(t){return t.constructor.name==="MessagePort"}function pn(t){ma(t)&&t.close()}function dn(t,e){return Ir(t,[],e)}function Zt(t){if(t)throw new Error("Proxy has been released and is not useable")}function Ir(t,e=[],r=function(){}){let s=!1,n=new Proxy(r,{get(i,o){if(Zt(s),o===ln)return()=>yt(t,{type:5,path:e.map(a=>a.toString())}).then(()=>{pn(t),s=!0});if(o==="then"){if(e.length===0)return{then:()=>n};let a=yt(t,{type:0,path:e.map(u=>u.toString())}).then(ot);return a.then.bind(a)}return Ir(t,[...e,o])},set(i,o,a){Zt(s);let[u,h]=Or(a);return yt(t,{type:1,path:[...e,o].map(m=>m.toString()),value:u},h).then(ot)},apply(i,o,a){Zt(s);let u=e[e.length-1];if(u===cn)return yt(t,{type:4}).then(ot);if(u==="bind")return Ir(t,e.slice(0,-1));let[h,m]=an(a);return yt(t,{type:2,path:e.map(p=>p.toString()),argumentList:h},m).then(ot)},construct(i,o){Zt(s);let[a,u]=an(o);return yt(t,{type:3,path:e.map(h=>h.toString()),argumentList:a},u).then(ot)}});return n}function ha(t){return Array.prototype.concat.apply([],t)}function an(t){let e=t.map(Or);return[e.map(r=>r[0]),ha(e.map(r=>r[1]))]}var fn=new WeakMap;function mn(t,e){return fn.set(t,e),t}function hn(t){return Object.assign(t,{[Pr]:!0})}function ga(t,e=self,r="*"){return{postMessage:(s,n)=>t.postMessage(s,r,n),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function Or(t){for(let[e,r]of Cr)if(r.canHandle(t)){let[s,n]=r.serialize(t);return[{type:3,name:e,value:s},n]}return[{type:0,value:t},fn.get(t)||[]]}function ot(t){switch(t.type){case 3:return Cr.get(t.name).deserialize(t.value);case 0:return t.value}}function yt(t,e,r){return new Promise(s=>{let n=ya();t.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==n||(t.removeEventListener("message",i),s(o.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:n},e),r)})}function ya(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var wa=[Xe.ConsoleError,Xe.UncaughtException,Xe.UnhandledRejection];function Fr(t){return!(t==null||typeof t!="object"||!("type"in t)||!wa.includes(t.type))}function it(t){let e=Object.create(null);return t?Object.assign(e,t):e}var ba=new TextDecoder("latin1");function Dr(t){let e={d:{}};for(let r of Object.keys(t)){let s=t[r];if("file"in s){if("symlink"in s.file){e.d[r]={f:{l:s.file.symlink}};continue}let i=s.file.contents,o=typeof i=="string"?i:ba.decode(i),a=typeof i=="string"?{}:{b:!0};e.d[r]={f:{c:o,...a}};continue}let n=Dr(s.directory);e.d[r]=n}return e}function Gr(t){let e=it();if("f"in t)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in t)for(let r of Object.keys(t.d)){let s=t.d[r];"d"in s?e[r]=it({directory:Gr(s)}):"f"in s&&("c"in s.f?e[r]=it({file:it({contents:s.f.b?va(s.f.c):s.f.c})}):"l"in s.f&&(e[r]=it({file:it({symlink:s.f.l})})))}return e}function va(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r].charCodeAt(0);return e}var Kt=null,Yt=null,Ur={},gn=new TextDecoder,_a=new TextEncoder,Qe=class{_instance;_runtimeInfo;fs;internal;_tornDown=!1;_unsubscribeFromTokenChangedListener=()=>{};constructor(e,r,s,n){this._instance=e,this._runtimeInfo=n,this.fs=new zr(r);let i=new qr(s);this.internal=new Mr(i,e),Ye.initialized&&(this._unsubscribeFromTokenChangedListener=sn(o=>{this._instance.setCredentials({accessToken:o,editorOrigin:Ye.editorOrigin})}),(async()=>{await Ye.authComplete.promise,!this._tornDown&&(on(Ye.tokens),await this._instance.setCredentials({accessToken:Ye.tokens.access,editorOrigin:Ye.editorOrigin}))})().catch(o=>{console.error(o)}))}async spawn(e,r,s){let n=[];Array.isArray(r)?n=r:s=r;let i,o=new ReadableStream;if(s?.output!==!1){let b=Lr();i=b.push,o=b.stream}let a,u,h,m;if(u=new ReadableStream,m=new ReadableStream,s?.stdout){let b=Lr();a=b.push,u=b.stream}if(s?.stderr){let b=Lr();h=b.push,m=b.stream}let p=Xt(jr(i)),v=Xt(jr(a)),d=Xt(jr(h)),g=await this._instance.run({command:e,args:n,cwd:s?.cwd,env:s?.env,terminal:s?.terminal},v,d,p);return new $r(g,o,u,m)}async export(e,r){let s={format:r?.format??"json",includes:r?.includes,excludes:r?.excludes,external:!0},n=await this._instance.serialize(e,s);if(s.format==="json"){let i=JSON.parse(gn.decode(n));return Gr(i)}return n}on(e,r){if(e==="preview-message"){let i=r;r=o=>{Fr(o)&&i(o)}}let{listener:s,subscribe:n}=Qt(r);return n(this._instance.on(e,Pe.proxy(s)))}mount(e,r){let s=e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):_a.encode(JSON.stringify(Dr(e)));return this._instance.loadFiles(Pe.transfer(s,[s.buffer]),{mountPoints:r?.mountPoint})}setPreviewScript(e,r){return this._instance.setPreviewScript(e,r)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener();let e=async()=>{try{await this.fs._teardown(),await this._instance.teardown()}finally{this._instance[Pe.releaseProxy](),Qe._instance===this&&(Qe._instance=null)}};Qe._teardownPromise=e()}static async boot(e={}){await this._teardownPromise,Qe._teardownPromise=null;let{workdirName:r}=e;if(window.crossOriginIsolated&&e.coep==="none"&&console.warn(`A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.
Set the 'coep' option to 'require-corp'.`),r?.includes("/")||r===".."||r===".")throw new Error("workdirName should be a valid folder name");for(Ye.bootCalled=!0;Kt;)await Kt;if(Qe._instance)throw new Error("Only a single WebContainer instance can be booted");let s=Sa(e);Kt=s.catch(()=>{});try{let n=await s;return Qe._instance=n,n}finally{Kt=null}}},at=Qe;mt(at,"_instance",null),mt(at,"_teardownPromise",null);var Mr=class{previewScript;_instance;constructor(e,r){this.previewScript=e,this._instance=r}watchPaths(e,r){let{listener:s,subscribe:n}=Qt(r);return n(this._instance.watchPaths(e,Pe.proxy(s)))}fileSearch(e,r,s){return this._instance.fileSearch(e,r,s)}textSearch(e,r,s){return this._instance.textSearch(e,r,Pe.proxy(s))}getProcesses(){return this._instance.getProcesses()}onProcessesRemove(e){let{listener:r,subscribe:s}=Qt(e);return s(this._instance.onProcessesRemove(Pe.proxy(r)))}serialize(e,r){return this._instance.serialize(e,r)}setCORSProxy(e){return this._instance.setCORSProxy(e)}setCORSAuthToken(e){return this._instance.setCORSAuthToken(e)}},Ea=1,Ta=2,Nr=class{name;_type;constructor(e,r){this.name=e,this._type=r}isFile(){return this._type===Ea}isDirectory(){return this._type===Ta}},Br=class{_apiClient;_path;_options;_listener;_wrappedListener;_watcher;_closed=!1;constructor(e,r,s,n){this._apiClient=e,this._path=r,this._options=s,this._listener=n,this._apiClient._watchers.add(this),this._wrappedListener=(i,o)=>{this._listener&&!this._closed&&this._listener(i,o)},this._apiClient._fs.watch(this._path,this._options,Xt(this._wrappedListener)).then(i=>{if(this._watcher=i,this._closed)return this._teardown()}).catch(console.error)}async close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),await this._teardown())}async _teardown(){await this._watcher?.close().finally(()=>{this._watcher?.[Pe.releaseProxy]()})}},$r=class{output;input;exit;_process;stdout;stderr;constructor(e,r,s,n){this.output=r,this._process=e,this.input=new WritableStream({write:i=>{this._getProcess()?.write(i).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=s,this.stderr=n}kill(){this._process?.kill()}resize(e){this._getProcess()?.resize(e)}async _onExit(){try{return await this._process.onExit}finally{this._process?.[Pe.releaseProxy](),this._process=null}}_getProcess(){return this._process==null&&console.warn("This process already exited"),this._process}},zr=class{_fs;_watchers=new Set([]);constructor(e){this._fs=e}rm(...e){return this._fs.rm(...e)}async readFile(e,r){return await this._fs.readFile(e,r)}async rename(e,r){return await this._fs.rename(e,r)}async writeFile(e,r,s){if(r instanceof Uint8Array){let n=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength);r=Pe.transfer(new Uint8Array(n),[n])}await this._fs.writeFile(e,r,s)}async readdir(e,r){let s=await this._fs.readdir(e,r);return xa(s)||Aa(s)?s:s.map(i=>new Nr(i.name,i["Symbol(type)"]))}async mkdir(e,r){return await this._fs.mkdir(e,r)}watch(e,r,s){return typeof r=="function"&&(s=r,r=null),new Br(this,e,r,s)}async _teardown(){this._fs[Pe.releaseProxy](),await Promise.all([...this._watchers].map(e=>e.close()))}},qr=class{_previewScript;_listeners=new Map;storage={set:e=>{this._previewScript.storageSet(structuredClone(e))},get:()=>this._previewScript.storageGet(),on:(e,r)=>this._on("storage:change",r)};constructor(e){this._previewScript=e}broadcast(e){this._previewScript.broadcast(structuredClone(e))}on(e,r){return this._on(e,r)}_on(e,r){let s=this._listeners.get(e);if(!s){let n=new Set,{listener:i,subscribe:o}=Qt(a=>{n.forEach(u=>u(a))});s={localListeners:n,remoteUnsubscribe:o(this._previewScript.on(e,Pe.proxy(i)))},this._listeners.set(e,s)}return s.localListeners.add(r),()=>{let{localListeners:n,remoteUnsubscribe:i}=s;n.delete(r),n.size===0&&(i(),this._listeners.delete(e))}}};async function Sa(t){let{serverPromise:e}=ka(t),s=await(await e).build({host:window.location.host,version:"1.6.1-internal.1",workdirName:t.workdirName,forwardPreviewErrors:t.forwardPreviewErrors}),[n,i,o]=await Promise.all([s.fs(),s.previewScript(),s.runtimeInfo()]);return new at(s,n,i,o)}function jr(t){if(t!=null)return e=>{e instanceof Uint8Array?t(gn.decode(e)):e==null&&t(null)}}function Xt(t){if(t!=null)return Pe.proxy(t)}function ka(t){if(Yt!=null)return t.coep!==Ur.coep&&(console.warn(`Attempting to boot WebContainer with 'coep: ${t.coep}'`),console.warn(`First boot had 'coep: ${Ur.coep}', new settings will not take effect!`)),{serverPromise:Yt};t.coep&&gt.setQueryParam("coep",t.coep),t.experimentalNode&&gt.setQueryParam("experimental_node","1");let e=document.createElement("iframe");e.style.display="none",e.setAttribute("allow","cross-origin-isolated");let r=gt.url;e.src=r.toString();let{origin:s}=r;return Ur={...t},Yt=new Promise(n=>{let i=o=>{if(o.origin!==s)return;let{data:a}=o;if(a.type==="init"){n(Pe.wrap(o.ports[0]));return}if(a.type==="warning"){console[a.level].call(console,a.message);return}};window.addEventListener("message",i)}),document.body.insertBefore(e,null),{serverPromise:Yt}}function xa(t){return typeof t[0]=="string"}function Aa(t){return t[0]instanceof Uint8Array}function Lr(){let t=null;return{stream:new ReadableStream({start(s){t=s}}),push:s=>{s!=null?t?.enqueue(s):(t?.close(),t=null)}}}function Qt(t){let e=!1,r=()=>{};return{subscribe(n){return n.then(i=>{r=i,e&&r()}),()=>{e=!0,r()}},listener:(...n)=>{e||t(...n)}}}function yn(t){let e=r=>{if(!/^https?:\/\/[^\/]+\.webcontainer-api\.io(\/.*)?$/.test(r))return r;let n=/^https?:\/\/[^\/]+\.webcontainer-api\.io\/(.*?)$/;return r.match(n)?.[1]||""};return t.split(`
`).map(r=>r.replace(/(https?:\/\/[^\/]+\.webcontainer-api\.io\/[^\s\)]+)/g,s=>e(s))).join(`
`)}var Ia={loaded:!1},qe=new Promise(()=>{});import.meta.env.SSR||(qe=Promise.resolve().then(()=>at.boot({coep:"credentialless",workdirName:Xs,forwardPreviewErrors:!0})).then(async t=>{Ia.loaded=!0;let{workbenchStore:e}=await import("/build/_shared/workbench-VRZRXO5O.js"),s=await(await fetch("/inspector-script.js")).text();return await t.setPreviewScript(s),t.on("preview-message",n=>{if(console.log("WebContainer preview message:",n),n.type==="PREVIEW_UNCAUGHT_EXCEPTION"||n.type==="PREVIEW_UNHANDLED_REJECTION"){let o=n.type==="PREVIEW_UNHANDLED_REJECTION"?"Unhandled Promise Rejection":"Uncaught Exception";e.actionAlert.set({type:"preview",title:o,description:"message"in n?n.message:"Unknown error",content:`Error occurred at ${n.pathname}${n.search}${n.hash}
Port: ${n.port}

Stack trace:
${yn(n.stack||"")}`,source:"preview"})}}),t}));var Pa=Ge("EditorStore"),er=class{#r;selectedFile=Ee();documents=Ke({});currentDocument=Ks([this.documents,this.selectedFile],(e,r)=>{if(r)return e[r]});constructor(e){this.#r=e}setDocuments(e){let r=this.documents.value;this.documents.set(Object.fromEntries(Object.entries(e).map(([s,n])=>{if(n===void 0||n.type!=="file")return;let i=r?.[s];return[s,{value:n.content,filePath:s,isBinary:n.isBinary,scroll:i?.scroll}]}).filter(Boolean)))}setSelectedFile(e){this.selectedFile.set(e)}updateScrollPosition(e,r){let n=this.documents.get()[e];n&&this.documents.setKey(e,{...n,scroll:r})}updateFile(e,r){let n=this.documents.get()[e];if(!n)return;if(this.#r.getFile(e)?.isLocked){Pa.warn(`Attempted to update locked file: ${e}`);return}n.value!==r&&this.documents.setKey(e,{...n,value:r})}};var At={},wn=!1;function Ca(){if(wn)return At;wn=!0,At.byteLength=a,At.toByteArray=h,At.fromByteArray=v;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,i=s.length;n<i;++n)t[n]=s[n],e[s.charCodeAt(n)]=n;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function o(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=d.indexOf("=");b===-1&&(b=g);var _=b===g?0:4-b%4;return[b,_]}function a(d){var g=o(d),b=g[0],_=g[1];return(b+_)*3/4-_}function u(d,g,b){return(g+b)*3/4-b}function h(d){var g,b=o(d),_=b[0],S=b[1],A=new r(u(d,_,S)),x=0,C=S>0?_-4:_,R;for(R=0;R<C;R+=4)g=e[d.charCodeAt(R)]<<18|e[d.charCodeAt(R+1)]<<12|e[d.charCodeAt(R+2)]<<6|e[d.charCodeAt(R+3)],A[x++]=g>>16&255,A[x++]=g>>8&255,A[x++]=g&255;return S===2&&(g=e[d.charCodeAt(R)]<<2|e[d.charCodeAt(R+1)]>>4,A[x++]=g&255),S===1&&(g=e[d.charCodeAt(R)]<<10|e[d.charCodeAt(R+1)]<<4|e[d.charCodeAt(R+2)]>>2,A[x++]=g>>8&255,A[x++]=g&255),A}function m(d){return t[d>>18&63]+t[d>>12&63]+t[d>>6&63]+t[d&63]}function p(d,g,b){for(var _,S=[],A=g;A<b;A+=3)_=(d[A]<<16&16711680)+(d[A+1]<<8&65280)+(d[A+2]&255),S.push(m(_));return S.join("")}function v(d){for(var g,b=d.length,_=b%3,S=[],A=16383,x=0,C=b-_;x<C;x+=A)S.push(p(d,x,x+A>C?C:x+A));return _===1?(g=d[b-1],S.push(t[g>>2]+t[g<<4&63]+"==")):_===2&&(g=(d[b-2]<<8)+d[b-1],S.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),S.join("")}return At}var tr={},bn=!1;function Ra(){return bn||(bn=!0,tr.read=function(t,e,r,s,n){var i,o,a=n*8-s-1,u=(1<<a)-1,h=u>>1,m=-7,p=r?n-1:0,v=r?-1:1,d=t[e+p];for(p+=v,i=d&(1<<-m)-1,d>>=-m,m+=a;m>0;i=i*256+t[e+p],p+=v,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=s;m>0;o=o*256+t[e+p],p+=v,m-=8);if(i===0)i=1-h;else{if(i===u)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,s),i=i-h}return(d?-1:1)*o*Math.pow(2,i-s)},tr.write=function(t,e,r,s,n,i){var o,a,u,h=i*8-n-1,m=(1<<h)-1,p=m>>1,v=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,g=s?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=v/u:e+=v*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=m?(a=0,o=m):o+p>=1?(a=(e*u-1)*Math.pow(2,n),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=a&255,d+=g,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[r+d]=o&255,d+=g,o/=256,h-=8);t[r+d-g]|=b*128}),tr}var ct={},vn=!1;function Oa(){if(vn)return ct;vn=!0;let t=Ca(),e=Ra(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ct.Buffer=o,ct.SlowBuffer=S,ct.INSPECT_MAX_BYTES=50;let s=2147483647;ct.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=n(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{let y=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(y,c),y.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(y){if(y>s)throw new RangeError('The value "'+y+'" is invalid for option "size"');let c=new Uint8Array(y);return Object.setPrototypeOf(c,o.prototype),c}function o(y,c,l){if(typeof y=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(y)}return a(y,c,l)}o.poolSize=8192;function a(y,c,l){if(typeof y=="string")return p(y,c);if(ArrayBuffer.isView(y))return d(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(J(y,ArrayBuffer)||y&&J(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(y,SharedArrayBuffer)||y&&J(y.buffer,SharedArrayBuffer)))return g(y,c,l);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let E=y.valueOf&&y.valueOf();if(E!=null&&E!==y)return o.from(E,c,l);let P=b(y);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return o.from(y[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}o.from=function(y,c,l){return a(y,c,l)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function h(y,c,l){return u(y),y<=0?i(y):c!==void 0?typeof l=="string"?i(y).fill(c,l):i(y).fill(c):i(y)}o.alloc=function(y,c,l){return h(y,c,l)};function m(y){return u(y),i(y<0?0:_(y)|0)}o.allocUnsafe=function(y){return m(y)},o.allocUnsafeSlow=function(y){return m(y)};function p(y,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);let l=A(y,c)|0,E=i(l),P=E.write(y,c);return P!==l&&(E=E.slice(0,P)),E}function v(y){let c=y.length<0?0:_(y.length)|0,l=i(c);for(let E=0;E<c;E+=1)l[E]=y[E]&255;return l}function d(y){if(J(y,Uint8Array)){let c=new Uint8Array(y);return g(c.buffer,c.byteOffset,c.byteLength)}return v(y)}function g(y,c,l){if(c<0||y.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let E;return c===void 0&&l===void 0?E=new Uint8Array(y):l===void 0?E=new Uint8Array(y,c):E=new Uint8Array(y,c,l),Object.setPrototypeOf(E,o.prototype),E}function b(y){if(o.isBuffer(y)){let c=_(y.length)|0,l=i(c);return l.length===0||y.copy(l,0,0,c),l}if(y.length!==void 0)return typeof y.length!="number"||ee(y.length)?i(0):v(y);if(y.type==="Buffer"&&Array.isArray(y.data))return v(y.data)}function _(y){if(y>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return y|0}function S(y){return+y!=y&&(y=0),o.alloc(+y)}o.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==o.prototype},o.compare=function(c,l){if(J(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),J(l,Uint8Array)&&(l=o.from(l,l.offset,l.byteLength)),!o.isBuffer(c)||!o.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let E=c.length,P=l.length;for(let U=0,q=Math.min(E,P);U<q;++U)if(c[U]!==l[U]){E=c[U],P=l[U];break}return E<P?-1:P<E?1:0},o.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return o.alloc(0);let E;if(l===void 0)for(l=0,E=0;E<c.length;++E)l+=c[E].length;let P=o.allocUnsafe(l),U=0;for(E=0;E<c.length;++E){let q=c[E];if(J(q,Uint8Array))U+q.length>P.length?(o.isBuffer(q)||(q=o.from(q)),q.copy(P,U)):Uint8Array.prototype.set.call(P,q,U);else if(o.isBuffer(q))q.copy(P,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=q.length}return P};function A(y,c){if(o.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||J(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);let l=y.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&l===0)return 0;let P=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return T(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return V(y).length;default:if(P)return E?-1:T(y).length;c=(""+c).toLowerCase(),P=!0}}o.byteLength=A;function x(y,c,l){let E=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return"";for(y||(y="utf8");;)switch(y){case"hex":return ie(this,c,l);case"utf8":case"utf-8":return z(this,c,l);case"ascii":return le(this,c,l);case"latin1":case"binary":return Y(this,c,l);case"base64":return w(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,c,l);default:if(E)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),E=!0}}o.prototype._isBuffer=!0;function C(y,c,l){let E=y[c];y[c]=y[l],y[l]=E}o.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)C(this,l,l+1);return this},o.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)C(this,l,l+3),C(this,l+1,l+2);return this},o.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)C(this,l,l+7),C(this,l+1,l+6),C(this,l+2,l+5),C(this,l+3,l+4);return this},o.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?z(this,0,c):x.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(c){if(!o.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:o.compare(this,c)===0},o.prototype.inspect=function(){let c="",l=ct.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(c,l,E,P,U){if(J(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),E===void 0&&(E=c?c.length:0),P===void 0&&(P=0),U===void 0&&(U=this.length),l<0||E>c.length||P<0||U>this.length)throw new RangeError("out of range index");if(P>=U&&l>=E)return 0;if(P>=U)return-1;if(l>=E)return 1;if(l>>>=0,E>>>=0,P>>>=0,U>>>=0,this===c)return 0;let q=U-P,ce=E-l,fe=Math.min(q,ce),ge=this.slice(P,U),ve=c.slice(l,E);for(let me=0;me<fe;++me)if(ge[me]!==ve[me]){q=ge[me],ce=ve[me];break}return q<ce?-1:ce<q?1:0};function R(y,c,l,E,P){if(y.length===0)return-1;if(typeof l=="string"?(E=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,ee(l)&&(l=P?0:y.length-1),l<0&&(l=y.length+l),l>=y.length){if(P)return-1;l=y.length-1}else if(l<0)if(P)l=0;else return-1;if(typeof c=="string"&&(c=o.from(c,E)),o.isBuffer(c))return c.length===0?-1:O(y,c,l,E,P);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(y,c,l):Uint8Array.prototype.lastIndexOf.call(y,c,l):O(y,[c],l,E,P);throw new TypeError("val must be string, number or Buffer")}function O(y,c,l,E,P){let U=1,q=y.length,ce=c.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(y.length<2||c.length<2)return-1;U=2,q/=2,ce/=2,l/=2}function fe(ve,me){return U===1?ve[me]:ve.readUInt16BE(me*U)}let ge;if(P){let ve=-1;for(ge=l;ge<q;ge++)if(fe(y,ge)===fe(c,ve===-1?0:ge-ve)){if(ve===-1&&(ve=ge),ge-ve+1===ce)return ve*U}else ve!==-1&&(ge-=ge-ve),ve=-1}else for(l+ce>q&&(l=q-ce),ge=l;ge>=0;ge--){let ve=!0;for(let me=0;me<ce;me++)if(fe(y,ge+me)!==fe(c,me)){ve=!1;break}if(ve)return ge}return-1}o.prototype.includes=function(c,l,E){return this.indexOf(c,l,E)!==-1},o.prototype.indexOf=function(c,l,E){return R(this,c,l,E,!0)},o.prototype.lastIndexOf=function(c,l,E){return R(this,c,l,E,!1)};function G(y,c,l,E){l=Number(l)||0;let P=y.length-l;E?(E=Number(E),E>P&&(E=P)):E=P;let U=c.length;E>U/2&&(E=U/2);let q;for(q=0;q<E;++q){let ce=parseInt(c.substr(q*2,2),16);if(ee(ce))return q;y[l+q]=ce}return q}function W(y,c,l,E){return L(T(c,y.length-l),y,l,E)}function K(y,c,l,E){return L(F(c),y,l,E)}function I(y,c,l,E){return L(V(c),y,l,E)}function B(y,c,l,E){return L(H(c,y.length-l),y,l,E)}o.prototype.write=function(c,l,E,P){if(l===void 0)P="utf8",E=this.length,l=0;else if(E===void 0&&typeof l=="string")P=l,E=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(E)?(E=E>>>0,P===void 0&&(P="utf8")):(P=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let U=this.length-l;if((E===void 0||E>U)&&(E=U),c.length>0&&(E<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let q=!1;for(;;)switch(P){case"hex":return G(this,c,l,E);case"utf8":case"utf-8":return W(this,c,l,E);case"ascii":case"latin1":case"binary":return K(this,c,l,E);case"base64":return I(this,c,l,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,c,l,E);default:if(q)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),q=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(y,c,l){return c===0&&l===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(c,l))}function z(y,c,l){l=Math.min(y.length,l);let E=[],P=c;for(;P<l;){let U=y[P],q=null,ce=U>239?4:U>223?3:U>191?2:1;if(P+ce<=l){let fe,ge,ve,me;switch(ce){case 1:U<128&&(q=U);break;case 2:fe=y[P+1],(fe&192)===128&&(me=(U&31)<<6|fe&63,me>127&&(q=me));break;case 3:fe=y[P+1],ge=y[P+2],(fe&192)===128&&(ge&192)===128&&(me=(U&15)<<12|(fe&63)<<6|ge&63,me>2047&&(me<55296||me>57343)&&(q=me));break;case 4:fe=y[P+1],ge=y[P+2],ve=y[P+3],(fe&192)===128&&(ge&192)===128&&(ve&192)===128&&(me=(U&15)<<18|(fe&63)<<12|(ge&63)<<6|ve&63,me>65535&&me<1114112&&(q=me))}}q===null?(q=65533,ce=1):q>65535&&(q-=65536,E.push(q>>>10&1023|55296),q=56320|q&1023),E.push(q),P+=ce}return Z(E)}let ne=4096;function Z(y){let c=y.length;if(c<=ne)return String.fromCharCode.apply(String,y);let l="",E=0;for(;E<c;)l+=String.fromCharCode.apply(String,y.slice(E,E+=ne));return l}function le(y,c,l){let E="";l=Math.min(y.length,l);for(let P=c;P<l;++P)E+=String.fromCharCode(y[P]&127);return E}function Y(y,c,l){let E="";l=Math.min(y.length,l);for(let P=c;P<l;++P)E+=String.fromCharCode(y[P]);return E}function ie(y,c,l){let E=y.length;(!c||c<0)&&(c=0),(!l||l<0||l>E)&&(l=E);let P="";for(let U=c;U<l;++U)P+=X[y[U]];return P}function M(y,c,l){let E=y.slice(c,l),P="";for(let U=0;U<E.length-1;U+=2)P+=String.fromCharCode(E[U]+E[U+1]*256);return P}o.prototype.slice=function(c,l){let E=this.length;c=~~c,l=l===void 0?E:~~l,c<0?(c+=E,c<0&&(c=0)):c>E&&(c=E),l<0?(l+=E,l<0&&(l=0)):l>E&&(l=E),l<c&&(l=c);let P=this.subarray(c,l);return Object.setPrototypeOf(P,o.prototype),P};function j(y,c,l){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+c>l)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(c,l,E){c=c>>>0,l=l>>>0,E||j(c,l,this.length);let P=this[c],U=1,q=0;for(;++q<l&&(U*=256);)P+=this[c+q]*U;return P},o.prototype.readUintBE=o.prototype.readUIntBE=function(c,l,E){c=c>>>0,l=l>>>0,E||j(c,l,this.length);let P=this[c+--l],U=1;for(;l>0&&(U*=256);)P+=this[c+--l]*U;return P},o.prototype.readUint8=o.prototype.readUInt8=function(c,l){return c=c>>>0,l||j(c,1,this.length),this[c]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||j(c,2,this.length),this[c]|this[c+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||j(c,2,this.length),this[c]<<8|this[c+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||j(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||j(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},o.prototype.readBigUInt64LE=se(function(c){c=c>>>0,f(c,"offset");let l=this[c],E=this[c+7];(l===void 0||E===void 0)&&$(c,this.length-8);let P=l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,U=this[++c]+this[++c]*2**8+this[++c]*2**16+E*2**24;return BigInt(P)+(BigInt(U)<<BigInt(32))}),o.prototype.readBigUInt64BE=se(function(c){c=c>>>0,f(c,"offset");let l=this[c],E=this[c+7];(l===void 0||E===void 0)&&$(c,this.length-8);let P=l*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],U=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E;return(BigInt(P)<<BigInt(32))+BigInt(U)}),o.prototype.readIntLE=function(c,l,E){c=c>>>0,l=l>>>0,E||j(c,l,this.length);let P=this[c],U=1,q=0;for(;++q<l&&(U*=256);)P+=this[c+q]*U;return U*=128,P>=U&&(P-=Math.pow(2,8*l)),P},o.prototype.readIntBE=function(c,l,E){c=c>>>0,l=l>>>0,E||j(c,l,this.length);let P=l,U=1,q=this[c+--P];for(;P>0&&(U*=256);)q+=this[c+--P]*U;return U*=128,q>=U&&(q-=Math.pow(2,8*l)),q},o.prototype.readInt8=function(c,l){return c=c>>>0,l||j(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},o.prototype.readInt16LE=function(c,l){c=c>>>0,l||j(c,2,this.length);let E=this[c]|this[c+1]<<8;return E&32768?E|4294901760:E},o.prototype.readInt16BE=function(c,l){c=c>>>0,l||j(c,2,this.length);let E=this[c+1]|this[c]<<8;return E&32768?E|4294901760:E},o.prototype.readInt32LE=function(c,l){return c=c>>>0,l||j(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},o.prototype.readInt32BE=function(c,l){return c=c>>>0,l||j(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},o.prototype.readBigInt64LE=se(function(c){c=c>>>0,f(c,"offset");let l=this[c],E=this[c+7];(l===void 0||E===void 0)&&$(c,this.length-8);let P=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(E<<24);return(BigInt(P)<<BigInt(32))+BigInt(l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),o.prototype.readBigInt64BE=se(function(c){c=c>>>0,f(c,"offset");let l=this[c],E=this[c+7];(l===void 0||E===void 0)&&$(c,this.length-8);let P=(l<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(P)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E)}),o.prototype.readFloatLE=function(c,l){return c=c>>>0,l||j(c,4,this.length),e.read(this,c,!0,23,4)},o.prototype.readFloatBE=function(c,l){return c=c>>>0,l||j(c,4,this.length),e.read(this,c,!1,23,4)},o.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||j(c,8,this.length),e.read(this,c,!0,52,8)},o.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||j(c,8,this.length),e.read(this,c,!1,52,8)};function re(y,c,l,E,P,U){if(!o.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>P||c<U)throw new RangeError('"value" argument is out of bounds');if(l+E>y.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(c,l,E,P){if(c=+c,l=l>>>0,E=E>>>0,!P){let ce=Math.pow(2,8*E)-1;re(this,c,l,E,ce,0)}let U=1,q=0;for(this[l]=c&255;++q<E&&(U*=256);)this[l+q]=c/U&255;return l+E},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(c,l,E,P){if(c=+c,l=l>>>0,E=E>>>0,!P){let ce=Math.pow(2,8*E)-1;re(this,c,l,E,ce,0)}let U=E-1,q=1;for(this[l+U]=c&255;--U>=0&&(q*=256);)this[l+U]=c/q&255;return l+E},o.prototype.writeUint8=o.prototype.writeUInt8=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,1,255,0),this[l]=c&255,l+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function te(y,c,l,E,P){Re(c,E,P,y,l,7);let U=Number(c&BigInt(4294967295));y[l++]=U,U=U>>8,y[l++]=U,U=U>>8,y[l++]=U,U=U>>8,y[l++]=U;let q=Number(c>>BigInt(32)&BigInt(4294967295));return y[l++]=q,q=q>>8,y[l++]=q,q=q>>8,y[l++]=q,q=q>>8,y[l++]=q,l}function Q(y,c,l,E,P){Re(c,E,P,y,l,7);let U=Number(c&BigInt(4294967295));y[l+7]=U,U=U>>8,y[l+6]=U,U=U>>8,y[l+5]=U,U=U>>8,y[l+4]=U;let q=Number(c>>BigInt(32)&BigInt(4294967295));return y[l+3]=q,q=q>>8,y[l+2]=q,q=q>>8,y[l+1]=q,q=q>>8,y[l]=q,l+8}o.prototype.writeBigUInt64LE=se(function(c,l=0){return te(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=se(function(c,l=0){return Q(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(c,l,E,P){if(c=+c,l=l>>>0,!P){let fe=Math.pow(2,8*E-1);re(this,c,l,E,fe-1,-fe)}let U=0,q=1,ce=0;for(this[l]=c&255;++U<E&&(q*=256);)c<0&&ce===0&&this[l+U-1]!==0&&(ce=1),this[l+U]=(c/q>>0)-ce&255;return l+E},o.prototype.writeIntBE=function(c,l,E,P){if(c=+c,l=l>>>0,!P){let fe=Math.pow(2,8*E-1);re(this,c,l,E,fe-1,-fe)}let U=E-1,q=1,ce=0;for(this[l+U]=c&255;--U>=0&&(q*=256);)c<0&&ce===0&&this[l+U+1]!==0&&(ce=1),this[l+U]=(c/q>>0)-ce&255;return l+E},o.prototype.writeInt8=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},o.prototype.writeInt16LE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},o.prototype.writeInt16BE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},o.prototype.writeInt32LE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},o.prototype.writeInt32BE=function(c,l,E){return c=+c,l=l>>>0,E||re(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},o.prototype.writeBigInt64LE=se(function(c,l=0){return te(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=se(function(c,l=0){return Q(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(y,c,l,E,P,U){if(l+E>y.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function ke(y,c,l,E,P){return c=+c,l=l>>>0,P||we(y,c,l,4),e.write(y,c,l,E,23,4),l+4}o.prototype.writeFloatLE=function(c,l,E){return ke(this,c,l,!0,E)},o.prototype.writeFloatBE=function(c,l,E){return ke(this,c,l,!1,E)};function ue(y,c,l,E,P){return c=+c,l=l>>>0,P||we(y,c,l,8),e.write(y,c,l,E,52,8),l+8}o.prototype.writeDoubleLE=function(c,l,E){return ue(this,c,l,!0,E)},o.prototype.writeDoubleBE=function(c,l,E){return ue(this,c,l,!1,E)},o.prototype.copy=function(c,l,E,P){if(!o.isBuffer(c))throw new TypeError("argument should be a Buffer");if(E||(E=0),!P&&P!==0&&(P=this.length),l>=c.length&&(l=c.length),l||(l=0),P>0&&P<E&&(P=E),P===E||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),c.length-l<P-E&&(P=c.length-l+E);let U=P-E;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,E,P):Uint8Array.prototype.set.call(c,this.subarray(E,P),l),U},o.prototype.fill=function(c,l,E,P){if(typeof c=="string"){if(typeof l=="string"?(P=l,l=0,E=this.length):typeof E=="string"&&(P=E,E=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!o.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(c.length===1){let q=c.charCodeAt(0);(P==="utf8"&&q<128||P==="latin1")&&(c=q)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<E)throw new RangeError("Out of range index");if(E<=l)return this;l=l>>>0,E=E===void 0?this.length:E>>>0,c||(c=0);let U;if(typeof c=="number")for(U=l;U<E;++U)this[U]=c;else{let q=o.isBuffer(c)?c:o.from(c,P),ce=q.length;if(ce===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(U=0;U<E-l;++U)this[U+l]=q[U%ce]}return this};let pe={};function Te(y,c,l){pe[y]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(y,c){return`The "${y}" argument must be of type number. Received type ${typeof c}`},TypeError),Te("ERR_OUT_OF_RANGE",function(y,c,l){let E=`The value of "${y}" is out of range.`,P=l;return Number.isInteger(l)&&Math.abs(l)>2**32?P=be(String(l)):typeof l=="bigint"&&(P=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(P=be(P)),P+="n"),E+=` It must be ${c}. Received ${P}`,E},RangeError);function be(y){let c="",l=y.length,E=y[0]==="-"?1:0;for(;l>=E+4;l-=3)c=`_${y.slice(l-3,l)}${c}`;return`${y.slice(0,l)}${c}`}function De(y,c,l){f(c,"offset"),(y[c]===void 0||y[c+l]===void 0)&&$(c,y.length-(l+1))}function Re(y,c,l,E,P,U){if(y>l||y<c){let q=typeof c=="bigint"?"n":"",ce;throw c===0||c===BigInt(0)?ce=`>= 0${q} and < 2${q} ** ${(U+1)*8}${q}`:ce=`>= -(2${q} ** ${(U+1)*8-1}${q}) and < 2 ** ${(U+1)*8-1}${q}`,new pe.ERR_OUT_OF_RANGE("value",ce,y)}De(E,P,U)}function f(y,c){if(typeof y!="number")throw new pe.ERR_INVALID_ARG_TYPE(c,"number",y)}function $(y,c,l){throw Math.floor(y)!==y?(f(y,l),new pe.ERR_OUT_OF_RANGE("offset","an integer",y)):c<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,y)}let N=/[^+/0-9A-Za-z-_]/g;function k(y){if(y=y.split("=")[0],y=y.trim().replace(N,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function T(y,c){c=c||1/0;let l,E=y.length,P=null,U=[];for(let q=0;q<E;++q){if(l=y.charCodeAt(q),l>55295&&l<57344){if(!P){if(l>56319){(c-=3)>-1&&U.push(239,191,189);continue}else if(q+1===E){(c-=3)>-1&&U.push(239,191,189);continue}P=l;continue}if(l<56320){(c-=3)>-1&&U.push(239,191,189),P=l;continue}l=(P-55296<<10|l-56320)+65536}else P&&(c-=3)>-1&&U.push(239,191,189);if(P=null,l<128){if((c-=1)<0)break;U.push(l)}else if(l<2048){if((c-=2)<0)break;U.push(l>>6|192,l&63|128)}else if(l<65536){if((c-=3)<0)break;U.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((c-=4)<0)break;U.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return U}function F(y){let c=[];for(let l=0;l<y.length;++l)c.push(y.charCodeAt(l)&255);return c}function H(y,c){let l,E,P,U=[];for(let q=0;q<y.length&&!((c-=2)<0);++q)l=y.charCodeAt(q),E=l>>8,P=l%256,U.push(P),U.push(E);return U}function V(y){return t.toByteArray(k(y))}function L(y,c,l,E){let P;for(P=0;P<E&&!(P+l>=c.length||P>=y.length);++P)c[P+l]=y[P];return P}function J(y,c){return y instanceof c||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===c.name}function ee(y){return y!==y}let X=function(){let y="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){let E=l*16;for(let P=0;P<16;++P)c[E+P]=y[l]+y[P]}return c}();function se(y){return typeof BigInt>"u"?he:y}function he(){throw new Error("BigInt not supported")}return ct}var lt=Oa();lt.Buffer;lt.SlowBuffer;lt.INSPECT_MAX_BYTES;lt.kMaxLength;var Wr=lt.Buffer,im=lt.INSPECT_MAX_BYTES,am=lt.kMaxLength;function _n(t,e){let r,s=[],n=Promise.resolve(),i=()=>{r=self.setTimeout(async()=>{await n,s.length>0&&(n=Promise.resolve(e(s))),r=void 0,s=[]},t)};return(...o)=>{s.push(o),r||i()}}function We(){}We.prototype={diff:function(e,r){var s,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function a(C){return i?(setTimeout(function(){i(void 0,C)},0),!0):C}e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var u=r.length,h=e.length,m=1,p=u+h;n.maxEditLength&&(p=Math.min(p,n.maxEditLength));var v=(s=n.timeout)!==null&&s!==void 0?s:1/0,d=Date.now()+v,g=[{oldPos:-1,lastComponent:void 0}],b=this.extractCommon(g[0],r,e,0);if(g[0].oldPos+1>=h&&b+1>=u)return a([{value:this.join(r),count:r.length}]);var _=-1/0,S=1/0;function A(){for(var C=Math.max(_,-m);C<=Math.min(S,m);C+=2){var R=void 0,O=g[C-1],G=g[C+1];O&&(g[C-1]=void 0);var W=!1;if(G){var K=G.oldPos-C;W=G&&0<=K&&K<u}var I=O&&O.oldPos+1<h;if(!W&&!I){g[C]=void 0;continue}if(!I||W&&O.oldPos+1<G.oldPos?R=o.addToPath(G,!0,void 0,0):R=o.addToPath(O,void 0,!0,1),b=o.extractCommon(R,r,e,C),R.oldPos+1>=h&&b+1>=u)return a(Fa(o,R.lastComponent,r,e,o.useLongestToken));g[C]=R,R.oldPos+1>=h&&(S=Math.min(S,C-1)),b+1>=u&&(_=Math.max(_,C+1))}m++}if(i)(function C(){setTimeout(function(){if(m>p||Date.now()>d)return i();A()||C()},0)})();else for(;m<=p&&Date.now()<=d;){var x=A();if(x)return x}},addToPath:function(e,r,s,n){var i=e.lastComponent;return i&&i.added===r&&i.removed===s?{oldPos:e.oldPos+n,lastComponent:{count:i.count+1,added:r,removed:s,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:r,removed:s,previousComponent:i}}},extractCommon:function(e,r,s,n){for(var i=r.length,o=s.length,a=e.oldPos,u=a-n,h=0;u+1<i&&a+1<o&&this.equals(r[u+1],s[a+1]);)u++,a++,h++;return h&&(e.lastComponent={count:h,previousComponent:e.lastComponent}),e.oldPos=a,u},equals:function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],s=0;s<e.length;s++)e[s]&&r.push(e[s]);return r},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function Fa(t,e,r,s,n){for(var i=[],o;e;)i.push(e),o=e.previousComponent,delete e.previousComponent,e=o;i.reverse();for(var a=0,u=i.length,h=0,m=0;a<u;a++){var p=i[a];if(p.removed){if(p.value=t.join(s.slice(m,m+p.count)),m+=p.count,a&&i[a-1].added){var d=i[a-1];i[a-1]=i[a],i[a]=d}}else{if(!p.added&&n){var v=r.slice(h,h+p.count);v=v.map(function(b,_){var S=s[m+_];return S.length>b.length?S:b}),p.value=t.join(v)}else p.value=t.join(r.slice(h,h+p.count));h+=p.count,p.added||(m+=p.count)}}var g=i[u-1];return u>1&&typeof g.value=="string"&&(g.added||g.removed)&&t.equals("",g.value)&&(i[u-2].value+=g.value,i.pop()),i}var um=new We;var En=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Tn=/\S/,Sn=new We;Sn.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!Tn.test(t)&&!Tn.test(e)};Sn.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<e.length-1;r++)!e[r+1]&&e[r+2]&&En.test(e[r])&&En.test(e[r+2])&&(e[r]+=e[r+2],e.splice(r+1,2),r--);return e};var Kr=new We;Kr.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var e=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var n=r[s];s%2&&!this.options.newlineIsToken?e[e.length-1]+=n:(this.options.ignoreWhitespace&&(n=n.trim()),e.push(n))}return e};function Da(t,e,r){return Kr.diff(t,e,r)}var Ga=new We;Ga.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ua=new We;Ua.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function rr(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rr=function(e){return typeof e}:rr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(t)}function Hr(t){return ja(t)||La(t)||Ma(t)||Na()}function ja(t){if(Array.isArray(t))return Vr(t)}function La(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ma(t,e){if(t){if(typeof t=="string")return Vr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vr(t,e)}}function Vr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Na(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ba=Object.prototype.toString,It=new We;It.useLongestToken=!0;It.tokenize=Kr.tokenize;It.castInput=function(t){var e=this.options,r=e.undefinedReplacement,s=e.stringifyReplacer,n=s===void 0?function(i,o){return typeof o>"u"?r:o}:s;return typeof t=="string"?t:JSON.stringify(Jr(t,null,null,n),n,"  ")};It.equals=function(t,e){return We.prototype.equals.call(It,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Jr(t,e,r,s,n){e=e||[],r=r||[],s&&(t=s(n,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return r[i];var o;if(Ba.call(t)==="[object Array]"){for(e.push(t),o=new Array(t.length),r.push(o),i=0;i<t.length;i+=1)o[i]=Jr(t[i],e,r,s,n);return e.pop(),r.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),rr(t)==="object"&&t!==null){e.push(t),o={},r.push(o);var a=[],u;for(u in t)t.hasOwnProperty(u)&&a.push(u);for(a.sort(),i=0;i<a.length;i+=1)u=a[i],o[u]=Jr(t[u],e,r,s,u);e.pop(),r.pop()}else o=t;return o}var Zr=new We;Zr.tokenize=function(t){return t.slice()};Zr.join=Zr.removeEmpty=function(t){return t};function $a(t,e,r,s,n,i,o){o||(o={}),typeof o.context>"u"&&(o.context=4);var a=Da(r,s,o);if(!a)return;a.push({value:"",lines:[]});function u(S){return S.map(function(A){return" "+A})}for(var h=[],m=0,p=0,v=[],d=1,g=1,b=function(A){var x=a[A],C=x.lines||x.value.replace(/\n$/,"").split(`
`);if(x.lines=C,x.added||x.removed){var R;if(!m){var O=a[A-1];m=d,p=g,O&&(v=o.context>0?u(O.lines.slice(-o.context)):[],m-=v.length,p-=v.length)}(R=v).push.apply(R,Hr(C.map(function(ne){return(x.added?"+":"-")+ne}))),x.added?g+=C.length:d+=C.length}else{if(m)if(C.length<=o.context*2&&A<a.length-2){var G;(G=v).push.apply(G,Hr(u(C)))}else{var W,K=Math.min(C.length,o.context);(W=v).push.apply(W,Hr(u(C.slice(0,K))));var I={oldStart:m,oldLines:d-m+K,newStart:p,newLines:g-p+K,lines:v};if(A>=a.length-2&&C.length<=o.context){var B=/\n$/.test(r),w=/\n$/.test(s),z=C.length==0&&v.length>I.oldLines;!B&&z&&r.length>0&&v.splice(I.oldLines,0,"\\ No newline at end of file"),(!B&&!z||!w)&&v.push("\\ No newline at end of file")}h.push(I),m=0,p=0,v=[]}d+=C.length,g+=C.length}},_=0;_<a.length;_++)b(_);return{oldFileName:t,newFileName:e,oldHeader:n,newHeader:i,hunks:h}}function kn(t){if(Array.isArray(t))return t.map(kn).join(`
`);var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(typeof t.oldHeader>"u"?"":"	"+t.oldHeader)),e.push("+++ "+t.newFileName+(typeof t.newHeader>"u"?"":"	"+t.newHeader));for(var r=0;r<t.hunks.length;r++){var s=t.hunks[r];s.oldLines===0&&(s.oldStart-=1),s.newLines===0&&(s.newStart-=1),e.push("@@ -"+s.oldStart+","+s.oldLines+" +"+s.newStart+","+s.newLines+" @@"),e.push.apply(e,s.lines)}return e.join(`
`)+`
`}function xn(t,e,r,s,n,i,o){return kn($a(t,e,r,s,n,i,o))}var mm=new RegExp(`^<${Sr}>[\\s\\S]*?<\\/${Sr}>\\s+`,"g");function An(t,e){let r={},s=!1;for(let[n,i]of e){let o=t[n];if(o?.type!=="file")continue;let a=za(n,i,o.content);a&&(s=!0,a.length>o.content.length?r[n]={type:"file",content:o.content}:r[n]={type:"diff",content:a})}if(s)return r}function za(t,e,r){let s=xn(t,t,e,r),n=`--- ${t}
+++ ${t}
`,i=s.indexOf(n);if(i>=0&&(s=s.slice(i+n.length)),s!=="")return s}var qa=new RegExp(`^${Ht}/`);function Pt(t){return t.replace(qa,"")}var Ve=Ge("LockedFiles"),sr="bolt.lockedFiles",He=null,et=new Map,Yr=null,Wa=300;function Ct(t,e=!1){return e&&!et.has(t)&&et.set(t,new Map),et.get(t)}function Ha(){if(He!==null)return He;try{if(typeof localStorage<"u"){let t=localStorage.getItem(sr);if(t){let r=JSON.parse(t).map(s=>({...s,isFolder:s.isFolder!==void 0?s.isFolder:!1}));return He=r,In(r),r}}return He=[],[]}catch(t){return Ve.error("Failed to initialize locked items cache",t),He=[],[]}}function In(t){et.clear();for(let e of t)et.has(e.chatId)||et.set(e.chatId,new Map),et.get(e.chatId).set(e.path,e)}function Xr(t){He=[...t],In(t),Yr&&clearTimeout(Yr),Yr=setTimeout(()=>{try{typeof localStorage<"u"&&(localStorage.setItem(sr,JSON.stringify(t)),Ve.info(`Saved ${t.length} locked items to localStorage`))}catch(e){Ve.error("Failed to save locked items to localStorage",e)}},Wa)}function Rt(){return He!==null?He:Ha()}function Pn(t,e,r=!1){let s=Rt(),n={chatId:t,path:e,isFolder:r};Ct(t,!0).set(e,n);let o=s.filter(a=>!(a.chatId===t&&a.path===e));o.push(n),Xr(o),Ve.info(`Added locked ${r?"folder":"file"}: ${e} for chat: ${t}`)}function Cn(t,e){Pn(t,e)}function Rn(t,e){Pn(t,e)}function On(t,e){let r=Rt(),s=Ct(t);s&&s.delete(e);let n=r.filter(i=>!(i.chatId===t&&i.path===e));Xr(n),Ve.info(`Removed lock for: ${e} in chat: ${t}`)}function Fn(t,e){On(t,e)}function Dn(t,e){On(t,e)}function Gn(t,e){Rt();let r=Ct(t);if(r){let s=r.get(e);if(s&&!s.isFolder)return{locked:!0,lockedBy:e}}return Un(t,e)}function Un(t,e){let r=Ct(t);if(!r)return{locked:!1};let s=e.split("/"),n="";for(let i=0;i<s.length-1;i++){n=n?`${n}/${s[i]}`:s[i];let o=r.get(n);if(o&&o.isFolder)return{locked:!0,lockedBy:n}}return{locked:!1}}function nr(t){let e=Rt(),r=Ct(t);return r?Array.from(r.values()):e.filter(s=>s.chatId===t)}function jn(t){return nr(t).filter(r=>!r.isFolder)}function Ln(t){return nr(t).filter(r=>r.isFolder)}function or(t,e){return Un(t,e)}function Qr(t){try{if(ir(),typeof localStorage<"u"){let e=localStorage.getItem(sr);if(e){let r=JSON.parse(e);if(Array.isArray(r)){let s=!1,n=r.map(i=>!i.chatId||i.isFolder===void 0?(s=!0,{...i,chatId:i.chatId||t,isFolder:i.isFolder!==void 0?i.isFolder:!1}):i);s&&(Xr(n),Ve.info(`Migrated ${n.length} legacy locks to chat ID: ${t}`))}}}}catch(e){Ve.error("Failed to migrate legacy locks",e)}}function ir(){He=null,et.clear(),Ve.info("Cleared locked items cache")}typeof window<"u"&&window.addEventListener("storage",t=>{t.key===sr&&(Ve.info("Detected localStorage change for locked items, refreshing cache"),ir())});var Mn=Ge("FileLocks");function Fe(){try{if(typeof window<"u"){let t=window.location.pathname.match(/\/chat\/([^/]+)/);if(t&&t[1])return t[1]}return"default"}catch(t){return Mn.error("Failed to get current chat ID",t),"default"}}function _m(t,e){try{let r=e||Fe(),s=Gn(r,t);if(!s.locked){let n=or(r,t);if(n.locked)return n}return s}catch(r){return Mn.error("Failed to check if file is locked",r),{locked:!1}}}var ye=Ge("FilesStore"),Va=new TextDecoder("utf8",{fatal:!0}),ar=class{#r;#e=0;#t=new Map;#s=new Set;files=Ke({});get filesCount(){return this.#e}constructor(e){this.#r=e;try{if(typeof localStorage<"u"){let r=localStorage.getItem("bolt-deleted-paths");if(r){let s=JSON.parse(r);Array.isArray(s)&&s.forEach(n=>this.#s.add(n))}}}catch(r){ye.error("Failed to load deleted paths from localStorage",r)}if(this.#n(),typeof window<"u"){let r=Fe();new MutationObserver(()=>{let n=Fe();n!==r&&(ye.info(`Chat ID changed from ${r} to ${n}, reloading locks`),r=n,this.#n(n))}).observe(document,{subtree:!0,childList:!0})}this.#a()}#n(e){try{let r=e||Fe(),s=performance.now();Qr(r);let n=nr(r),i=n.filter(m=>!m.isFolder),o=n.filter(m=>m.isFolder);if(n.length===0){ye.info(`No locked items found for chat ID: ${r}`);return}ye.info(`Found ${i.length} locked files and ${o.length} locked folders for chat ID: ${r}`);let a=this.files.get(),u={};for(let m of i){let p=a[m.path];p?.type==="file"&&(u[m.path]={...p,isLocked:!0})}for(let m of o){let p=a[m.path];p?.type==="folder"&&(u[m.path]={...p,isLocked:!0},this.#i(a,u,m.path))}Object.keys(u).length>0&&this.files.set({...a,...u});let h=performance.now();ye.info(`Loaded locked items in ${Math.round(h-s)}ms`)}catch(r){ye.error("Failed to load locked files from localStorage",r)}}#i(e,r,s){let n=s.endsWith("/")?s:`${s}/`;Object.entries(e).forEach(([i,o])=>{i.startsWith(n)&&o&&(o.type==="file"?r[i]={...o,isLocked:!0,lockedByFolder:s}:o.type==="folder"&&(r[i]={...o,isLocked:!0,lockedByFolder:s}))})}lockFile(e,r){let s=this.getFile(e),n=r||Fe();return s?(this.files.setKey(e,{...s,isLocked:!0}),Cn(n,e),ye.info(`File locked: ${e} for chat: ${n}`),!0):(ye.error(`Cannot lock non-existent file: ${e}`),!1)}lockFolder(e,r){let s=this.getFileOrFolder(e),n=this.files.get(),i=r||Fe();if(!s||s.type!=="folder")return ye.error(`Cannot lock non-existent folder: ${e}`),!1;let o={};return o[e]={type:s.type,isLocked:!0},this.#i(n,o,e),this.files.set({...n,...o}),Rn(i,e),ye.info(`Folder locked: ${e} for chat: ${i}`),!0}unlockFile(e,r){let s=this.getFile(e),n=r||Fe();return s?(this.files.setKey(e,{...s,isLocked:!1,lockedByFolder:void 0}),Fn(n,e),ye.info(`File unlocked: ${e} for chat: ${n}`),!0):(ye.error(`Cannot unlock non-existent file: ${e}`),!1)}unlockFolder(e,r){let s=this.getFileOrFolder(e),n=this.files.get(),i=r||Fe();if(!s||s.type!=="folder")return ye.error(`Cannot unlock non-existent folder: ${e}`),!1;let o={};o[e]={type:s.type,isLocked:!1};let a=e.endsWith("/")?e:`${e}/`;return Object.entries(n).forEach(([u,h])=>{u.startsWith(a)&&h&&(h.type==="file"&&h.lockedByFolder===e?o[u]={...h,isLocked:!1,lockedByFolder:void 0}:h.type==="folder"&&h.lockedByFolder===e&&(o[u]={type:h.type,isLocked:!1,lockedByFolder:void 0}))}),this.files.set({...n,...o}),Dn(i,e),ye.info(`Folder unlocked: ${e} for chat: ${i}`),!0}isFileLocked(e,r){let s=this.getFile(e),n=r||Fe();if(!s)return{locked:!1};if(s.isLocked)return s.lockedByFolder?{locked:!0,lockedBy:s.lockedByFolder}:{locked:!0,lockedBy:e};if(jn(n).find(u=>u.path===e))return this.files.setKey(e,{...s,isLocked:!0}),{locked:!0,lockedBy:e};let a=this.isFileInLockedFolder(e,n);return a.locked?(this.files.setKey(e,{...s,isLocked:!0,lockedByFolder:a.lockedBy}),a):{locked:!1}}isFileInLockedFolder(e,r){let s=r||Fe();return or(s,e)}isFolderLocked(e,r){let s=this.getFileOrFolder(e),n=r||Fe();return!s||s.type!=="folder"?{isLocked:!1}:s.isLocked?{isLocked:!0,lockedBy:e}:Ln(n).find(a=>a.path===e)?(this.files.setKey(e,{type:s.type,isLocked:!0}),{isLocked:!0,lockedBy:e}):{isLocked:!1}}getFile(e){let r=this.files.get()[e];if(r&&r.type==="file")return r}getFileOrFolder(e){return this.files.get()[e]}getFileModifications(){return An(this.files.get(),this.#t)}getModifiedFiles(){let e;for(let[r,s]of this.#t){let n=this.files.get()[r];n?.type==="file"&&n.content!==s&&(e||(e={}),e[r]=n)}return e}resetFileModifications(){this.#t.clear()}async saveFile(e,r){let s=await this.#r;try{let n=Ie.relative(s.workdir,e);if(!n)throw new Error(`EINVAL: invalid file path, write '${n}'`);let i=this.getFile(e)?.content;!i&&i!==""&&Oe("Expected content to be defined"),await s.fs.writeFile(n,r),this.#t.has(e)||this.#t.set(e,i);let o=this.files.get()[e],a=o?.type==="file"?o.isLocked:!1;this.files.setKey(e,{type:"file",content:r,isBinary:!1,isLocked:a}),ye.info("File updated")}catch(n){throw ye.error(`Failed to update file content

`,n),n}}async#a(){let e=await this.#r;this.#o(),e.internal.watchPaths({include:[`${Ht}/**`],exclude:["**/node_modules",".git","**/package-lock.json"],includeContent:!0},_n(100,this.#c.bind(this)));let r=Fe();Qr(r),this.#n(r),setTimeout(()=>{this.#n(r)},2e3),setInterval(()=>{ir();let s=Fe();this.#n(s)},3e4)}#o(){if(this.#s.size===0)return;let e=this.files.get(),r=new Set,s=[...this.#s].map(n=>n+"/");for(let[n,i]of Object.entries(e))if(i){if(this.#s.has(n)){r.add(n);continue}for(let o of s)if(n.startsWith(o)){r.add(n);break}}if(r.size>0){let n={};for(let i of r){let o=e[i];n[i]=void 0,o?.type==="file"&&(this.#e--,this.#t.has(i)&&this.#t.delete(i))}this.files.set({...e,...n})}}#c(e){let r=e.flat(2);for(let{type:s,path:n,buffer:i}of r){let o=n.replace(/\/+$/g,"");switch(s){case"add_dir":{this.files.setKey(o,{type:"folder"});break}case"remove_dir":{this.files.setKey(o,void 0);for(let[a]of Object.entries(this.files))a.startsWith(o)&&this.files.setKey(a,void 0);break}case"add_file":case"change":{s==="add_file"&&this.#e++;let a="",u=Ja(i);u||(a=this.#l(i)),this.files.setKey(o,{type:"file",content:a,isBinary:u});break}case"remove_file":{this.#e--,this.files.setKey(o,void 0);break}case"update_directory":break}}}#l(e){if(!e||e.byteLength===0)return"";try{return Va.decode(e)}catch(r){return console.log(r),""}}async createFile(e,r=""){let s=await this.#r;try{let n=Ie.relative(s.workdir,e);if(!n)throw new Error(`EINVAL: invalid file path, create '${n}'`);let i=Ie.dirname(n);if(i!=="."&&await s.fs.mkdir(i,{recursive:!0}),r instanceof Uint8Array){await s.fs.writeFile(n,Wr.from(r));let a=Wr.from(r).toString("base64");this.files.setKey(e,{type:"file",content:a,isBinary:!0,isLocked:!1}),this.#t.set(e,a)}else{let a=r.length===0?" ":r;await s.fs.writeFile(n,a),this.files.setKey(e,{type:"file",content:r,isBinary:!1,isLocked:!1}),this.#t.set(e,r)}return ye.info(`File created: ${e}`),!0}catch(n){throw ye.error(`Failed to create file

`,n),n}}async createFolder(e){let r=await this.#r;try{let s=Ie.relative(r.workdir,e);if(!s)throw new Error(`EINVAL: invalid folder path, create '${s}'`);return await r.fs.mkdir(s,{recursive:!0}),this.files.setKey(e,{type:"folder"}),ye.info(`Folder created: ${e}`),!0}catch(s){throw ye.error(`Failed to create folder

`,s),s}}async deleteFile(e){let r=await this.#r;try{let s=Ie.relative(r.workdir,e);if(!s)throw new Error(`EINVAL: invalid file path, delete '${s}'`);return await r.fs.rm(s),this.#s.add(e),this.files.setKey(e,void 0),this.#e--,this.#t.has(e)&&this.#t.delete(e),this.#u(),ye.info(`File deleted: ${e}`),!0}catch(s){throw ye.error(`Failed to delete file

`,s),s}}async deleteFolder(e){let r=await this.#r;try{let s=Ie.relative(r.workdir,e);if(!s)throw new Error(`EINVAL: invalid folder path, delete '${s}'`);await r.fs.rm(s,{recursive:!0}),this.#s.add(e),this.files.setKey(e,void 0);let n=this.files.get();for(let[i,o]of Object.entries(n))i.startsWith(e+"/")&&(this.files.setKey(i,void 0),this.#s.add(i),o?.type==="file"&&this.#e--,o?.type==="file"&&this.#t.has(i)&&this.#t.delete(i));return this.#u(),ye.info(`Folder deleted: ${e}`),!0}catch(s){throw ye.error(`Failed to delete folder

`,s),s}}#u(){try{typeof localStorage<"u"&&localStorage.setItem("bolt-deleted-paths",JSON.stringify([...this.#s]))}catch(e){ye.error("Failed to persist deleted paths to localStorage",e)}}};function Ja(t){if(t===void 0)return!1;let e=Math.min(t.length,100);for(let r=0;r<e;r++)if(t[r]===0)return!0;return!1}var Za="preview-updates",Ot=class{#r=new Map;#e;#t;#s=new Map;#n=new Set;#i=new Map;#a=300;#o;previews=Ee([]);constructor(e){if(this.#e=e,this.#t=this.#c(Za),this.#o=this.#c("storage-sync-channel"),this.#t&&(this.#t.onmessage=r=>{let{type:s,previewId:n}=r.data;if(s==="file-change"){let i=r.data.timestamp,o=this.#s.get(n)||0;i>o&&(this.#s.set(n,i),this.refreshPreview(n))}}),this.#o&&(this.#o.onmessage=r=>{let{storage:s,source:n}=r.data;s&&n!==this._getTabId()&&this._syncStorage(s)}),typeof window<"u"){let r=localStorage.setItem;localStorage.setItem=(...s)=>{r.apply(localStorage,s),this._broadcastStorageSync()}}this.#l()}#c(e){if(typeof globalThis>"u")return;let r=globalThis.BroadcastChannel;if(typeof r=="function")try{return new r(e)}catch(s){console.warn("[Preview] BroadcastChannel unavailable:",s);return}}_getTabId(){return typeof window<"u"?(window._tabId||(window._tabId=Math.random().toString(36).substring(2,15)),window._tabId):""}_syncStorage(e){if(typeof window<"u"&&(Object.entries(e).forEach(([s,n])=>{try{Object.getPrototypeOf(localStorage).setItem.call(localStorage,s,n)}catch(i){console.error("[Preview] Error syncing storage:",i)}}),this.previews.get().forEach(s=>{let n=this.getPreviewId(s.baseUrl);n&&this.refreshPreview(n)}),typeof window<"u"&&window.location)){let s=document.querySelector("iframe");s&&(s.src=s.src)}}_broadcastStorageSync(){if(typeof window<"u"){let e={};for(let r=0;r<localStorage.length;r++){let s=localStorage.key(r);s&&(e[s]=localStorage.getItem(s)||"")}this.#o?.postMessage({type:"storage-sync",storage:e,source:this._getTabId(),timestamp:Date.now()})}}async#l(){let e=await this.#e;e.on("server-ready",(r,s)=>{console.log("[Preview] Server ready on port:",r,s),this.broadcastUpdate(s),this._broadcastStorageSync()}),e.on("port",(r,s,n)=>{let i=this.#r.get(r);if(s==="close"&&i){this.#r.delete(r),this.previews.set(this.previews.get().filter(a=>a.port!==r));return}let o=this.previews.get();i||(i={port:r,ready:s==="open",baseUrl:n},this.#r.set(r,i),o.push(i)),i.ready=s==="open",i.baseUrl=n,this.previews.set([...o]),s==="open"&&this.broadcastUpdate(n)})}getPreviewId(e){let r=e.match(/^https?:\/\/([^.]+)\.local-credentialless\.webcontainer-api\.io/);return r?r[1]:null}broadcastStateChange(e){let r=Date.now();this.#s.set(e,r),this.#t?.postMessage({type:"state-change",previewId:e,timestamp:r})}broadcastFileChange(e){let r=Date.now();this.#s.set(e,r),this.#t?.postMessage({type:"file-change",previewId:e,timestamp:r})}broadcastUpdate(e){let r=this.getPreviewId(e);if(r){let s=Date.now();this.#s.set(r,s),this.#t?.postMessage({type:"file-change",previewId:r,timestamp:s})}}refreshPreview(e){let r=this.#i.get(e);r&&clearTimeout(r);let s=setTimeout(()=>{let n=this.previews.get(),i=n.find(o=>this.getPreviewId(o.baseUrl)===e);i&&(i.ready=!1,this.previews.set([...n]),requestAnimationFrame(()=>{i.ready=!0,this.previews.set([...n])})),this.#i.delete(e)},this.#a);this.#i.set(e,s)}refreshAllPreviews(){let e=this.previews.get();for(let r of e){let s=this.getPreviewId(r.baseUrl);s&&this.broadcastFileChange(s)}}},es=null;function Gm(){return es||(es=new Ot(Promise.resolve({}))),es}function ts(){if(typeof Promise.withResolvers=="function")return Promise.withResolvers();let t,e,r=new Promise((s,n)=>{t=s,e=n});return{resolve:t,reject:e,promise:r}}var rs=Ee(null);async function Nn(t,e){let r=[],s=await t.spawn("/bin/jsh",["--osc",...r],{terminal:{cols:e.cols??80,rows:e.rows??15}}),n=s.input.getWriter(),i=s.output,o=ts(),a=!1;return i.pipeTo(new WritableStream({write(u){if(!a){let[,h]=u.match(/\x1b\]654;([^\x07]+)\x07/)||[];h==="interactive"&&(a=!0,o.resolve())}e.write(u);try{import("/build/_shared/debugLogger-YPJCWJ3K.js").then(({captureTerminalLog:h})=>{let m=u.replace(/\x1b\[[0-9;]*[mG]/g,"").trim();m&&h(m,"output")}).catch(()=>{})}catch{}}})),e.onData(u=>{if(a){n.write(u);try{import("/build/_shared/debugLogger-YPJCWJ3K.js").then(({captureTerminalLog:h})=>{let m=u.replace(/\x1b\[[0-9;]*[A-Z]/g,"").trim();m&&m!=="\r"&&m!==`
`&&h(m,"input")}).catch(()=>{})}catch{}}}),await o.promise,s}var ss=class{#r;#e;#t;#s;#n;executionState=Ee();#i;#a;constructor(){this.#e=new Promise(e=>{this.#r=e})}ready(){return this.#e}async init(e,r){this.#t=e,this.#s=r;let{process:s,commandStream:n,expoUrlStream:i}=await this.newBoltShellProcess(e,r);this.#n=s,this.#i=n.getReader(),this._watchExpoUrlInBackground(i),await this.waitTillOscCode("interactive"),this.#r?.()}async newBoltShellProcess(e,r){let s=[],n=await e.spawn("/bin/jsh",["--osc",...s],{terminal:{cols:r.cols??80,rows:r.rows??15}}),i=n.input.getWriter();this.#a=i;let[o,a]=n.output.tee(),[u,h]=a.tee(),m=ts(),p=!1;return o.pipeTo(new WritableStream({write(v){if(!p){let[,d]=v.match(/\x1b\]654;([^\x07]+)\x07/)||[];d==="interactive"&&(p=!0,m.resolve())}r.write(v)}})),r.onData(v=>{p&&i.write(v)}),await m.promise,{process:n,terminalStream:o,commandStream:u,expoUrlStream:h}}async _watchExpoUrlInBackground(e){let r=e.getReader(),s="",n=/(exp:\/\/[^\s]+)/;for(;;){let{value:i,done:o}=await r.read();if(o)break;s+=i||"";let a=s.match(n);if(a){let u=a[1].replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"").replace(/[^\x20-\x7E]+$/g,"");rs.set(u),s=s.slice(s.indexOf(a[1])+a[1].length)}s.length>2048&&(s=s.slice(-2048))}}get terminal(){return this.#s}get process(){return this.#n}async executeCommand(e,r,s){if(!this.process||!this.terminal)return;let n=this.executionState.get();n?.active&&n.abort&&n.abort(),this.terminal.input(""),await this.waitTillOscCode("prompt"),n&&n.executionPrms&&await n.executionPrms,this.terminal.input(r.trim()+`
`);let i=this.getCurrentExecutionResult();this.executionState.set({sessionId:e,active:!0,executionPrms:i,abort:s});let o=await i;if(this.executionState.set({sessionId:e,active:!1}),o)try{o.output=Ka(o.output)}catch(a){console.log("failed to format terminal output",a)}return o}async getCurrentExecutionResult(){let{output:e,exitCode:r}=await this.waitTillOscCode("exit");return{output:e,exitCode:r}}onQRCodeDetected;async waitTillOscCode(e){let r="",s=0,n="";if(!this.#i)return{output:r,exitCode:s};let i=this.#i,o=/(exp:\/\/[^\s]+)/;for(;;){let{value:a,done:u}=await i.read();if(u)break;let h=a||"";r+=h,n+=h;let m=n.match(o);if(m){let d=m[1].replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"").replace(/[^\x20-\x7E]+$/g,"");rs.set(d),n=n.slice(n.indexOf(m[1])+m[1].length)}let[,p,,,v]=h.match(/\x1b\]654;([^\x07=]+)=?((-?\d+):(\d+))?\x07/)||[];if(p==="exit"&&(s=parseInt(v,10)),p===e)break}return{output:r,exitCode:s}}};function Ka(t){return t.replace(/\x1b\](\d+;[^\x07\x1b]*|\d+[^\x07\x1b]*)\x07/g,"").replace(/\](\d+;[^\n]*|\d+[^\n]*)/g,"").replace(/\u001b\[[\?]?[0-9;]*[a-zA-Z]/g,"").replace(/\x1b\[[\?]?[0-9;]*[a-zA-Z]/g,"").replace(/\u001b\[[0-9;]*m/g,"").replace(/\x1b\[[0-9;]*m/g,"").replace(/\u001b/g,"").replace(/\x1b/g,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).replace(/^([~\/][^\n❯]+)❯/m,`$1
\u276F`).replace(/(?<!^|\n)>/g,`
>`).replace(/(?<!^|\n|\w)(error|failed|warning|Error|Failed|Warning):/g,`
$1:`).replace(/(?<!^|\n|\/)(at\s+(?!async|sync))/g,`
at `).replace(/\bat\s+async/g,"at async").replace(/(?<!^|\n)(npm ERR!)/g,`
$1`).split(`
`).map(o=>o.trim()).filter(o=>o.length>0).join(`
`).replace(/\n{3,}/g,`

`).replace(/:\s+/g,": ").replace(/\s{2,}/g," ").replace(/^\s+|\s+$/g,"").replace(/\u0000/g,"")}function Bn(){return new ss}var $n="\x1B[0m",Ya={reset:$n,clear:"\x1B[g",red:"\x1B[1;31m"},ns={red:t=>`${Ya.red}${t}${$n}`};var cr=class{#r;#e=[];#t=Bn();showTerminal=Ee(!0);constructor(e){this.#r=e}get boltTerminal(){return this.#t}toggleTerminal(e){this.showTerminal.set(e!==void 0?e:!this.showTerminal.get())}async attachBoltTerminal(e){try{let r=await this.#r;await this.#t.init(r,e)}catch(r){e.write(ns.red(`Failed to spawn bolt shell

`)+r.message);return}}async attachTerminal(e){try{let r=await Nn(await this.#r,e);this.#e.push({terminal:e,process:r})}catch(r){e.write(ns.red(`Failed to spawn shell

`)+r.message);return}}onTerminalResize(e,r){for(let{process:s}of this.#e)s.resize({cols:e,rows:r})}async detachTerminal(e){let r=this.#e.findIndex(s=>s.terminal===e);if(r!==-1){let{process:s}=this.#e[r];try{s.kill()}catch(n){console.warn("Failed to kill terminal process:",n)}this.#e.splice(r,1)}}};var ra=st(qn(),1),sa=st(Wn(),1);function tt(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function lr(t,e,r,s){if(typeof r!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce((n,i)=>lr.bind(null,t,i,n,s),r)():Promise.resolve().then(()=>t.registry[e]?t.registry[e].reduce((n,i)=>i.hook.bind(null,n,s),r)():r(s))}function Hn(t,e,r,s){let n=s;t.registry[r]||(t.registry[r]=[]),e==="before"&&(s=(i,o)=>Promise.resolve().then(n.bind(null,o)).then(i.bind(null,o))),e==="after"&&(s=(i,o)=>{let a;return Promise.resolve().then(i.bind(null,o)).then(u=>(a=u,n(a,o))).then(()=>a)}),e==="error"&&(s=(i,o)=>Promise.resolve().then(i.bind(null,o)).catch(a=>n(a,o))),t.registry[r].push({hook:s,orig:n})}function Vn(t,e,r){if(!t.registry[e])return;let s=t.registry[e].map(n=>n.orig).indexOf(r);s!==-1&&t.registry[e].splice(s,1)}var Jn=Function.bind,Zn=Jn.bind(Jn);function Kn(t,e,r){let s=Zn(Vn,null).apply(null,r?[e,r]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(n=>{let i=r?[e,n,r]:[e,n];t[n]=t.api[n]=Zn(Hn,null).apply(null,i)})}function Xa(){let t=Symbol("Singular"),e={registry:{}},r=lr.bind(null,e,t);return Kn(r,e,t),r}function Qa(){let t={registry:{}},e=lr.bind(null,t);return Kn(e,t),e}var Yn={Singular:Xa,Collection:Qa};var ec="0.0.0-development",tc=`octokit-endpoint.js/${ec} ${tt()}`,rc={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":tc},mediaType:{format:""}};function sc(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function nc(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);if(e===null)return!0;let r=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Function.prototype.call(r)===Function.prototype.call(t)}function eo(t,e){let r=Object.assign({},t);return Object.keys(e).forEach(s=>{nc(e[s])?s in t?r[s]=eo(t[s],e[s]):Object.assign(r,{[s]:e[s]}):Object.assign(r,{[s]:e[s]})}),r}function Xn(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function ls(t,e,r){if(typeof e=="string"){let[n,i]=e.split(" ");r=Object.assign(i?{method:n,url:i}:{url:n},r)}else r=Object.assign({},e);r.headers=sc(r.headers),Xn(r),Xn(r.headers);let s=eo(t||{},r);return r.url==="/graphql"&&(t&&t.mediaType.previews?.length&&(s.mediaType.previews=t.mediaType.previews.filter(n=>!s.mediaType.previews.includes(n)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(n=>n.replace(/-preview/,""))),s}function oc(t,e){let r=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+r+s.map(n=>n==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(e[n])}`).join("&")}var ic=/\{[^{}}]+\}/g;function ac(t){return t.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function cc(t){let e=t.match(ic);return e?e.map(ac).reduce((r,s)=>r.concat(s),[]):[]}function Qn(t,e){let r={__proto__:null};for(let s of Object.keys(t))e.indexOf(s)===-1&&(r[s]=t[s]);return r}function to(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function bt(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ft(t,e,r){return e=t==="+"||t==="#"?to(e):bt(e),r?bt(r)+"="+e:e}function wt(t){return t!=null}function cs(t){return t===";"||t==="&"||t==="?"}function lc(t,e,r,s){var n=t[r],i=[];if(wt(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),s&&s!=="*"&&(n=n.substring(0,parseInt(s,10))),i.push(Ft(e,n,cs(e)?r:""));else if(s==="*")Array.isArray(n)?n.filter(wt).forEach(function(o){i.push(Ft(e,o,cs(e)?r:""))}):Object.keys(n).forEach(function(o){wt(n[o])&&i.push(Ft(e,n[o],o))});else{let o=[];Array.isArray(n)?n.filter(wt).forEach(function(a){o.push(Ft(e,a))}):Object.keys(n).forEach(function(a){wt(n[a])&&(o.push(bt(a)),o.push(Ft(e,n[a].toString())))}),cs(e)?i.push(bt(r)+"="+o.join(",")):o.length!==0&&i.push(o.join(","))}else e===";"?wt(n)&&i.push(bt(r)):n===""&&(e==="&"||e==="?")?i.push(bt(r)+"="):n===""&&i.push("");return i}function uc(t){return{expand:pc.bind(null,t)}}function pc(t,e){var r=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,n,i){if(n){let a="",u=[];if(r.indexOf(n.charAt(0))!==-1&&(a=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(h){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(h);u.push(lc(e,a,m[1],m[2]||m[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(u.length!==0?a:"")+u.join(o)}else return u.join(",")}else return to(i)}),t==="/"?t:t.replace(/\/$/,"")}function ro(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),n,i=Qn(t,["method","baseUrl","url","headers","request","mediaType"]),o=cc(r);r=uc(r).expand(i),/^http/.test(r)||(r=t.baseUrl+r);let a=Object.keys(t).filter(m=>o.includes(m)).concat("baseUrl"),u=Qn(i,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(m=>m.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),r.endsWith("/graphql")&&t.mediaType.previews?.length)){let m=s.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];s.accept=m.concat(t.mediaType.previews).map(p=>{let v=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${p}-preview${v}`}).join(",")}return["GET","HEAD"].includes(e)?r=oc(r,u):"data"in u?n=u.data:Object.keys(u).length&&(n=u),!s["content-type"]&&typeof n<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof n>"u"&&(n=""),Object.assign({method:e,url:r,headers:s},typeof n<"u"?{body:n}:null,t.request?{request:t.request}:null)}function dc(t,e,r){return ro(ls(t,e,r))}function so(t,e){let r=ls(t,e),s=dc.bind(null,r);return Object.assign(s,{DEFAULTS:r,defaults:so.bind(null,r),merge:ls.bind(null,r),parse:ro})}var no=so(null,rc);var uo=st(co(),1);var pt=class extends Error{name;status;request;response;constructor(e,r,s){super(e),this.name="HttpError",this.status=Number.parseInt(r),Number.isNaN(this.status)&&(this.status=0),"response"in s&&(this.response=s.response);let n=Object.assign({},s.request);s.request.headers.authorization&&(n.headers=Object.assign({},s.request.headers,{authorization:s.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n}};var fc="9.2.4",mc={headers:{"user-agent":`octokit-request.js/${fc} ${tt()}`}};function hc(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);if(e===null)return!0;let r=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Function.prototype.call(r)===Function.prototype.call(t)}async function lo(t){let e=t.request?.fetch||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");let r=t.request?.log||console,s=t.request?.parseSuccessResponseBody!==!1,n=hc(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,i=Object.fromEntries(Object.entries(t.headers).map(([p,v])=>[p,String(v)])),o;try{o=await e(t.url,{method:t.method,body:n,redirect:t.request?.redirect,headers:i,signal:t.request?.signal,...t.body&&{duplex:"half"}})}catch(p){let v="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;v=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?v=p.cause.message:typeof p.cause=="string"&&(v=p.cause))}let d=new pt(v,500,{request:t});throw d.cause=p,d}let a=o.status,u=o.url,h={};for(let[p,v]of o.headers)h[p]=v;let m={url:u,status:a,headers:h,data:""};if("deprecation"in h){let p=h.link&&h.link.match(/<([^<>]+)>; rel="deprecation"/),v=p&&p.pop();r.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${h.sunset}${v?`. See ${v}`:""}`)}if(a===204||a===205)return m;if(t.method==="HEAD"){if(a<400)return m;throw new pt(o.statusText,a,{response:m,request:t})}if(a===304)throw m.data=await us(o),new pt("Not modified",a,{response:m,request:t});if(a>=400)throw m.data=await us(o),new pt(yc(m.data),a,{response:m,request:t});return m.data=s?await us(o):o.body,m}async function us(t){let e=t.headers.get("content-type");if(!e)return t.text().catch(()=>"");let r=(0,uo.safeParse)(e);if(gc(r)){let s="";try{return s=await t.text(),JSON.parse(s)}catch{return s}}else return r.type.startsWith("text/")||r.parameters.charset?.toLowerCase()==="utf-8"?t.text().catch(()=>""):t.arrayBuffer().catch(()=>new ArrayBuffer(0))}function gc(t){return t.type==="application/json"||t.type==="application/scim+json"}function yc(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){let e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(r=>JSON.stringify(r)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function ps(t,e){let r=t.defaults(e);return Object.assign(function(n,i){let o=r.merge(n,i);if(!o.request||!o.request.hook)return lo(r.parse(o));let a=(u,h)=>lo(r.parse(r.merge(u,h)));return Object.assign(a,{endpoint:r,defaults:ps.bind(null,r)}),o.request.hook(a,o)},{endpoint:r,defaults:ps.bind(null,r)})}var Gt=ps(no,mc);var wc="0.0.0-development";function bc(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var vc=class extends Error{constructor(t,e,r){super(bc(r)),this.request=t,this.headers=e,this.response=r,this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},_c=["method","baseUrl","url","headers","request","query","mediaType","operationName"],Ec=["query","method","url"],po=/\/api\/v3\/?$/;function Tc(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in r)if(Ec.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let s=typeof e=="string"?Object.assign({query:e},r):e,n=Object.keys(s).reduce((o,a)=>_c.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),i=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return po.test(i)&&(n.url=i.replace(po,"/api/graphql")),t(n).then(o=>{if(o.data.errors){let a={};for(let u of Object.keys(o.headers))a[u]=o.headers[u];throw new vc(n,a,o.data)}return o.data.data})}function ds(t,e){let r=t.defaults(e);return Object.assign((n,i)=>Tc(r,n,i),{defaults:ds.bind(null,r),endpoint:r.endpoint})}var mh=ds(Gt,{headers:{"user-agent":`octokit-graphql.js/${wc} ${tt()}`},method:"POST",url:"/graphql"});function fo(t){return ds(t,{method:"POST",url:"/graphql"})}var fs="(?:[a-zA-Z0-9_-]+)",mo="\\.",ho=new RegExp(`^${fs}${mo}${fs}${mo}${fs}$`),Sc=ho.test.bind(ho);async function kc(t){let e=Sc(t),r=t.startsWith("v1.")||t.startsWith("ghs_"),s=t.startsWith("ghu_");return{type:"token",token:t,tokenType:e?"app":r?"installation":s?"user-to-server":"oauth"}}function xc(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function Ac(t,e,r,s){let n=e.endpoint.merge(r,s);return n.headers.authorization=xc(t),e(n)}var go=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(kc.bind(null,e),{hook:Ac.bind(null,e)})};var ms="6.1.6";var yo=()=>{},Ic=console.warn.bind(console),Pc=console.error.bind(console);function Cc(t={}){return typeof t.debug!="function"&&(t.debug=yo),typeof t.info!="function"&&(t.info=yo),typeof t.warn!="function"&&(t.warn=Ic),typeof t.error!="function"&&(t.error=Pc),t}var wo=`octokit-core.js/${ms} ${tt()}`,vt=class{static defaults(e){return class extends this{constructor(...s){let n=s[0]||{};if(typeof e=="function"){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){let r=this.plugins;return class extends this{static plugins=r.concat(e.filter(n=>!r.includes(n)))}}constructor(e={}){let r=new Yn.Collection,s={baseUrl:Gt.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=e.userAgent?`${e.userAgent} ${wo}`:wo,e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=Gt.defaults(s),this.graphql=fo(this.request).defaults(s),this.log=Cc(e.log),this.hook=r,e.authStrategy){let{authStrategy:i,...o}=e,a=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));r.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{let i=go(e.auth);r.wrap("request",i.hook),this.auth=i}let n=this.constructor;for(let i=0;i<n.plugins.length;++i)Object.assign(this,n.plugins[i](this,e))}request;graphql;log;hook;auth};mt(vt,"VERSION",ms),mt(vt,"plugins",[]);var bo="5.3.1";function hs(t){t.hook.wrap("request",(e,r)=>{t.log.debug("request",r);let s=Date.now(),n=t.request.endpoint.parse(r),i=n.url.replace(r.baseUrl,"");return e(r).then(o=>{let a=o.headers["x-github-request-id"];return t.log.info(`${n.method} ${i} - ${o.status} with id ${a} in ${Date.now()-s}ms`),o}).catch(o=>{let a=o.response?.headers["x-github-request-id"]||"UNKNOWN";throw t.log.error(`${n.method} ${i} - ${o.status} with id ${a} in ${Date.now()-s}ms`),o})})}hs.VERSION=bo;var Rc="0.0.0-development";function Oc(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;let r=t.data.incomplete_results,s=t.data.repository_selection,n=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;let i=Object.keys(t.data)[0],o=t.data[i];return t.data=o,typeof r<"u"&&(t.data.incomplete_results=r),typeof s<"u"&&(t.data.repository_selection=s),t.data.total_count=n,t}function gs(t,e,r){let s=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),n=typeof e=="function"?e:t.request,i=s.method,o=s.headers,a=s.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{let u=await n({method:i,url:a,headers:o}),h=Oc(u);return a=((h.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],{value:h}}catch(u){if(u.status!==409)throw u;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function vo(t,e,r,s){return typeof r=="function"&&(s=r,r=void 0),_o(t,[],gs(t,e,r)[Symbol.asyncIterator](),s)}function _o(t,e,r,s){return r.next().then(n=>{if(n.done)return e;let i=!1;function o(){i=!0}return e=e.concat(s?s(n.value,o):n.value.data),i?e:_o(t,e,r,s)})}var Oh=Object.assign(vo,{iterator:gs});function ys(t){return{paginate:Object.assign(vo.bind(null,t),{iterator:gs.bind(null,t)})}}ys.VERSION=Rc;var ws="13.5.0";var Fc={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.addCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#add-project-collaborator"}],createCard:["POST /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.createCard() is deprecated, see https://docs.github.com/rest/projects/cards#create-a-project-card"}],createColumn:["POST /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.createColumn() is deprecated, see https://docs.github.com/rest/projects/columns#create-a-project-column"}],createForAuthenticatedUser:["POST /user/projects",{},{deprecated:"octokit.rest.projects.createForAuthenticatedUser() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-user-project"}],createForOrg:["POST /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.createForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#create-an-organization-project"}],createForRepo:["POST /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.createForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-repository-project"}],delete:["DELETE /projects/{project_id}",{},{deprecated:"octokit.rest.projects.delete() is deprecated, see https://docs.github.com/rest/projects/projects#delete-a-project"}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.deleteCard() is deprecated, see https://docs.github.com/rest/projects/cards#delete-a-project-card"}],deleteColumn:["DELETE /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.deleteColumn() is deprecated, see https://docs.github.com/rest/projects/columns#delete-a-project-column"}],get:["GET /projects/{project_id}",{},{deprecated:"octokit.rest.projects.get() is deprecated, see https://docs.github.com/rest/projects/projects#get-a-project"}],getCard:["GET /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.getCard() is deprecated, see https://docs.github.com/rest/projects/cards#get-a-project-card"}],getColumn:["GET /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.getColumn() is deprecated, see https://docs.github.com/rest/projects/columns#get-a-project-column"}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{},{deprecated:"octokit.rest.projects.getPermissionForUser() is deprecated, see https://docs.github.com/rest/projects/collaborators#get-project-permission-for-a-user"}],listCards:["GET /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.listCards() is deprecated, see https://docs.github.com/rest/projects/cards#list-project-cards"}],listCollaborators:["GET /projects/{project_id}/collaborators",{},{deprecated:"octokit.rest.projects.listCollaborators() is deprecated, see https://docs.github.com/rest/projects/collaborators#list-project-collaborators"}],listColumns:["GET /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.listColumns() is deprecated, see https://docs.github.com/rest/projects/columns#list-project-columns"}],listForOrg:["GET /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.listForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#list-organization-projects"}],listForRepo:["GET /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.listForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#list-repository-projects"}],listForUser:["GET /users/{username}/projects",{},{deprecated:"octokit.rest.projects.listForUser() is deprecated, see https://docs.github.com/rest/projects/projects#list-user-projects"}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{},{deprecated:"octokit.rest.projects.moveCard() is deprecated, see https://docs.github.com/rest/projects/cards#move-a-project-card"}],moveColumn:["POST /projects/columns/{column_id}/moves",{},{deprecated:"octokit.rest.projects.moveColumn() is deprecated, see https://docs.github.com/rest/projects/columns#move-a-project-column"}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.removeCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#remove-user-as-a-collaborator"}],update:["PATCH /projects/{project_id}",{},{deprecated:"octokit.rest.projects.update() is deprecated, see https://docs.github.com/rest/projects/projects#update-a-project"}],updateCard:["PATCH /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.updateCard() is deprecated, see https://docs.github.com/rest/projects/cards#update-an-existing-project-card"}],updateColumn:["PATCH /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.updateColumn() is deprecated, see https://docs.github.com/rest/projects/columns#update-an-existing-project-column"}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions"}],addOrUpdateProjectPermissionsLegacy:["PUT /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions-legacy"}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project"}],checkPermissionsForProjectLegacy:["GET /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project-legacy"}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{},{deprecated:"octokit.rest.teams.listProjectsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects"}],listProjectsLegacy:["GET /teams/{team_id}/projects",{},{deprecated:"octokit.rest.teams.listProjectsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects-legacy"}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team"}],removeProjectLegacy:["DELETE /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team-legacy"}],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Eo=Fc;var dt=new Map;for(let[t,e]of Object.entries(Eo))for(let[r,s]of Object.entries(e)){let[n,i,o]=s,[a,u]=n.split(/ /),h=Object.assign({method:a,url:u},i);dt.has(t)||dt.set(t,new Map),dt.get(t).set(r,{scope:t,methodName:r,endpointDefaults:h,decorations:o})}var Dc={has({scope:t},e){return dt.get(t).has(e)},getOwnPropertyDescriptor(t,e){return{value:this.get(t,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(t,e,r){return Object.defineProperty(t.cache,e,r),!0},deleteProperty(t,e){return delete t.cache[e],!0},ownKeys({scope:t}){return[...dt.get(t).keys()]},set(t,e,r){return t.cache[e]=r},get({octokit:t,scope:e,cache:r},s){if(r[s])return r[s];let n=dt.get(e).get(s);if(!n)return;let{endpointDefaults:i,decorations:o}=n;return o?r[s]=Gc(t,e,s,i,o):r[s]=t.request.defaults(i),r[s]}};function bs(t){let e={};for(let r of dt.keys())e[r]=new Proxy({octokit:t,scope:r,cache:{}},Dc);return e}function Gc(t,e,r,s,n){let i=t.request.defaults(s);function o(...a){let u=i.endpoint.merge(...a);if(n.mapToData)return u=Object.assign({},u,{data:u[n.mapToData],[n.mapToData]:void 0}),i(u);if(n.renamed){let[h,m]=n.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${h}.${m}()`)}if(n.deprecated&&t.log.warn(n.deprecated),n.renamedParameters){let h=i.endpoint.merge(...a);for(let[m,p]of Object.entries(n.renamedParameters))m in h&&(t.log.warn(`"${m}" parameter is deprecated for "octokit.${e}.${r}()". Use "${p}" instead`),p in h||(h[p]=h[m]),delete h[m]);return i(h)}return i(...a)}return Object.assign(o,i)}function Uc(t){return{rest:bs(t)}}Uc.VERSION=ws;function vs(t){let e=bs(t);return{...e,rest:e}}vs.VERSION=ws;var To="21.1.1";var So=vt.plugin(hs,vs,ys).defaults({userAgent:`octokit-rest.js/${To}`});var jc=Ge("ChatHistory");async function ko(){if(typeof indexedDB>"u"){console.error("indexedDB is not available in this environment.");return}return new Promise(t=>{let e=indexedDB.open("boltHistory",2);e.onupgradeneeded=r=>{let s=r.target.result,n=r.oldVersion;if(n<1&&!s.objectStoreNames.contains("chats")){let i=s.createObjectStore("chats",{keyPath:"id"});i.createIndex("id","id",{unique:!0}),i.createIndex("urlId","urlId",{unique:!0})}n<2&&(s.objectStoreNames.contains("snapshots")||s.createObjectStore("snapshots",{keyPath:"chatId"}))},e.onsuccess=r=>{t(r.target.result)},e.onerror=r=>{t(void 0),jc.error(r.target.error)}})}async function Zh(t){return new Promise((e,r)=>{let i=t.transaction("chats","readonly").objectStore("chats").getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>r(i.error)})}async function Ut(t,e,r,s,n,i,o){return new Promise((a,u)=>{let m=t.transaction("chats","readwrite").objectStore("chats");if(i&&isNaN(Date.parse(i))){u(new Error("Invalid timestamp"));return}let p=m.put({id:e,messages:r,urlId:s,description:n,timestamp:i??new Date().toISOString(),metadata:o});p.onsuccess=()=>a(),p.onerror=()=>u(p.error)})}async function _t(t,e){return await Mc(t,e)||await Lc(t,e)}async function Lc(t,e){return new Promise((r,s)=>{let a=t.transaction("chats","readonly").objectStore("chats").index("urlId").get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async function Mc(t,e){return new Promise((r,s)=>{let o=t.transaction("chats","readonly").objectStore("chats").get(e);o.onsuccess=()=>r(o.result),o.onerror=()=>s(o.error)})}async function Kh(t,e){return new Promise((r,s)=>{let n=t.transaction(["chats","snapshots"],"readwrite"),i=n.objectStore("chats"),o=n.objectStore("snapshots"),a=i.delete(e),u=o.delete(e),h=!1,m=!1,p=()=>{h&&m&&r(void 0)};a.onsuccess=()=>{h=!0,p()},a.onerror=()=>s(a.error),u.onsuccess=()=>{m=!0,p()},u.onerror=v=>{v.target.error?.name==="NotFoundError"?(m=!0,p()):s(u.error)},n.oncomplete=()=>{},n.onerror=()=>s(n.error)})}async function _s(t){return new Promise((e,r)=>{let i=t.transaction("chats","readonly").objectStore("chats").getAllKeys();i.onsuccess=()=>{let o=i.result.reduce((a,u)=>Math.max(+a,+u),0);e(String(+o+1))},i.onerror=()=>r(i.error)})}async function Es(t,e){let r=await Nc(t);if(r.includes(e)){let s=2;for(;r.includes(`${e}-${s}`);)s++;return`${e}-${s}`}else return e}async function Nc(t){return new Promise((e,r)=>{let n=t.transaction("chats","readonly").objectStore("chats"),i=[],o=n.openCursor();o.onsuccess=a=>{let u=a.target.result;u?(i.push(u.value.urlId),u.continue()):e(i)},o.onerror=()=>{r(o.error)}})}async function Yh(t,e,r){let s=await _t(t,e);if(!s)throw new Error("Chat not found");let n=s.messages.findIndex(o=>o.id===r);if(n===-1)throw new Error("Message not found");let i=s.messages.slice(0,n+1);return fr(t,s.description?`${s.description} (fork)`:"Forked chat",i)}async function xo(t,e){let r=await _t(t,e);if(!r)throw new Error("Chat not found");return fr(t,`${r.description||"Chat"} (copy)`,r.messages)}async function fr(t,e,r,s){let n=await _s(t),i=await Es(t,n);return await Ut(t,n,r,i,e,void 0,s),i}async function Xh(t,e,r){let s=await _t(t,e);if(!s)throw new Error("Chat not found");if(!r.trim())throw new Error("Description cannot be empty");await Ut(t,e,s.messages,s.urlId,r,s.timestamp,s.metadata)}async function Ao(t,e){return new Promise((r,s)=>{let o=t.transaction("snapshots","readonly").objectStore("snapshots").get(e);o.onsuccess=()=>r(o.result?.snapshot),o.onerror=()=>s(o.error)})}async function Io(t,e,r){return new Promise((s,n)=>{let a=t.transaction("snapshots","readwrite").objectStore("snapshots").put({chatId:e,snapshot:r});a.onsuccess=()=>s(),a.onerror=()=>n(a.error)})}var $e=st(oa(),1);var Po="vercel.ai.error",Bc=Symbol.for(Po),Co,$c=class Ro extends Error{constructor({name:e,message:r,cause:s}){super(r),this[Co]=!0,this.name=e,this.cause=s}static isInstance(e){return Ro.hasMarker(e,Po)}static hasMarker(e,r){let s=Symbol.for(r);return e!=null&&typeof e=="object"&&s in e&&typeof e[s]=="boolean"&&e[s]===!0}};Co=Bc;var Je=$c,zc="AI_APICallError",qc=`vercel.ai.error.${zc}`,Wc=Symbol.for(qc),Hc;Hc=Wc;var Vc="AI_EmptyResponseBodyError",Jc=`vercel.ai.error.${Vc}`,Zc=Symbol.for(Jc),Kc;Kc=Zc;function Oo(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var Fo="AI_InvalidArgumentError",Do=`vercel.ai.error.${Fo}`,Yc=Symbol.for(Do),Go,Uo=class extends Je{constructor({message:t,cause:e,argument:r}){super({name:Fo,message:t,cause:e}),this[Go]=!0,this.argument=r}static isInstance(t){return Je.hasMarker(t,Do)}};Go=Yc;var Xc="AI_InvalidPromptError",Qc=`vercel.ai.error.${Xc}`,el=Symbol.for(Qc),tl;tl=el;var rl="AI_InvalidResponseDataError",sl=`vercel.ai.error.${rl}`,nl=Symbol.for(sl),ol;ol=nl;var jo="AI_JSONParseError",Lo=`vercel.ai.error.${jo}`,il=Symbol.for(Lo),Mo,Ss=class extends Je{constructor({text:t,cause:e}){super({name:jo,message:`JSON parsing failed: Text: ${t}.
Error message: ${Oo(e)}`,cause:e}),this[Mo]=!0,this.text=t}static isInstance(t){return Je.hasMarker(t,Lo)}};Mo=il;var al="AI_LoadAPIKeyError",cl=`vercel.ai.error.${al}`,ll=Symbol.for(cl),ul;ul=ll;var pl="AI_LoadSettingError",dl=`vercel.ai.error.${pl}`,fl=Symbol.for(dl),ml;ml=fl;var hl="AI_NoContentGeneratedError",gl=`vercel.ai.error.${hl}`,yl=Symbol.for(gl),wl;wl=yl;var bl="AI_NoSuchModelError",vl=`vercel.ai.error.${bl}`,_l=Symbol.for(vl),El;El=_l;var Tl="AI_TooManyEmbeddingValuesForCallError",Sl=`vercel.ai.error.${Tl}`,kl=Symbol.for(Sl),xl;xl=kl;var No="AI_TypeValidationError",Bo=`vercel.ai.error.${No}`,Al=Symbol.for(Bo),$o,Il=class Ts extends Je{constructor({value:e,cause:r}){super({name:No,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${Oo(r)}`,cause:r}),this[$o]=!0,this.value=e}static isInstance(e){return Je.hasMarker(e,Bo)}static wrap({value:e,cause:r}){return Ts.isInstance(r)&&r.value===e?r:new Ts({value:e,cause:r})}};$o=Al;var mr=Il,Pl="AI_UnsupportedFunctionalityError",Cl=`vercel.ai.error.${Pl}`,Rl=Symbol.for(Cl),Ol;Ol=Rl;var qo=st(ia(),1);function zo(t){return new ReadableStream({async pull(e){try{let{value:r,done:s}=await t.next();s?e.close():e.enqueue(r)}catch(r){e.error(r)}},cancel(){}})}var Ue=({prefix:t,size:e=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:s="-"}={})=>{let n=Ys(r,e);if(t==null)return n;if(r.includes(s))throw new Uo({argument:"separator",message:`The separator "${s}" must not be part of the alphabet "${r}".`});return i=>`${t}${s}${n(i)}`},rt=Ue();var jt=Symbol.for("vercel.ai.validator");function Fl(t){return{[jt]:!0,validate:t}}function Dl(t){return typeof t=="object"&&t!==null&&jt in t&&t[jt]===!0&&"validate"in t}function Gl(t){return Dl(t)?t:Ul(t)}function Ul(t){return Fl(e=>{let r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function ks({value:t,schema:e}){let r=Gl(e);try{if(r.validate==null)return{success:!0,value:t};let s=r.validate(t);return s.success?s:{success:!1,error:mr.wrap({value:t,cause:s.error})}}catch(s){return{success:!1,error:mr.wrap({value:t,cause:s})}}}function Et({text:t,schema:e}){try{let r=qo.default.parse(t);if(e==null)return{success:!0,value:r,rawValue:r};let s=ks({value:r,schema:e});return s.success?{...s,rawValue:r}:s}catch(r){return{success:!1,error:Ss.isInstance(r)?r:new Ss({text:t,cause:r})}}}var{btoa:ag,atob:cg}=globalThis;var Ho=Symbol("Let zodToJsonSchema decide on which parser to use");var Wo={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Vo=t=>typeof t=="string"?{...Wo,name:t}:{...Wo,...t};var Jo=t=>{let e=Vo(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,n])=>[n._def,{def:n._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}};function xs(t,e,r,s){s?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function de(t,e,r,s,n){t[e]=r,xs(t,e,s,n)}var hr=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};function _e(t){if(t.target!=="openAi")return{};let e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?hr(e,t.currentPath):e.join("/")}}function Zo(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==ae.ZodAny&&(r.items=oe(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&de(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&de(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(de(r,"minItems",t.exactLength.value,t.exactLength.message,e),de(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Ko(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?de(r,"minimum",s.value,s.message,e):de(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),de(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?de(r,"maximum",s.value,s.message,e):de(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),de(r,"maximum",s.value,s.message,e));break;case"multipleOf":de(r,"multipleOf",s.value,s.message,e);break}return r}function Yo(){return{type:"boolean"}}function gr(t,e){return oe(t.type._def,e)}var Xo=(t,e)=>oe(t.innerType._def,e);function As(t,e,r){let s=r??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((n,i)=>As(t,e,n))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return jl(t,e)}}var jl=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let s of t.checks)switch(s.kind){case"min":de(r,"minimum",s.value,s.message,e);break;case"max":de(r,"maximum",s.value,s.message,e);break}return r};function Qo(t,e){return{...oe(t.innerType._def,e),default:t.defaultValue()}}function ei(t,e){return e.effectStrategy==="input"?oe(t.schema._def,e):_e(e)}function ti(t){return{type:"string",enum:Array.from(t.values)}}var Ll=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function ri(t,e){let r=[oe(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),oe(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,n=[];return r.forEach(i=>{if(Ll(i))n.push(...i.allOf),i.unevaluatedProperties===void 0&&(s=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:a,...u}=i;o=u}else s=void 0;n.push(o)}}),n.length?{allOf:n,...s}:void 0}function si(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var Is,Le={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Is===void 0&&(Is=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Is),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function yr(t,e){let r={type:"string"};if(t.checks)for(let s of t.checks)switch(s.kind){case"min":de(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e);break;case"max":de(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Me(r,"email",s.message,e);break;case"format:idn-email":Me(r,"idn-email",s.message,e);break;case"pattern:zod":Ce(r,Le.email,s.message,e);break}break;case"url":Me(r,"uri",s.message,e);break;case"uuid":Me(r,"uuid",s.message,e);break;case"regex":Ce(r,s.regex,s.message,e);break;case"cuid":Ce(r,Le.cuid,s.message,e);break;case"cuid2":Ce(r,Le.cuid2,s.message,e);break;case"startsWith":Ce(r,RegExp(`^${Ps(s.value,e)}`),s.message,e);break;case"endsWith":Ce(r,RegExp(`${Ps(s.value,e)}$`),s.message,e);break;case"datetime":Me(r,"date-time",s.message,e);break;case"date":Me(r,"date",s.message,e);break;case"time":Me(r,"time",s.message,e);break;case"duration":Me(r,"duration",s.message,e);break;case"length":de(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,e),de(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,e);break;case"includes":{Ce(r,RegExp(Ps(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&Me(r,"ipv4",s.message,e),s.version!=="v4"&&Me(r,"ipv6",s.message,e);break}case"base64url":Ce(r,Le.base64url,s.message,e);break;case"jwt":Ce(r,Le.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&Ce(r,Le.ipv4Cidr,s.message,e),s.version!=="v4"&&Ce(r,Le.ipv6Cidr,s.message,e);break}case"emoji":Ce(r,Le.emoji(),s.message,e);break;case"ulid":{Ce(r,Le.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Me(r,"binary",s.message,e);break}case"contentEncoding:base64":{de(r,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Ce(r,Le.base64,s.message,e);break}}break}case"nanoid":Ce(r,Le.nanoid,s.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:(n=>{})(s)}return r}function Ps(t,e){return e.patternStrategy==="escape"?Nl(t):t}var Ml=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Nl(t){let e="";for(let r=0;r<t.length;r++)Ml.has(t[r])||(e+="\\"),e+=t[r];return e}function Me(t,e,r,s){t.format||t.anyOf?.some(n=>n.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&s.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&s.errorMessages&&{errorMessage:{format:r}}})):de(t,"format",e,r,s)}function Ce(t,e,r,s){t.pattern||t.allOf?.some(n=>n.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&s.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:ni(e,s),...r&&s.errorMessages&&{errorMessage:{pattern:r}}})):de(t,"pattern",ni(e,s),r,s)}function ni(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source,n="",i=!1,o=!1,a=!1;for(let u=0;u<s.length;u++){if(i){n+=s[u],i=!1;continue}if(r.i){if(o){if(s[u].match(/[a-z]/)){a?(n+=s[u],n+=`${s[u-2]}-${s[u]}`.toUpperCase(),a=!1):s[u+1]==="-"&&s[u+2]?.match(/[a-z]/)?(n+=s[u],a=!0):n+=`${s[u]}${s[u].toUpperCase()}`;continue}}else if(s[u].match(/[a-z]/)){n+=`[${s[u]}${s[u].toUpperCase()}]`;continue}}if(r.m){if(s[u]==="^"){n+=`(^|(?<=[\r
]))`;continue}else if(s[u]==="$"){n+=`($|(?=[\r
]))`;continue}}if(r.s&&s[u]==="."){n+=o?`${s[u]}\r
`:`[${s[u]}\r
]`;continue}n+=s[u],s[u]==="\\"?i=!0:o&&s[u]==="]"?o=!1:!o&&s[u]==="["&&(o=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return n}function wr(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===ae.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((s,n)=>({...s,[n]:oe(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",n]})??_e(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:oe(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===ae.ZodString&&t.keyType._def.checks?.length){let{type:s,...n}=yr(t.keyType._def,e);return{...r,propertyNames:n}}else{if(t.keyType?._def.typeName===ae.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===ae.ZodBranded&&t.keyType._def.type._def.typeName===ae.ZodString&&t.keyType._def.type._def.checks?.length){let{type:s,...n}=gr(t.keyType._def,e);return{...r,propertyNames:n}}}return r}function oi(t,e){if(e.mapStrategy==="record")return wr(t,e);let r=oe(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||_e(e),s=oe(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||_e(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,s],minItems:2,maxItems:2}}}function ii(t){let e=t.values,s=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),n=Array.from(new Set(s.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:s}}function ai(t){return t.target==="openAi"?void 0:{not:_e({...t,currentPath:[...t.currentPath,"not"]})}}function ci(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Lt={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ui(t,e){if(e.target==="openApi3")return li(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(s=>s._def.typeName in Lt&&(!s._def.checks||!s._def.checks.length))){let s=r.reduce((n,i)=>{let o=Lt[i._def.typeName];return o&&!n.includes(o)?[...n,o]:n},[]);return{type:s.length>1?s:s[0]}}else if(r.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){let s=r.reduce((n,i)=>{let o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...n,o];case"bigint":return[...n,"integer"];case"object":if(i._def.value===null)return[...n,"null"];case"symbol":case"undefined":case"function":default:return n}},[]);if(s.length===r.length){let n=s.filter((i,o,a)=>a.indexOf(i)===o);return{type:n.length>1?n:n[0],enum:r.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(r.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((s,n)=>[...s,...n._def.values.filter(i=>!s.includes(i))],[])};return li(t,e)}var li=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((s,n)=>oe(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${n}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return r.length?{anyOf:r}:void 0};function pi(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Lt[t.innerType._def.typeName],nullable:!0}:{type:[Lt[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let s=oe(t.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}let r=oe(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function di(t,e){let r={type:"number"};if(!t.checks)return r;for(let s of t.checks)switch(s.kind){case"int":r.type="integer",xs(r,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?de(r,"minimum",s.value,s.message,e):de(r,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(r.exclusiveMinimum=!0),de(r,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?de(r,"maximum",s.value,s.message,e):de(r,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(r.exclusiveMaximum=!0),de(r,"maximum",s.value,s.message,e));break;case"multipleOf":de(r,"multipleOf",s.value,s.message,e);break}return r}function fi(t,e){let r=e.target==="openAi",s={type:"object",properties:{}},n=[],i=t.shape();for(let a in i){let u=i[a];if(u===void 0||u._def===void 0)continue;let h=$l(u);h&&r&&(u._def.typeName==="ZodOptional"&&(u=u._def.innerType),u.isNullable()||(u=u.nullable()),h=!1);let m=oe(u._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});m!==void 0&&(s.properties[a]=m,h||n.push(a))}n.length&&(s.required=n);let o=Bl(t,e);return o!==void 0&&(s.additionalProperties=o),s}function Bl(t,e){if(t.catchall._def.typeName!=="ZodNever")return oe(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function $l(t){try{return t.isOptional()}catch{return!0}}var mi=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return oe(t.innerType._def,e);let r=oe(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:_e(e)},r]}:_e(e)};var hi=(t,e)=>{if(e.pipeStrategy==="input")return oe(t.in._def,e);if(e.pipeStrategy==="output")return oe(t.out._def,e);let r=oe(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=oe(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(n=>n!==void 0)}};function gi(t,e){return oe(t.type._def,e)}function yi(t,e){let s={type:"array",uniqueItems:!0,items:oe(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&de(s,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&de(s,"maxItems",t.maxSize.value,t.maxSize.message,e),s}function wi(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,s)=>oe(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[]),additionalItems:oe(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,s)=>oe(r._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[])}}function bi(t){return{not:_e(t)}}function vi(t){return _e(t)}var _i=(t,e)=>oe(t.innerType._def,e);var Ei=(t,e,r)=>{switch(e){case ae.ZodString:return yr(t,r);case ae.ZodNumber:return di(t,r);case ae.ZodObject:return fi(t,r);case ae.ZodBigInt:return Ko(t,r);case ae.ZodBoolean:return Yo();case ae.ZodDate:return As(t,r);case ae.ZodUndefined:return bi(r);case ae.ZodNull:return ci(r);case ae.ZodArray:return Zo(t,r);case ae.ZodUnion:case ae.ZodDiscriminatedUnion:return ui(t,r);case ae.ZodIntersection:return ri(t,r);case ae.ZodTuple:return wi(t,r);case ae.ZodRecord:return wr(t,r);case ae.ZodLiteral:return si(t,r);case ae.ZodEnum:return ti(t);case ae.ZodNativeEnum:return ii(t);case ae.ZodNullable:return pi(t,r);case ae.ZodOptional:return mi(t,r);case ae.ZodMap:return oi(t,r);case ae.ZodSet:return yi(t,r);case ae.ZodLazy:return()=>t.getter()._def;case ae.ZodPromise:return gi(t,r);case ae.ZodNaN:case ae.ZodNever:return ai(r);case ae.ZodEffects:return ei(t,r);case ae.ZodAny:return _e(r);case ae.ZodUnknown:return vi(r);case ae.ZodDefault:return Qo(t,r);case ae.ZodBranded:return gr(t,r);case ae.ZodReadonly:return _i(t,r);case ae.ZodCatch:return Xo(t,r);case ae.ZodPipeline:return hi(t,r);case ae.ZodFunction:case ae.ZodVoid:case ae.ZodSymbol:return;default:return(s=>{})(e)}};function oe(t,e,r=!1){let s=e.seen.get(t);if(e.override){let a=e.override?.(t,e,s,r);if(a!==Ho)return a}if(s&&!r){let a=zl(s,e);if(a!==void 0)return a}let n={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,n);let i=Ei(t,t.typeName,e),o=typeof i=="function"?oe(i(),e):i;if(o&&ql(t,e,o),e.postProcess){let a=e.postProcess(o,t,e);return n.jsonSchema=o,a}return n.jsonSchema=o,o}var zl=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:hr(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),_e(e)):e.$refStrategy==="seen"?_e(e):void 0}},ql=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var Ti=(t,e)=>{let r=Jo(e),s=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[h,m])=>({...u,[h]:oe(m._def,{...r,currentPath:[...r.basePath,r.definitionPath,h]},!0)??_e(r)}),{}):void 0,n=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=oe(t._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??_e(r),o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(i.title=o),r.flags.hasReferencedOpenAiAnyType&&(s||(s={}),s[r.openAiAnyTypeName]||(s[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let a=n===void 0?s?{...i,[r.definitionPath]:s}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...s,[n]:i}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};var Si=Ti;var Mt={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Nt={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},Bt={code:"4",name:"assistant_message",parse:t=>{if(t==null||typeof t!="object"||!("id"in t)||!("role"in t)||!("content"in t)||typeof t.id!="string"||typeof t.role!="string"||t.role!=="assistant"||!Array.isArray(t.content)||!t.content.every(e=>e!=null&&typeof e=="object"&&"type"in e&&e.type==="text"&&"text"in e&&e.text!=null&&typeof e.text=="object"&&"value"in e.text&&typeof e.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:t}}},$t={code:"5",name:"assistant_control_data",parse:t=>{if(t==null||typeof t!="object"||!("threadId"in t)||!("messageId"in t)||typeof t.threadId!="string"||typeof t.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:t.threadId,messageId:t.messageId}}}},zt={code:"6",name:"data_message",parse:t=>{if(t==null||typeof t!="object"||!("role"in t)||!("data"in t)||typeof t.role!="string"||t.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:t}}},Wl=[Mt,Nt,Bt,$t,zt],rb={[Mt.code]:Mt,[Nt.code]:Nt,[Bt.code]:Bt,[$t.code]:$t,[zt.code]:zt},sb={[Mt.name]:Mt.code,[Nt.name]:Nt.code,[Bt.name]:Bt.code,[$t.name]:$t.code,[zt.name]:zt.code},nb=Wl.map(t=>t.code);function Hl({promptTokens:t,completionTokens:e}){return{promptTokens:t,completionTokens:e,totalTokens:t+e}}function Vl(t){let e=["ROOT"],r=-1,s=null;function n(u,h,m){switch(u){case'"':{r=h,e.pop(),e.push(m),e.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=h,s=h,e.pop(),e.push(m),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(m),e.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=h,e.pop(),e.push(m),e.push("INSIDE_NUMBER");break}case"{":{r=h,e.pop(),e.push(m),e.push("INSIDE_OBJECT_START");break}case"[":{r=h,e.pop(),e.push(m),e.push("INSIDE_ARRAY_START");break}}}function i(u,h){switch(u){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=h,e.pop();break}}}function o(u,h){switch(u){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=h,e.pop();break}}}for(let u=0;u<t.length;u++){let h=t[u];switch(e[e.length-1]){case"ROOT":n(h,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(h){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}case"}":{r=u,e.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(h){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(h){case'"':{e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(h){case":":{e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{n(h,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(h,u);break}case"INSIDE_STRING":{switch(h){case'"':{e.pop(),r=u;break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:r=u}break}case"INSIDE_ARRAY_START":{switch(h){case"]":{r=u,e.pop();break}default:{r=u,n(h,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(h){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=u,e.pop();break}default:{r=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{n(h,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),r=u;break}case"INSIDE_NUMBER":{switch(h){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=u;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(h,u),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(h,u);break}case"}":{e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(h,u);break}case"]":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(h,u);break}default:{e.pop();break}}break}case"INSIDE_LITERAL":{let p=t.substring(s,u+1);!"false".startsWith(p)&&!"true".startsWith(p)&&!"null".startsWith(p)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(h,u):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(h,u)):r=u;break}}}let a=t.slice(0,r+1);for(let u=e.length-1;u>=0;u--)switch(e[u]){case"INSIDE_STRING":{a+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{a+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{a+="]";break}case"INSIDE_LITERAL":{let m=t.substring(s,t.length);"true".startsWith(m)?a+="true".slice(m.length):"false".startsWith(m)?a+="false".slice(m.length):"null".startsWith(m)&&(a+="null".slice(m.length))}}return a}function Rs(t){if(t===void 0)return{value:void 0,state:"undefined-input"};let e=Et({text:t});return e.success?{value:e.value,state:"successful-parse"}:(e=Et({text:Vl(t)}),e.success?{value:e.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Jl={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Zl={code:"2",name:"data",parse:t=>{if(!Array.isArray(t))throw new Error('"data" parts expect an array value.');return{type:"data",value:t}}},Kl={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},Yl={code:"8",name:"message_annotations",parse:t=>{if(!Array.isArray(t))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:t}}},Xl={code:"9",name:"tool_call",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string"||!("args"in t)||typeof t.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:t}}},Ql={code:"a",name:"tool_result",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("result"in t))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:t}}},eu={code:"b",name:"tool_call_streaming_start",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:t}}},tu={code:"c",name:"tool_call_delta",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("argsTextDelta"in t)||typeof t.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:t}}},ru={code:"d",name:"finish_message",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let e={finishReason:t.finishReason};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),{type:"finish_message",value:e}}},su={code:"e",name:"finish_step",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let e={finishReason:t.finishReason,isContinued:!1};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),"isContinued"in t&&typeof t.isContinued=="boolean"&&(e.isContinued=t.isContinued),{type:"finish_step",value:e}}},nu={code:"f",name:"start_step",parse:t=>{if(t==null||typeof t!="object"||!("messageId"in t)||typeof t.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:t.messageId}}}},ou={code:"g",name:"reasoning",parse:t=>{if(typeof t!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:t}}},iu={code:"h",name:"source",parse:t=>{if(t==null||typeof t!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:t}}},au={code:"i",name:"redacted_reasoning",parse:t=>{if(t==null||typeof t!="object"||!("data"in t)||typeof t.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:t.data}}}},cu={code:"j",name:"reasoning_signature",parse:t=>{if(t==null||typeof t!="object"||!("signature"in t)||typeof t.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:t.signature}}}},lu={code:"k",name:"file",parse:t=>{if(t==null||typeof t!="object"||!("data"in t)||typeof t.data!="string"||!("mimeType"in t)||typeof t.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:t}}},br=[Jl,Zl,Kl,Yl,Xl,Ql,eu,tu,ru,su,nu,ou,iu,au,cu,lu],uu=Object.fromEntries(br.map(t=>[t.code,t])),ab=Object.fromEntries(br.map(t=>[t.name,t.code])),pu=br.map(t=>t.code),du=t=>{let e=t.indexOf(":");if(e===-1)throw new Error("Failed to parse stream string. No separator found.");let r=t.slice(0,e);if(!pu.includes(r))throw new Error(`Failed to parse stream string. Invalid code ${r}.`);let s=r,n=t.slice(e+1),i=JSON.parse(n);return uu[s].parse(i)};function vr(t,e){let r=br.find(s=>s.name===t);if(!r)throw new Error(`Invalid stream part type: ${t}`);return`${r.code}:${JSON.stringify(e)}
`}var fu=`
`.charCodeAt(0);function mu(t,e){let r=new Uint8Array(e),s=0;for(let n of t)r.set(n,s),s+=n.length;return t.length=0,r}async function hu({stream:t,onTextPart:e,onReasoningPart:r,onReasoningSignaturePart:s,onRedactedReasoningPart:n,onSourcePart:i,onFilePart:o,onDataPart:a,onErrorPart:u,onToolCallStreamingStartPart:h,onToolCallDeltaPart:m,onToolCallPart:p,onToolResultPart:v,onMessageAnnotationsPart:d,onFinishMessagePart:g,onFinishStepPart:b,onStartStepPart:_}){let S=t.getReader(),A=new TextDecoder,x=[],C=0;for(;;){let{value:R}=await S.read();if(R&&(x.push(R),C+=R.length,R[R.length-1]!==fu))continue;if(x.length===0)break;let O=mu(x,C);C=0;let G=A.decode(O,{stream:!0}).split(`
`).filter(W=>W!=="").map(du);for(let{type:W,value:K}of G)switch(W){case"text":await e?.(K);break;case"reasoning":await r?.(K);break;case"reasoning_signature":await s?.(K);break;case"redacted_reasoning":await n?.(K);break;case"file":await o?.(K);break;case"source":await i?.(K);break;case"data":await a?.(K);break;case"error":await u?.(K);break;case"message_annotations":await d?.(K);break;case"tool_call_streaming_start":await h?.(K);break;case"tool_call_delta":await m?.(K);break;case"tool_call":await p?.(K);break;case"tool_result":await v?.(K);break;case"finish_message":await g?.(K);break;case"finish_step":await b?.(K);break;case"start_step":await _?.(K);break;default:{let I=W;throw new Error(`Unknown stream part type: ${I}`)}}}}async function gu({stream:t,update:e,onToolCall:r,onFinish:s,generateId:n=rt,getCurrentDate:i=()=>new Date,lastMessage:o}){var a,u;let h=o?.role==="assistant",m=h?1+((u=(a=o.toolInvocations)==null?void 0:a.reduce((O,G)=>{var W;return Math.max(O,(W=G.step)!=null?W:0)},0))!=null?u:0):0,p=h?structuredClone(o):{id:n(),createdAt:i(),role:"assistant",content:"",parts:[]},v,d,g;function b(O,G){let W=p.parts.find(K=>K.type==="tool-invocation"&&K.toolInvocation.toolCallId===O);W!=null?W.toolInvocation=G:p.parts.push({type:"tool-invocation",toolInvocation:G})}let _=[],S=h?o?.annotations:void 0,A={},x={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},C="unknown";function R(){let O=[..._];S?.length&&(p.annotations=S);let G={...structuredClone(p),revisionId:n()};e({message:G,data:O,replaceLastMessage:h})}await hu({stream:t,onTextPart(O){v==null?(v={type:"text",text:O},p.parts.push(v)):v.text+=O,p.content+=O,R()},onReasoningPart(O){var G;g==null?(g={type:"text",text:O},d?.details.push(g)):g.text+=O,d==null?(d={type:"reasoning",reasoning:O,details:[g]},p.parts.push(d)):d.reasoning+=O,p.reasoning=((G=p.reasoning)!=null?G:"")+O,R()},onReasoningSignaturePart(O){g!=null&&(g.signature=O.signature)},onRedactedReasoningPart(O){d==null&&(d={type:"reasoning",reasoning:"",details:[]},p.parts.push(d)),d.details.push({type:"redacted",data:O.data}),g=void 0,R()},onFilePart(O){p.parts.push({type:"file",mimeType:O.mimeType,data:O.data}),R()},onSourcePart(O){p.parts.push({type:"source",source:O}),R()},onToolCallStreamingStartPart(O){p.toolInvocations==null&&(p.toolInvocations=[]),A[O.toolCallId]={text:"",step:m,toolName:O.toolName,index:p.toolInvocations.length};let G={state:"partial-call",step:m,toolCallId:O.toolCallId,toolName:O.toolName,args:void 0};p.toolInvocations.push(G),b(O.toolCallId,G),R()},onToolCallDeltaPart(O){let G=A[O.toolCallId];G.text+=O.argsTextDelta;let{value:W}=Rs(G.text),K={state:"partial-call",step:G.step,toolCallId:O.toolCallId,toolName:G.toolName,args:W};p.toolInvocations[G.index]=K,b(O.toolCallId,K),R()},async onToolCallPart(O){let G={state:"call",step:m,...O};if(A[O.toolCallId]!=null?p.toolInvocations[A[O.toolCallId].index]=G:(p.toolInvocations==null&&(p.toolInvocations=[]),p.toolInvocations.push(G)),b(O.toolCallId,G),R(),r){let W=await r({toolCall:O});if(W!=null){let K={state:"result",step:m,...O,result:W};p.toolInvocations[p.toolInvocations.length-1]=K,b(O.toolCallId,K),R()}}},onToolResultPart(O){let G=p.toolInvocations;if(G==null)throw new Error("tool_result must be preceded by a tool_call");let W=G.findIndex(I=>I.toolCallId===O.toolCallId);if(W===-1)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");let K={...G[W],state:"result",...O};G[W]=K,b(O.toolCallId,K),R()},onDataPart(O){_.push(...O),R()},onMessageAnnotationsPart(O){S==null?S=[...O]:S.push(...O),R()},onFinishStepPart(O){m+=1,v=O.isContinued?v:void 0,d=void 0,g=void 0},onStartStepPart(O){h||(p.id=O.messageId),p.parts.push({type:"step-start"}),R()},onFinishMessagePart(O){C=O.finishReason,O.usage!=null&&(x=Hl(O.usage))},onErrorPart(O){throw new Error(O)}}),s?.({message:p,finishReason:C,usage:x})}async function yu({stream:t,onTextPart:e}){let r=t.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:s,value:n}=await r.read();if(s)break;await e(n)}}async function wu({stream:t,update:e,onFinish:r,getCurrentDate:s=()=>new Date,generateId:n=rt}){let i={type:"text",text:""},o={id:n(),createdAt:s(),role:"assistant",content:"",parts:[i]};await yu({stream:t,onTextPart:a=>{o.content+=a,i.text+=a,e({message:{...o},data:[],replaceLastMessage:!1})}}),r?.(o,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var bu=()=>fetch;async function lb({api:t,body:e,streamProtocol:r="data",credentials:s,headers:n,abortController:i,restoreMessagesOnFailure:o,onResponse:a,onUpdate:u,onFinish:h,onToolCall:m,generateId:p,fetch:v=bu(),lastMessage:d,requestType:g="generate"}){var b,_,S;let x=await(g==="resume"?v(`${t}?chatId=${e.id}`,{method:"GET",headers:{"Content-Type":"application/json",...n},signal:(b=i?.())==null?void 0:b.signal,credentials:s}):v(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...n},signal:(_=i?.())==null?void 0:_.signal,credentials:s})).catch(C=>{throw o(),C});if(a)try{await a(x)}catch(C){throw C}if(!x.ok)throw o(),new Error((S=await x.text())!=null?S:"Failed to fetch the chat response.");if(!x.body)throw new Error("The response body is empty.");switch(r){case"text":{await wu({stream:x.body,update:u,onFinish:h,generateId:p});return}case"data":{await gu({stream:x.body,update:u,lastMessage:d,onToolCall:m,onFinish({message:C,finishReason:R,usage:O}){h&&C!=null&&h(C,{usage:O,finishReason:R})},generateId:p});return}default:{let C=r;throw new Error(`Unknown stream protocol: ${C}`)}}}function ki(t){return t?.reduce((e,r)=>{var s;return Math.max(e,(s=r.step)!=null?s:0)},0)}function vu(t){var e;return(e=t.parts)!=null?e:[...t.toolInvocations?t.toolInvocations.map(r=>({type:"tool-invocation",toolInvocation:r})):[],...t.reasoning?[{type:"reasoning",reasoning:t.reasoning,details:[{type:"text",text:t.reasoning}]}]:[],...t.content?[{type:"text",text:t.content}]:[]]}function ub(t){return t.map(e=>({...e,parts:vu(e)}))}function xi(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(typeof t!="object"&&typeof e!="object")return t===e;if(t.constructor!==e.constructor)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Array.isArray(t)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}let r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(let n of r)if(!s.includes(n)||!xi(t[n],e[n]))return!1;return!0}async function pb(t){if(!t)return[];if(globalThis.FileList&&t instanceof globalThis.FileList)return Promise.all(Array.from(t).map(async e=>{let{name:r,type:s}=e,n=await new Promise((i,o)=>{let a=new FileReader;a.onload=u=>{var h;i((h=u.target)==null?void 0:h.result)},a.onerror=u=>o(u),a.readAsDataURL(e)});return{name:r,contentType:s,url:n}}));if(Array.isArray(t))return t;throw new Error("Invalid attachments type")}var db=`
`.charCodeAt(0);function _u(t,e){var r;let s=(r=e?.useReferences)!=null?r:!1;return Eu(Si(t,{$refStrategy:s?"root":"none",target:"jsonSchema7"}),{validate:n=>{let i=t.safeParse(n);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}var Cs=Symbol.for("vercel.ai.schema");function Eu(t,{validate:e}={}){return{[Cs]:!0,_type:void 0,[jt]:!0,jsonSchema:t,validate:e}}function Tu(t){return typeof t=="object"&&t!==null&&Cs in t&&t[Cs]===!0&&"jsonSchema"in t&&"validate"in t}function Ai(t){return Tu(t)?t:_u(t)}function hb({originalMaxToolInvocationStep:t,originalMessageCount:e,maxSteps:r,messages:s}){var n;let i=s[s.length-1];return r>1&&i!=null&&(s.length>e||ki(i.toolInvocations)!==t)&&Su(i)&&((n=ki(i.toolInvocations))!=null?n:0)<r}function Su(t){if(t.role!=="assistant")return!1;let e=t.parts.reduce((s,n,i)=>n.type==="step-start"?i:s,-1),r=t.parts.slice(e+1).filter(s=>s.type==="tool-invocation");return r.length>0&&r.every(s=>"result"in s.toolInvocation)}function gb({messages:t,toolCallId:e,toolResult:r}){var s;let n=t[t.length-1],i=n.parts.find(a=>a.type==="tool-invocation"&&a.toolInvocation.toolCallId===e);if(i==null)return;let o={...i.toolInvocation,state:"result",result:r};i.toolInvocation=o,n.toolInvocations=(s=n.toolInvocations)==null?void 0:s.map(a=>a.toolCallId===e?o:a)}var ku=Object.defineProperty,Fs=(t,e)=>{for(var r in e)ku(t,r,{get:e[r],enumerable:!0})};function Ci(t,{contentType:e,dataStreamVersion:r}){let s=new Headers(t??{});return s.has("Content-Type")||s.set("Content-Type",e),r!==void 0&&s.set("X-Vercel-AI-Data-Stream",r),s}var xu="AI_InvalidArgumentError",Au=`vercel.ai.error.${xu}`,Iu=Symbol.for(Au),Pu;Pu=Iu;var Cu="AI_RetryError",Ru=`vercel.ai.error.${Cu}`,Ou=Symbol.for(Ru),Fu;Fu=Ou;var Du="AI_NoImageGeneratedError",Gu=`vercel.ai.error.${Du}`,Uu=Symbol.for(Gu),ju;ju=Uu;var Ri="AI_NoObjectGeneratedError",Oi=`vercel.ai.error.${Ri}`,Lu=Symbol.for(Oi),Fi,Ii=class extends Je{constructor({message:t="No object generated.",cause:e,text:r,response:s,usage:n,finishReason:i}){super({name:Ri,message:t,cause:e}),this[Fi]=!0,this.text=r,this.response=s,this.usage=n,this.finishReason=i}static isInstance(t){return Je.hasMarker(t,Oi)}};Fi=Lu;var Mu="AI_DownloadError",Nu=`vercel.ai.error.${Mu}`,Bu=Symbol.for(Nu),$u;$u=Bu;var zu="AI_InvalidDataContentError",qu=`vercel.ai.error.${zu}`,Wu=Symbol.for(qu),Hu;Hu=Wu;var Di=D.union([D.string(),D.instanceof(Uint8Array),D.instanceof(ArrayBuffer),D.custom(t=>{var e,r;return(r=(e=globalThis.Buffer)==null?void 0:e.isBuffer(t))!=null?r:!1},{message:"Must be a Buffer"})]);var Vu="AI_InvalidMessageRoleError",Ju=`vercel.ai.error.${Vu}`,Zu=Symbol.for(Ju),Ku;Ku=Zu;var Yu="AI_MessageConversionError",Xu=`vercel.ai.error.${Yu}`,Qu=Symbol.for(Xu),ep;ep=Qu;var Os=D.lazy(()=>D.union([D.null(),D.string(),D.number(),D.boolean(),D.record(D.string(),Os),D.array(Os)])),Se=D.record(D.string(),D.record(D.string(),Os)),tp=D.array(D.union([D.object({type:D.literal("text"),text:D.string()}),D.object({type:D.literal("image"),data:D.string(),mimeType:D.string().optional()})])),Gi=D.object({type:D.literal("text"),text:D.string(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),rp=D.object({type:D.literal("image"),image:D.union([Di,D.instanceof(URL)]),mimeType:D.string().optional(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),Ui=D.object({type:D.literal("file"),data:D.union([Di,D.instanceof(URL)]),filename:D.string().optional(),mimeType:D.string(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),sp=D.object({type:D.literal("reasoning"),text:D.string(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),np=D.object({type:D.literal("redacted-reasoning"),data:D.string(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),op=D.object({type:D.literal("tool-call"),toolCallId:D.string(),toolName:D.string(),args:D.unknown(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),ip=D.object({type:D.literal("tool-result"),toolCallId:D.string(),toolName:D.string(),result:D.unknown(),content:tp.optional(),isError:D.boolean().optional(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),ap=D.object({role:D.literal("system"),content:D.string(),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),cp=D.object({role:D.literal("user"),content:D.union([D.string(),D.array(D.union([Gi,rp,Ui]))]),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),lp=D.object({role:D.literal("assistant"),content:D.union([D.string(),D.array(D.union([Gi,Ui,sp,np,op]))]),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),up=D.object({role:D.literal("tool"),content:D.array(ip),providerOptions:Se.optional(),experimental_providerMetadata:Se.optional()}),Ab=D.union([ap,cp,lp,up]);var pp="JSON schema:",dp="You MUST answer with a JSON object that matches the JSON schema above.",fp="You MUST answer with JSON.";function mp({prompt:t,schema:e,schemaPrefix:r=e!=null?pp:void 0,schemaSuffix:s=e!=null?dp:fp}){return[t!=null&&t.length>0?t:void 0,t!=null&&t.length>0?"":void 0,r,e!=null?JSON.stringify(e):void 0,s].filter(n=>n!=null).join(`
`)}var Ib=Ue({prefix:"aiobj",size:24});var Cb=Ue({prefix:"aiobj",size:24});var hp="AI_NoOutputSpecifiedError",gp=`vercel.ai.error.${hp}`,yp=Symbol.for(gp),wp;wp=yp;var bp="AI_ToolExecutionError",vp=`vercel.ai.error.${bp}`,_p=Symbol.for(vp),Ep;Ep=_p;var Tp="AI_InvalidToolArgumentsError",Sp=`vercel.ai.error.${Tp}`,kp=Symbol.for(Sp),xp;xp=kp;var Ap="AI_NoSuchToolError",Ip=`vercel.ai.error.${Ap}`,Pp=Symbol.for(Ip),Cp;Cp=Pp;var Rp="AI_ToolCallRepairError",Op=`vercel.ai.error.${Rp}`,Fp=Symbol.for(Op),Dp;Dp=Fp;var Ob=Ue({prefix:"aitxt",size:24}),Fb=Ue({prefix:"msg",size:24});var Gp={};Fs(Gp,{object:()=>Wp,text:()=>qp});var Up="AI_InvalidStreamPartError",jp=`vercel.ai.error.${Up}`,Lp=Symbol.for(jp),Mp;Mp=Lp;var Np="AI_MCPClientError",Bp=`vercel.ai.error.${Np}`,$p=Symbol.for(Bp),zp;zp=$p;var qp=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:t}){return t},parsePartial({text:t}){return{partial:t}},parseOutput({text:t}){return t}}),Wp=({schema:t})=>{let e=Ai(t);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?e.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:s}){return s.supportsStructuredOutputs?r:mp({prompt:r,schema:e.jsonSchema})},parsePartial({text:r}){let s=Rs(r);switch(s.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:s.value};default:{let n=s.state;throw new Error(`Unsupported parse state: ${n}`)}}},parseOutput({text:r},s){let n=Et({text:r});if(!n.success)throw new Ii({message:"No object generated: could not parse the response.",cause:n.error,text:r,response:s.response,usage:s.usage,finishReason:s.finishReason});let i=ks({value:n.value,schema:e});if(!i.success)throw new Ii({message:"No object generated: response did not match schema.",cause:i.error,text:r,response:s.response,usage:s.usage,finishReason:s.finishReason});return i.value}}};function ji(t,e){let r=t.getReader(),s=e.getReader(),n,i,o=!1,a=!1;async function u(m){try{n==null&&(n=r.read());let p=await n;n=void 0,p.done?m.close():m.enqueue(p.value)}catch(p){m.error(p)}}async function h(m){try{i==null&&(i=s.read());let p=await i;i=void 0,p.done?m.close():m.enqueue(p.value)}catch(p){m.error(p)}}return new ReadableStream({async pull(m){try{if(o){await h(m);return}if(a){await u(m);return}n==null&&(n=r.read()),i==null&&(i=s.read());let{result:p,reader:v}=await Promise.race([n.then(d=>({result:d,reader:r})),i.then(d=>({result:d,reader:s}))]);p.done||m.enqueue(p.value),v===r?(n=void 0,p.done&&(await h(m),o=!0)):(i=void 0,p.done&&(a=!0,await u(m)))}catch(p){m.error(p)}},cancel(){r.cancel(),s.cancel()}})}var jb=Ue({prefix:"aitxt",size:24}),Lb=Ue({prefix:"msg",size:24});var Hp="AI_NoSuchProviderError",Vp=`vercel.ai.error.${Hp}`,Jp=Symbol.for(Vp),Zp;Zp=Jp;var Kp=D.object({name:D.string(),version:D.string()}).passthrough(),Ds=D.object({_meta:D.optional(D.object({}).passthrough())}).passthrough(),qt=Ds,Yp=D.object({method:D.string(),params:D.optional(Ds)}),Xp=D.object({experimental:D.optional(D.object({}).passthrough()),logging:D.optional(D.object({}).passthrough()),prompts:D.optional(D.object({listChanged:D.optional(D.boolean())}).passthrough()),resources:D.optional(D.object({subscribe:D.optional(D.boolean()),listChanged:D.optional(D.boolean())}).passthrough()),tools:D.optional(D.object({listChanged:D.optional(D.boolean())}).passthrough())}).passthrough(),Bb=qt.extend({protocolVersion:D.string(),capabilities:Xp,serverInfo:Kp,instructions:D.optional(D.string())}),Qp=qt.extend({nextCursor:D.optional(D.string())}),ed=D.object({name:D.string(),description:D.optional(D.string()),inputSchema:D.object({type:D.literal("object"),properties:D.optional(D.object({}).passthrough())}).passthrough()}).passthrough(),$b=Qp.extend({tools:D.array(ed)}),td=D.object({type:D.literal("text"),text:D.string()}).passthrough(),rd=D.object({type:D.literal("image"),data:D.string().base64(),mimeType:D.string()}).passthrough(),Li=D.object({uri:D.string(),mimeType:D.optional(D.string())}).passthrough(),sd=Li.extend({text:D.string()}),nd=Li.extend({blob:D.string().base64()}),od=D.object({type:D.literal("resource"),resource:D.union([sd,nd])}).passthrough(),zb=qt.extend({content:D.array(D.union([td,rd,od])),isError:D.boolean().default(!1).optional()}).or(qt.extend({toolResult:D.unknown()})),_r="2.0",id=D.object({jsonrpc:D.literal(_r),id:D.union([D.string(),D.number().int()])}).merge(Yp).strict(),ad=D.object({jsonrpc:D.literal(_r),id:D.union([D.string(),D.number().int()]),result:qt}).strict(),cd=D.object({jsonrpc:D.literal(_r),id:D.union([D.string(),D.number().int()]),error:D.object({code:D.number().int(),message:D.string(),data:D.optional(D.unknown())})}).strict(),ld=D.object({jsonrpc:D.literal(_r)}).merge(D.object({method:D.string(),params:D.optional(Ds)})).strict(),qb=D.union([id,ld,ad,cd]);var ud={};Fs(ud,{mergeIntoDataStream:()=>fd,toDataStream:()=>pd,toDataStreamResponse:()=>dd});function Mi(t={}){let e=new TextEncoder,r="";return new TransformStream({async start(){t.onStart&&await t.onStart()},async transform(s,n){n.enqueue(e.encode(s)),r+=s,t.onToken&&await t.onToken(s),t.onText&&typeof s=="string"&&await t.onText(s)},async flush(){t.onCompletion&&await t.onCompletion(r),t.onFinal&&await t.onFinal(r)}})}function Gs(t,e){return t.pipeThrough(new TransformStream({transform:async(r,s)=>{var n;if(typeof r=="string"){s.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&Pi((n=r.data)==null?void 0:n.chunk,s);return}Pi(r,s)}})).pipeThrough(Mi(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,s)=>{s.enqueue(vr("text",r))}}))}function pd(t,e){return Gs(t,e).pipeThrough(new TextEncoderStream)}function dd(t,e){var r;let s=Gs(t,e?.callbacks).pipeThrough(new TextEncoderStream),n=e?.data,i=e?.init,o=n?ji(n.stream,s):s;return new Response(o,{status:(r=i?.status)!=null?r:200,statusText:i?.statusText,headers:Ci(i?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function fd(t,e){e.dataStream.merge(Gs(t,e.callbacks))}function Pi(t,e){if(typeof t.content=="string")e.enqueue(t.content);else{let r=t.content;for(let s of r)s.type==="text"&&e.enqueue(s.text)}}var md={};Fs(md,{mergeIntoDataStream:()=>yd,toDataStream:()=>hd,toDataStreamResponse:()=>gd});function Us(t,e){let r=wd();return zo(t[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(s,n){n.enqueue(r(s.delta))}})).pipeThrough(Mi(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(s,n)=>{n.enqueue(vr("text",s))}}))}function hd(t,e){return Us(t,e).pipeThrough(new TextEncoderStream)}function gd(t,e={}){var r;let{init:s,data:n,callbacks:i}=e,o=Us(t,i).pipeThrough(new TextEncoderStream),a=n?ji(n.stream,o):o;return new Response(a,{status:(r=s?.status)!=null?r:200,statusText:s?.statusText,headers:Ci(s?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function yd(t,e){e.dataStream.merge(Us(t,e.callbacks))}function wd(){let t=!0;return e=>(t&&(e=e.trimStart(),e&&(t=!1)),e)}var Jb=15*1e3;var Zi=st(Ji(),1),Ud=["node_modules/**",".git/**","dist/**","build/**",".next/**","coverage/**",".cache/**",".vscode/**",".idea/**","**/*.log","**/.DS_Store","**/npm-debug.log*","**/yarn-debug.log*","**/yarn-error.log*"],Xb=1e3,jd=(0,Zi.default)().add(Ud),Ki=()=>Math.random().toString(36).substring(2,15),Qb=async t=>{let r=new Uint8Array(await t.slice(0,1024).arrayBuffer());for(let s=0;s<r.length;s++){let n=r[s];if(n===0||n<32&&n!==9&&n!==10&&n!==13)return!0}return!1},ev=t=>!jd.ignores(t);var tv=(t,e)=>`
<boltArtifact id="${e}" title="User Updated Files">
${Object.keys(t).map(r=>`
<boltAction type="file" filePath="${r}">
${t[r].content}
</boltAction>
`).join(`
`)}
</boltArtifact>
  `;function Ld(t){let e="export CI=true DEBIAN_FRONTEND=noninteractive FORCE_COLOR=0",r=[{pattern:/npx\s+([^@\s]+@?[^\s]*)\s+init/g,replacement:'echo "y" | npx --yes $1 init --defaults --yes'},{pattern:/npx\s+create-([^\s]+)/g,replacement:"npx --yes create-$1 --template default"},{pattern:/npx\s+([^@\s]+@?[^\s]*)\s+add/g,replacement:"npx --yes $1 add --defaults --yes"},{pattern:/npm\s+install(?!\s+--)/g,replacement:"npm install --yes --no-audit --no-fund --silent"},{pattern:/yarn\s+add(?!\s+--)/g,replacement:"yarn add --non-interactive"},{pattern:/pnpm\s+add(?!\s+--)/g,replacement:"pnpm add --yes"}],s=t;return r.forEach(({pattern:n,replacement:i})=>{s=s.replace(n,i)}),`${e} && ${s}`}async function Yi(t){let e=s=>t.some(n=>n.path.endsWith(s)),r=(s,n)=>t.some(i=>i.path.endsWith(s)&&i.content.includes(n));if(e("package.json")){let s=t.find(n=>n.path.endsWith("package.json"));if(!s)return{type:"",setupCommand:"",followupMessage:""};try{let n=JSON.parse(s.content),i=n?.scripts||{},o={...n.dependencies,...n.devDependencies},a=r("components.json","shadcn")||Object.keys(o).some(v=>v.includes("shadcn"))||e("components.json"),h=["dev","start","preview"].find(v=>i[v]),m="npx update-browserslist-db@latest && npm install";a&&(m+=" && npx shadcn@latest init");let p=Ld(m);return h?{type:"Node.js",setupCommand:p,startCommand:`npm run ${h}`,followupMessage:`Found "${h}" script in package.json. Running "npm run ${h}" after installation.`}:{type:"Node.js",setupCommand:p,followupMessage:"Would you like me to inspect package.json to determine the available scripts for running this project?"}}catch(n){return console.error("Error parsing package.json:",n),{type:"",setupCommand:"",followupMessage:""}}}return e("index.html")?{type:"Static",startCommand:"npx --yes serve",followupMessage:""}:{type:"",setupCommand:"",followupMessage:""}}function nv(t){if(!t.setupCommand&&!t.startCommand)return null;let e="";return t.setupCommand&&(e+=`
<boltAction type="shell">${t.setupCommand}</boltAction>`),t.startCommand&&(e+=`
<boltAction type="start">${t.startCommand}</boltAction>
`),{role:"assistant",content:`
${t.followupMessage?`

${t.followupMessage}`:""}
<boltArtifact id="project-setup" title="Project Setup">
${e}
</boltArtifact>`,id:Ki(),createdAt:new Date}}function Md(t){let e=/(<boltArtifact[^>]*>)([\s\S]*?)(<\/boltArtifact>)/g;return t.replace(e,(r,s,n,i)=>{let o=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"),a=i.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`${o}${n}${a}`})}function Nd(t){let e=/(<boltAction[^>]*>)([\s\S]*?)(<\/boltAction>)/g;return t.replace(e,(r,s,n,i)=>{let o=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"),a=i.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`${o}${n}${a}`})}function ov(t){return Md(Nd(t))}function Xi(t){if(!t.setupCommand&&!t.startCommand)return"";let e="";return t.setupCommand&&(e+=`
<boltAction type="shell">${t.setupCommand}</boltAction>`),t.startCommand&&(e+=`
<boltAction type="start">${t.startCommand}</boltAction>
`),e}var ea=!import.meta.env.VITE_DISABLE_PERSISTENCE,xe=ea?await ko():void 0,Tt=Ee(void 0),ft=Ee(void 0),zs=Ee(void 0);function gv(){let t=Vs(),{id:e}=Zs(),[r]=Js(),[s,n]=(0,$e.useState)([]),[i,o]=(0,$e.useState)([]),[a,u]=(0,$e.useState)(!1),[h,m]=(0,$e.useState)();(0,$e.useEffect)(()=>{if(!xe){if(u(!0),ea){let d=new Error("Chat persistence is unavailable");kr.logError("Chat persistence initialization failed",d),je.error("Chat persistence is unavailable")}return}e?Promise.all([_t(xe,e),Ao(xe,e)]).then(async([d,g])=>{if(d&&d.messages.length>0){let b=g||{chatIndex:"",files:{}},_=b.summary,S=r.get("rewindTo"),A=-1,x=S?d.messages.findIndex(G=>G.id===S)+1:d.messages.length,C=d.messages.findIndex(G=>G.id===b.chatIndex);C>=0&&C<x&&(A=C),C>0&&d.messages[C].id==S&&(A=-1);let R=d.messages.slice(A+1,x),O=[];if(A>=0&&(O=d.messages.slice(0,A+1)),n(O),A>0){let G=Object.entries(b?.files||{}).map(([I,B])=>B?.type!=="file"?null:{content:B.content,path:I}).filter(I=>!!I),W=await Yi(G),K=Xi(W);R=[{id:rt(),role:"user",content:"Restore project from snapshot",annotations:["no-store","hidden"]},{id:d.messages[C].id,role:"assistant",content:`Bolt Restored your chat from a snapshot. You can revert this message to load the full chat history.
                  <boltArtifact id="restored-project-setup" title="Restored Project & Setup" type="bundled">
                  ${Object.entries(g?.files||{}).map(([I,B])=>B?.type==="file"?`
                      <boltAction type="file" filePath="${I}">
${B.content}
                      </boltAction>
                      `:"").join(`
`)}
                  ${K} 
                  </boltArtifact>
                  `,annotations:["no-store",..._?[{chatId:d.messages[C].id,type:"chatSummary",summary:_}]:[]]},...R],v(e)}o(R),m(d.urlId),ft.set(d.description),Tt.set(d.id),zs.set(d.metadata)}else t("/",{replace:!0});u(!0)}).catch(d=>{console.error(d),kr.logError("Failed to load chat messages or snapshot",d),je.error("Failed to load chat: "+d.message)}):u(!0)},[e,xe,t,r]);let p=(0,$e.useCallback)(async(d,g,b,_)=>{let S=Tt.get();if(!S||!xe)return;let A={chatIndex:d,files:g,summary:_};try{await Io(xe,S,A)}catch(x){console.error("Failed to save snapshot:",x),je.error("Failed to save chat snapshot.")}},[xe]),v=(0,$e.useCallback)(async(d,g)=>{let b=await qe,_=g||{chatIndex:"",files:{}};_?.files&&(Object.entries(_.files).forEach(async([S,A])=>{S.startsWith(b.workdir)&&(S=S.replace(b.workdir,"")),A?.type==="folder"&&await b.fs.mkdir(S,{recursive:!0})}),Object.entries(_.files).forEach(async([S,A])=>{A?.type==="file"&&(S.startsWith(b.workdir)&&(S=S.replace(b.workdir,"")),await b.fs.writeFile(S,A.content,{encoding:A.isBinary?void 0:"utf8"}))}))},[]);return{ready:!e||a,initialMessages:i,updateChatMestaData:async d=>{let g=Tt.get();if(!(!xe||!g))try{await Ut(xe,g,i,h,ft.get(),void 0,d),zs.set(d)}catch(b){je.error("Failed to update chat metadata"),console.error(b)}},storeMessageHistory:async d=>{if(!xe||d.length===0)return;let{firstArtifact:g}=qs;d=d.filter(x=>!x.annotations?.includes("no-store"));let b=h;if(!h&&g?.id){let x=await Es(xe,g.id);b=x,Qi(x),m(x)}let _,S=d[d.length-1];if(S.role==="assistant"){let C=S.annotations?.filter(R=>R&&typeof R=="object"&&Object.keys(R).includes("type"))||[];C.find(R=>R.type==="chatSummary")&&(_=C.find(R=>R.type==="chatSummary")?.summary)}if(p(d[d.length-1].id,qs.files.get(),b,_),!ft.get()&&g?.title&&ft.set(g?.title),i.length===0&&!Tt.get()){let x=await _s(xe);Tt.set(x),h||Qi(x)}let A=Tt.get();if(!A){console.error("Cannot save messages, chat ID is not set."),je.error("Failed to save chat messages: Chat ID missing.");return}await Ut(xe,A,[...s,...d],h,ft.get(),void 0,zs.get())},duplicateCurrentChat:async d=>{if(!(!xe||!e&&!d))try{let g=await xo(xe,e||d);t(`/chat/${g}`),je.success("Chat duplicated successfully")}catch(g){je.error("Failed to duplicate chat"),console.log(g)}},importChat:async(d,g,b)=>{if(xe)try{let _=await fr(xe,d,g,b);window.location.href=`/chat/${_}`,je.success("Chat imported successfully")}catch(_){_ instanceof Error?je.error("Failed to import chat: "+_.message):je.error("Failed to import chat")}},exportChat:async(d=h)=>{if(!xe||!d)return;let g=await _t(xe,d),b={messages:g.messages,description:g.description,exportDate:new Date().toISOString()},_=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),S=URL.createObjectURL(_),A=document.createElement("a");A.href=S,A.download=`chat-${new Date().toISOString()}.json`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(S)}}}function Qi(t){let e=new URL(window.location.href);e.pathname=`/chat/${t}`,window.history.replaceState({},"",e)}function ta(t,e){let r=null,s=0,n=null;return function(...o){let a=Date.now();if(r=o,a-s<e){n||(n=setTimeout(()=>{n=null,s=Date.now(),r&&(t.apply(this,r),r=null)},e-(a-s)));return}s=a,t.apply(this,o),r=null}}var{saveAs:Bd}=sa.default,Ws=class{#r=new Ot(qe);#e=new ar(qe);#t=new er(this.#e);#s=new cr(qe);#n=new Set;artifacts=Ke({});showWorkbench=Ee(!1);currentView=Ee("code");unsavedFiles=Ee(new Set);actionAlert=Ee(void 0);supabaseAlert=Ee(void 0);deployAlert=Ee(void 0);modifiedFiles=new Set;artifactIdList=[];#i=Promise.resolve();constructor(){}addToExecutionQueue(e){this.#i=this.#i.then(()=>e())}get previews(){return this.#r.previews}get files(){return this.#e.files}get currentDocument(){return this.#t.currentDocument}get selectedFile(){return this.#t.selectedFile}get firstArtifact(){return this.#a(this.artifactIdList[0])}get filesCount(){return this.#e.filesCount}get showTerminal(){return this.#s.showTerminal}get boltTerminal(){return this.#s.boltTerminal}get alert(){return this.actionAlert}clearAlert(){this.actionAlert.set(void 0)}get SupabaseAlert(){return this.supabaseAlert}clearSupabaseAlert(){this.supabaseAlert.set(void 0)}get DeployAlert(){return this.deployAlert}clearDeployAlert(){this.deployAlert.set(void 0)}toggleTerminal(e){this.#s.toggleTerminal(e)}attachTerminal(e){this.#s.attachTerminal(e)}attachBoltTerminal(e){this.#s.attachBoltTerminal(e)}detachTerminal(e){this.#s.detachTerminal(e)}onTerminalResize(e,r){this.#s.onTerminalResize(e,r)}setDocuments(e){if(this.#t.setDocuments(e),this.#e.filesCount>0&&this.currentDocument.get()===void 0){for(let[r,s]of Object.entries(e))if(s?.type==="file"){this.setSelectedFile(r);break}}}setShowWorkbench(e){this.showWorkbench.set(e)}setCurrentDocumentContent(e){let r=this.currentDocument.get()?.filePath;if(!r)return;let s=this.#e.getFile(r)?.content,n=s!==void 0&&s!==e;this.#t.updateFile(r,e);let i=this.currentDocument.get();if(i){let o=this.unsavedFiles.get();if(n&&o.has(i.filePath))return;let a=new Set(o);n?a.add(i.filePath):a.delete(i.filePath),this.unsavedFiles.set(a)}}setCurrentDocumentScrollPosition(e){let r=this.currentDocument.get();if(!r)return;let{filePath:s}=r;this.#t.updateScrollPosition(s,e)}setSelectedFile(e){this.#t.setSelectedFile(e)}async saveFile(e){let s=this.#t.documents.get()[e];if(s===void 0)return;await this.#e.saveFile(e,s.value);let n=new Set(this.unsavedFiles.get());n.delete(e),this.unsavedFiles.set(n)}async saveCurrentDocument(){let e=this.currentDocument.get();e!==void 0&&await this.saveFile(e.filePath)}resetCurrentDocument(){let e=this.currentDocument.get();if(e===void 0)return;let{filePath:r}=e,s=this.#e.getFile(r);s&&this.setCurrentDocumentContent(s.content)}async saveAllFiles(){for(let e of this.unsavedFiles.get())await this.saveFile(e)}getFileModifcations(){return this.#e.getFileModifications()}getModifiedFiles(){return this.#e.getModifiedFiles()}resetAllFileModifications(){this.#e.resetFileModifications()}lockFile(e){return this.#e.lockFile(e)}lockFolder(e){return this.#e.lockFolder(e)}unlockFile(e){return this.#e.unlockFile(e)}unlockFolder(e){return this.#e.unlockFolder(e)}isFileLocked(e){return this.#e.isFileLocked(e)}isFolderLocked(e){return this.#e.isFolderLocked(e)}async createFile(e,r=""){try{let s=await this.#e.createFile(e,r);if(s&&(this.setSelectedFile(e),typeof r=="string"&&r==="")){let n=new Set(this.unsavedFiles.get());n.delete(e),this.unsavedFiles.set(n)}return s}catch(s){throw console.error("Failed to create file:",s),s}}async createFolder(e){try{return await this.#e.createFolder(e)}catch(r){throw console.error("Failed to create folder:",r),r}}async deleteFile(e){try{let s=this.currentDocument.get()?.filePath===e,n=await this.#e.deleteFile(e);if(n){let i=new Set(this.unsavedFiles.get());if(i.has(e)&&(i.delete(e),this.unsavedFiles.set(i)),s){let o=this.files.get(),a;for(let[u,h]of Object.entries(o))if(h?.type==="file"){a=u;break}this.setSelectedFile(a)}}return n}catch(r){throw console.error("Failed to delete file:",r),r}}async deleteFolder(e){try{let s=this.currentDocument.get()?.filePath?.startsWith(e+"/"),n=await this.#e.deleteFolder(e);if(n){let i=this.unsavedFiles.get(),o=new Set;for(let a of i)a.startsWith(e+"/")||o.add(a);if(o.size!==i.size&&this.unsavedFiles.set(o),s){let a=this.files.get(),u;for(let[h,m]of Object.entries(a))if(m?.type==="file"){u=h;break}this.setSelectedFile(u)}}return n}catch(r){throw console.error("Failed to delete folder:",r),r}}abortAllActions(){}setReloadedMessages(e){this.#n=new Set(e)}addArtifact({messageId:e,title:r,id:s,type:n}){this.#a(s)||(this.artifactIdList.includes(s)||this.artifactIdList.push(s),this.artifacts.setKey(s,{id:s,title:r,closed:!1,type:n,runner:new Vt(qe,()=>this.boltTerminal,o=>{this.#n.has(e)||this.actionAlert.set(o)},o=>{this.#n.has(e)||this.supabaseAlert.set(o)},o=>{this.#n.has(e)||this.deployAlert.set(o)})}))}updateArtifact({artifactId:e},r){if(!e)return;let s=this.#a(e);s&&this.artifacts.setKey(e,{...s,...r})}addAction(e){this.addToExecutionQueue(()=>this._addAction(e))}async _addAction(e){let{artifactId:r}=e,s=this.#a(r);return s||Oe("Artifact not found"),s.runner.addAction(e)}runAction(e,r=!1){r?this.actionStreamSampler(e,r):this.addToExecutionQueue(()=>this._runAction(e,r))}async _runAction(e,r=!1){let{artifactId:s}=e,n=this.#a(s);n||Oe("Artifact not found");let i=n.runner.actions.get()[e.actionId];if(!(!i||i.executed))if(e.action.type==="file"){let o=await qe,a=Ie.join(o.workdir,e.action.filePath);this.selectedFile.value!==a&&this.setSelectedFile(a),this.currentView.value!=="code"&&this.currentView.set("code"),this.#t.documents.get()[a]||await n.runner.runAction(e,r),this.#t.updateFile(a,e.action.content),!r&&e.action.content&&await this.saveFile(a),r||(await n.runner.runAction(e),this.resetAllFileModifications())}else await n.runner.runAction(e)}actionStreamSampler=ta(async(e,r=!1)=>await this._runAction(e,r),100);#a(e){return this.artifacts.get()[e]}async downloadZip(){let e=new ra.default,r=this.files.get(),s=(ft.value??"project").toLocaleLowerCase().split(" ").join("_"),n=Date.now().toString(36).slice(-6),i=`${s}_${n}`;for(let[a,u]of Object.entries(r))if(u?.type==="file"&&!u.isBinary){let h=Pt(a),m=h.split("/");if(m.length>1){let p=e;for(let v=0;v<m.length-1;v++)p=p.folder(m[v]);p.file(m[m.length-1],u.content)}else e.file(h,u.content)}let o=await e.generateAsync({type:"blob"});Bd(o,`${i}.zip`)}async syncFiles(e){let r=this.files.get(),s=[];for(let[n,i]of Object.entries(r))if(i?.type==="file"&&!i.isBinary){let o=Pt(n),a=o.split("/"),u=e;for(let p=0;p<a.length-1;p++)u=await u.getDirectoryHandle(a[p],{create:!0});let m=await(await u.getFileHandle(a[a.length-1],{create:!0})).createWritable();await m.write(i.content),await m.close(),s.push(o)}return s}async pushToRepository(e,r,s,n,i,o=!1,a="main"){try{let u=e==="github",h=e==="gitlab",m=i||Tr.get(u?"githubToken":"gitlabToken"),p=n||Tr.get(u?"githubUsername":"gitlabUsername");if(!m||!p)throw new Error(`${e} token or username is not set in cookies or provided.`);let v=this.files.get();if(!v||Object.keys(v).length===0)throw new Error("No files found to push");if(u){let d=new So({auth:m}),g,b=!1;try{if(g=(await d.repos.get({owner:p,repo:r})).data,console.log("Repository already exists, using existing repo"),g.private!==o){console.log(`Updating repository visibility from ${g.private?"private":"public"} to ${o?"private":"public"}`);try{let{data:C}=await d.repos.update({owner:p,repo:r,private:o});console.log("Repository visibility updated successfully"),g=C,b=!0,console.log("Waiting for visibility change to propagate..."),await new Promise(R=>setTimeout(R,3e3))}catch(C){console.error("Failed to update repository visibility:",C)}}}catch(x){if(x instanceof Error&&"status"in x&&x.status===404){console.log(`Creating new repository with private=${o}`);let C={name:r,private:o,auto_init:!0};console.log("Create repo options:",C);let{data:R}=await d.repos.createForAuthenticatedUser(C);console.log("Repository created:",R.html_url,"Private:",R.private),g=R,console.log("Waiting for repository to initialize..."),await new Promise(O=>setTimeout(O,2e3))}else throw console.error("Cannot create repo:",x),x}let _=this.files.get();if(!_||Object.keys(_).length===0)throw new Error("No files found to push");let S=async(x=1)=>{try{console.log(`Pushing files to repository (attempt ${x}/3)...`);let O=(await Promise.all(Object.entries(_).map(async([w,z])=>{if(z?.type==="file"&&z.content){let{data:ne}=await d.git.createBlob({owner:g.owner.login,repo:g.name,content:Buffer.from(z.content).toString("base64"),encoding:"base64"});return{path:Pt(w),sha:ne.sha}}return null}))).filter(Boolean);if(O.length===0)throw new Error("No valid files to push");g=(await d.repos.get({owner:p,repo:r})).data;let{data:W}=await d.git.getRef({owner:g.owner.login,repo:g.name,ref:`heads/${g.default_branch||"main"}`}),K=W.object.sha,{data:I}=await d.git.createTree({owner:g.owner.login,repo:g.name,base_tree:K,tree:O.map(w=>({path:w.path,mode:"100644",type:"blob",sha:w.sha}))}),{data:B}=await d.git.createCommit({owner:g.owner.login,repo:g.name,message:s||"Initial commit from your app",tree:I.sha,parents:[K]});return await d.git.updateRef({owner:g.owner.login,repo:g.name,ref:`heads/${g.default_branch||"main"}`,sha:B.sha}),console.log("Files successfully pushed to repository"),g.html_url}catch(R){if(console.error(`Error during push attempt ${x}:`,R),(b||x===1)&&x<3){let O=x*2e3;return console.log(`Waiting ${O}ms before retry...`),await new Promise(G=>setTimeout(G,O)),S(x+1)}throw R}};return await S()}if(h){let{GitLabApiService:d}=await import("/build/_shared/gitlabApiService-JULK7SEB.js"),g=new d(m,"https://gitlab.com"),b=await g.getProject(p,r);b||(b=await g.createProject(r,o),await new Promise(A=>setTimeout(A,2e3)));let _=await g.getFile(b.id,"README.md",a).catch(()=>null);(!_||!_.ok)&&(await g.createBranch(b.id,a,b.default_branch),await new Promise(A=>setTimeout(A,1e3)));let S=Object.entries(v).reduce((A,[x,C])=>(C?.type==="file"&&C.content&&A.push({action:"create",file_path:Pt(x),content:C.content}),A),[]);for(let A of S)(await g.getFile(b.id,A.file_path,a)).ok&&(A.action="update");return await g.commitFiles(b.id,{branch:a,commit_message:s||"Commit multiple files",actions:S}),b.web_url}throw new Error(`Unsupported provider: ${e}`)}catch(u){throw console.error("Error pushing to repository:",u),u}}},qs=new Ws;export{ko as a,Zh as b,_t as c,Kh as d,Yh as e,Xh as f,rt as g,lb as h,ki as i,vu as j,ub as k,xi as l,pb as m,hb as n,Su as o,gb as p,tn as q,Ie as r,Oe as s,qe as t,Da as u,za as v,Pt as w,Fe as x,_m as y,Gm as z,rs as A,So as B,ta as C,Ws as D,qs as E,Ji as F,Xb as G,Ki as H,Qb as I,ev as J,tv as K,Yi as L,nv as M,ov as N,xe as O,Tt as P,ft as Q,gv as R};
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/

import{a as S,b as P,c as v,d as c,e as G,f as R}from"/build/_shared/chunk-5XC66N2Z.js";import"/build/_shared/chunk-K54UZUX2.js";import"/build/_shared/chunk-VZGL4J3I.js";import"/build/_shared/chunk-GGDPFZ32.js";import{F as V,L as B,M as F,N as I,R as O,g as h}from"/build/_shared/chunk-6CNIBFAS.js";import"/build/_shared/chunk-TETG2QWD.js";import"/build/_shared/chunk-5Z4LRYQI.js";import{e as s}from"/build/_shared/chunk-ZDELG2IZ.js";import{c as g}from"/build/_shared/chunk-QG6SMXA4.js";import"/build/_shared/chunk-O7JZK4EV.js";import"/build/_shared/chunk-JS5LF7HT.js";import"/build/_shared/chunk-AJH6SR5C.js";import"/build/_shared/chunk-44NV7SFW.js";import{a}from"/build/_shared/chunk-7VSEXQFG.js";import{a as U,f as M}from"/build/_shared/chunk-TGGDRRNK.js";import{c as Q,e as n}from"/build/_shared/chunk-XDMRC4Q6.js";var j=Q((tt,$)=>{$.exports={}});var X=n(j(),1);var E=n(V(),1),i=n(U(),1);var e=n(a(),1),W=["node_modules/**",".git/**",".github/**",".vscode/**","**/*.jpg","**/*.jpeg","**/*.png","dist/**","build/**",".next/**","coverage/**",".cache/**",".vscode/**",".idea/**","**/*.log","**/.DS_Store","**/npm-debug.log*","**/yarn-debug.log*","**/yarn-error.log*","**/*lock.yaml"];function T(){let[y]=M(),{ready:l,importChat:w}=O(),{ready:m,gitClone:L}=P(),[b,N]=(0,i.useState)(!1),[_,C]=(0,i.useState)(!0),H=async o=>{if(!(!m&&!l)&&o){let d=(0,E.default)().add(W);try{let{workdir:p,data:x}=await L(o);if(w){let z=Object.keys(x).filter(t=>!d.ignores(t)),q=new TextDecoder("utf-8"),A=z.map(t=>{let{data:u,encoding:K}=x[t];return{path:t,content:K==="utf8"?u:u instanceof Uint8Array?q.decode(u):""}}).filter(t=>t.content),J=await B(A),k=F(J),f=[{role:"assistant",content:`Cloning the repo ${o} into ${p}
<boltArtifact id="imported-files" title="Git Cloned Files"  type="bundled">
${A.map(t=>`<boltAction type="file" filePath="${t.path}">
${I(t.content)}
</boltAction>`).join(`
`)}
</boltArtifact>`,id:h(),createdAt:new Date}];k&&(f.push({role:"user",id:h(),content:"Setup the codebase and Start the application"}),f.push(k)),await w(`Git Project:${o.split("/").slice(-1)[0]}`,f,{gitUrl:o})}}catch(p){console.error("Error during import:",p),g.error("Failed to import repository"),C(!1),window.location.href="/";return}}};return(0,i.useEffect)(()=>{if(!l||!m||b)return;let o=y.get("url");if(!o){window.location.href="/";return}H(o).catch(d=>{console.error("Error importing repo:",d),g.error("Failed to import repository"),C(!1),window.location.href="/"}),N(!0)},[y,l,m,b]),(0,e.jsx)(s,{fallback:(0,e.jsx)(c,{}),children:()=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G,{}),_&&(0,e.jsx)(v,{message:"Please wait while we clone the repository..."})]})})}var r=n(a(),1),Y=()=>[{title:"Bolt"},{name:"description",content:"Talk with Bolt, an AI assistant from StackBlitz"}];function D(){return(0,r.jsxs)("div",{className:"flex flex-col h-full w-full bg-bolt-elements-background-depth-1",children:[(0,r.jsx)(S,{}),(0,r.jsx)(R,{}),(0,r.jsx)(s,{fallback:(0,r.jsx)(c,{}),children:()=>(0,r.jsx)(T,{})})]})}export{D as default,Y as meta};
